"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "themes_game_components_DownloadButton_js";
exports.ids = ["themes_game_components_DownloadButton_js"];
exports.modules = {

/***/ "./themes/game/components/DownloadButton.js":
/*!**************************************************!*\
  !*** ./themes/game/components/DownloadButton.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DownloadButton)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* eslint-disable @next/next/no-img-element */ \n\n/**\n * 下载按钮\n * @returns\n */ function DownloadButton() {\n    const [showButton, setShowButton] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // 判断用户是在PWA中打开，就隐藏\n        const isInStandaloneMode = ()=>window.matchMedia(\"(display-mode: standalone)\").matches || window.navigator.standalone || document.referrer.includes(\"android-app://\");\n        if (\"serviceWorker\" in navigator && !isInStandaloneMode()) {\n            setShowButton(true);\n            window.addEventListener(\"load\", ()=>{\n                navigator.serviceWorker.register(\"/service-worker.js\").then((registration)=>{\n                    console.log(\"Service Worker 注册成功:\", registration);\n                }).catch((error)=>{\n                    console.log(\"Service Worker 注册失败:\", error);\n                });\n            });\n            window.addEventListener(\"beforeinstallprompt\", (event)=>{\n                // 阻止浏览器默认的安装提示\n                event.preventDefault();\n                // 保存安装提示的事件\n                window.deferredPrompt = event;\n                // 在按钮上显示一个标识，提示用户可以安装应用\n                setShowButton(true);\n            });\n        }\n    }, []);\n    /**\n   * 点击后提示用户安装\n   */ function download() {\n        // 检查是否支持安装提示\n        if (window.deferredPrompt) {\n            // 显示安装提示\n            window.deferredPrompt.prompt();\n            // 等待用户做出选择\n            window.deferredPrompt.userChoice.then((choiceResult)=>{\n                if (choiceResult.outcome === \"accepted\") {\n                    // 用户已安装，隐藏按钮\n                    setShowButton(false);\n                    console.log(\"用户已同意安装\");\n                } else {\n                    console.log(\"用户已拒绝安装\");\n                }\n                // 清除安装提示\n                window.deferredPrompt = null;\n            });\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: showButton && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \" justify-center items-center md:flex hidden group text-white w-full rounded-lg m-2 md:m-0 p-2 hover:bg-gray-700 bg-[#1F2030] md:rounded-none md:bg-none\",\n            onClick: download,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    alt: \"download\",\n                    title: \"download\",\n                    className: \"cursor-pointer fas fa-download group-hover:scale-125 transition-all duration-150 \"\n                }, void 0, false, {\n                    fileName: \"/Users/Apple/Documents/GitHub/NotionNext/autos/themes/game/components/DownloadButton.js\",\n                    lineNumber: 72,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"h-full flex mx-2 md:hidden items-center select-none\",\n                    children: \"Download\"\n                }, void 0, false, {\n                    fileName: \"/Users/Apple/Documents/GitHub/NotionNext/autos/themes/game/components/DownloadButton.js\",\n                    lineNumber: 77,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/Apple/Documents/GitHub/NotionNext/autos/themes/game/components/DownloadButton.js\",\n            lineNumber: 69,\n            columnNumber: 9\n        }, this)\n    }, void 0, false);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90aGVtZXMvZ2FtZS9jb21wb25lbnRzL0Rvd25sb2FkQnV0dG9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsNENBQTRDO0FBRUQ7QUFFM0M7OztDQUdDLEdBQ2MsU0FBU0U7SUFDdEIsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUdILCtDQUFRQSxDQUFDO0lBRTdDRCxnREFBU0EsQ0FBQztRQUNSLG1CQUFtQjtRQUNuQixNQUFNSyxxQkFBcUIsSUFDekJDLE9BQU9DLFVBQVUsQ0FBQyw4QkFBOEJDLE9BQU8sSUFDdkRGLE9BQU9HLFNBQVMsQ0FBQ0MsVUFBVSxJQUMzQkMsU0FBU0MsUUFBUSxDQUFDQyxRQUFRLENBQUM7UUFFN0IsSUFBSSxtQkFBbUJKLGFBQWEsQ0FBQ0osc0JBQXNCO1lBQ3pERCxjQUFjO1lBQ2RFLE9BQU9RLGdCQUFnQixDQUFDLFFBQVE7Z0JBQzlCTCxVQUFVTSxhQUFhLENBQ3BCQyxRQUFRLENBQUMsc0JBQ1RDLElBQUksQ0FBQ0MsQ0FBQUE7b0JBQ0pDLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0JGO2dCQUN0QyxHQUNDRyxLQUFLLENBQUNDLENBQUFBO29CQUNMSCxRQUFRQyxHQUFHLENBQUMsd0JBQXdCRTtnQkFDdEM7WUFDSjtZQUVBaEIsT0FBT1EsZ0JBQWdCLENBQUMsdUJBQXVCUyxDQUFBQTtnQkFDN0MsZUFBZTtnQkFDZkEsTUFBTUMsY0FBYztnQkFDcEIsWUFBWTtnQkFDWmxCLE9BQU9tQixjQUFjLEdBQUdGO2dCQUN4Qix3QkFBd0I7Z0JBQ3hCbkIsY0FBYztZQUNoQjtRQUNGO0lBQ0YsR0FBRyxFQUFFO0lBRUw7O0dBRUMsR0FDRCxTQUFTc0I7UUFDUCxhQUFhO1FBQ2IsSUFBSXBCLE9BQU9tQixjQUFjLEVBQUU7WUFDekIsU0FBUztZQUNUbkIsT0FBT21CLGNBQWMsQ0FBQ0UsTUFBTTtZQUM1QixXQUFXO1lBQ1hyQixPQUFPbUIsY0FBYyxDQUFDRyxVQUFVLENBQUNYLElBQUksQ0FBQ1ksQ0FBQUE7Z0JBQ3BDLElBQUlBLGFBQWFDLE9BQU8sS0FBSyxZQUFZO29CQUN2QyxhQUFhO29CQUNiMUIsY0FBYztvQkFDZGUsUUFBUUMsR0FBRyxDQUFDO2dCQUNkLE9BQU87b0JBQ0xELFFBQVFDLEdBQUcsQ0FBQztnQkFDZDtnQkFDQSxTQUFTO2dCQUNUZCxPQUFPbUIsY0FBYyxHQUFHO1lBQzFCO1FBQ0Y7SUFDRjtJQUVBLHFCQUNFO2tCQUNHdEIsNEJBQ0MsOERBQUM0QjtZQUNDQyxXQUFVO1lBQ1ZDLFNBQVNQOzs4QkFDVCw4REFBQ1E7b0JBQ0NDLEtBQUk7b0JBQ0pDLE9BQU07b0JBQ05KLFdBQVU7Ozs7Ozs4QkFFWiw4REFBQ0s7b0JBQUtMLFdBQVU7OEJBQXNEOzs7Ozs7Ozs7Ozs7O0FBT2hGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm90aW9uLW5leHQvLi90aGVtZXMvZ2FtZS9jb21wb25lbnRzL0Rvd25sb2FkQnV0dG9uLmpzPzYwYWEiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgQG5leHQvbmV4dC9uby1pbWctZWxlbWVudCAqL1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5cbi8qKlxuICog5LiL6L295oyJ6ZKuXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEb3dubG9hZEJ1dHRvbigpIHtcbiAgY29uc3QgW3Nob3dCdXR0b24sIHNldFNob3dCdXR0b25dID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyDliKTmlq3nlKjmiLfmmK/lnKhQV0HkuK3miZPlvIDvvIzlsLHpmpDol49cbiAgICBjb25zdCBpc0luU3RhbmRhbG9uZU1vZGUgPSAoKSA9PlxuICAgICAgd2luZG93Lm1hdGNoTWVkaWEoJyhkaXNwbGF5LW1vZGU6IHN0YW5kYWxvbmUpJykubWF0Y2hlcyB8fFxuICAgICAgd2luZG93Lm5hdmlnYXRvci5zdGFuZGFsb25lIHx8XG4gICAgICBkb2N1bWVudC5yZWZlcnJlci5pbmNsdWRlcygnYW5kcm9pZC1hcHA6Ly8nKVxuXG4gICAgaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IgJiYgIWlzSW5TdGFuZGFsb25lTW9kZSgpKSB7XG4gICAgICBzZXRTaG93QnV0dG9uKHRydWUpXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXJcbiAgICAgICAgICAucmVnaXN0ZXIoJy9zZXJ2aWNlLXdvcmtlci5qcycpXG4gICAgICAgICAgLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlIFdvcmtlciDms6jlhozmiJDlip86JywgcmVnaXN0cmF0aW9uKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlIFdvcmtlciDms6jlhozlpLHotKU6JywgZXJyb3IpXG4gICAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmVpbnN0YWxscHJvbXB0JywgZXZlbnQgPT4ge1xuICAgICAgICAvLyDpmLvmraLmtY/op4jlmajpu5jorqTnmoTlronoo4Xmj5DnpLpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAvLyDkv53lrZjlronoo4Xmj5DnpLrnmoTkuovku7ZcbiAgICAgICAgd2luZG93LmRlZmVycmVkUHJvbXB0ID0gZXZlbnRcbiAgICAgICAgLy8g5Zyo5oyJ6ZKu5LiK5pi+56S65LiA5Liq5qCH6K+G77yM5o+Q56S655So5oi35Y+v5Lul5a6J6KOF5bqU55SoXG4gICAgICAgIHNldFNob3dCdXR0b24odHJ1ZSlcbiAgICAgIH0pXG4gICAgfVxuICB9LCBbXSlcblxuICAvKipcbiAgICog54K55Ye75ZCO5o+Q56S655So5oi35a6J6KOFXG4gICAqL1xuICBmdW5jdGlvbiBkb3dubG9hZCgpIHtcbiAgICAvLyDmo4Dmn6XmmK/lkKbmlK/mjIHlronoo4Xmj5DnpLpcbiAgICBpZiAod2luZG93LmRlZmVycmVkUHJvbXB0KSB7XG4gICAgICAvLyDmmL7npLrlronoo4Xmj5DnpLpcbiAgICAgIHdpbmRvdy5kZWZlcnJlZFByb21wdC5wcm9tcHQoKVxuICAgICAgLy8g562J5b6F55So5oi35YGa5Ye66YCJ5oupXG4gICAgICB3aW5kb3cuZGVmZXJyZWRQcm9tcHQudXNlckNob2ljZS50aGVuKGNob2ljZVJlc3VsdCA9PiB7XG4gICAgICAgIGlmIChjaG9pY2VSZXN1bHQub3V0Y29tZSA9PT0gJ2FjY2VwdGVkJykge1xuICAgICAgICAgIC8vIOeUqOaIt+W3suWuieijhe+8jOmakOiXj+aMiemSrlxuICAgICAgICAgIHNldFNob3dCdXR0b24oZmFsc2UpXG4gICAgICAgICAgY29uc29sZS5sb2coJ+eUqOaIt+W3suWQjOaEj+WuieijhScpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+eUqOaIt+W3suaLkue7neWuieijhScpXG4gICAgICAgIH1cbiAgICAgICAgLy8g5riF6Zmk5a6J6KOF5o+Q56S6XG4gICAgICAgIHdpbmRvdy5kZWZlcnJlZFByb21wdCA9IG51bGxcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge3Nob3dCdXR0b24gJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPScganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIG1kOmZsZXggaGlkZGVuIGdyb3VwIHRleHQtd2hpdGUgdy1mdWxsIHJvdW5kZWQtbGcgbS0yIG1kOm0tMCBwLTIgaG92ZXI6YmctZ3JheS03MDAgYmctWyMxRjIwMzBdIG1kOnJvdW5kZWQtbm9uZSBtZDpiZy1ub25lJ1xuICAgICAgICAgIG9uQ2xpY2s9e2Rvd25sb2FkfT5cbiAgICAgICAgICA8aVxuICAgICAgICAgICAgYWx0PSdkb3dubG9hZCdcbiAgICAgICAgICAgIHRpdGxlPSdkb3dubG9hZCdcbiAgICAgICAgICAgIGNsYXNzTmFtZT0nY3Vyc29yLXBvaW50ZXIgZmFzIGZhLWRvd25sb2FkIGdyb3VwLWhvdmVyOnNjYWxlLTEyNSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTAgJ1xuICAgICAgICAgIC8+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdoLWZ1bGwgZmxleCBteC0yIG1kOmhpZGRlbiBpdGVtcy1jZW50ZXIgc2VsZWN0LW5vbmUnPlxuICAgICAgICAgICAgRG93bmxvYWRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8Lz5cbiAgKVxufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiRG93bmxvYWRCdXR0b24iLCJzaG93QnV0dG9uIiwic2V0U2hvd0J1dHRvbiIsImlzSW5TdGFuZGFsb25lTW9kZSIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwibmF2aWdhdG9yIiwic3RhbmRhbG9uZSIsImRvY3VtZW50IiwicmVmZXJyZXIiLCJpbmNsdWRlcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJ0aGVuIiwicmVnaXN0cmF0aW9uIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZGVmZXJyZWRQcm9tcHQiLCJkb3dubG9hZCIsInByb21wdCIsInVzZXJDaG9pY2UiLCJjaG9pY2VSZXN1bHQiLCJvdXRjb21lIiwiZGl2IiwiY2xhc3NOYW1lIiwib25DbGljayIsImkiLCJhbHQiLCJ0aXRsZSIsInNwYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./themes/game/components/DownloadButton.js\n");

/***/ })

};
;