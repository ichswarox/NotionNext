"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_FacebookMessenger_js";
exports.ids = ["components_FacebookMessenger_js"];
exports.modules = {

/***/ "./components/FacebookMessenger.js":
/*!*****************************************!*\
  !*** ./components/FacebookMessenger.js ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Messenger)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"prop-types\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/config */ \"./lib/config.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_config__WEBPACK_IMPORTED_MODULE_3__]);\n_lib_config__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nfunction Messenger() {\n    const pageId = (0,_lib_config__WEBPACK_IMPORTED_MODULE_3__.siteConfig)(\"FACEBOOK_PAGE_ID\");\n    const appId = (0,_lib_config__WEBPACK_IMPORTED_MODULE_3__.siteConfig)(\"FACEBOOK_APP_ID\");\n    const language = (0,_lib_config__WEBPACK_IMPORTED_MODULE_3__.siteConfig)(\"LANG\").replace(\"-\", \"_\");\n    // 新增一个状态变量用于追踪是否已经滚动过\n    const [showMessenger, setShowMessenger] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const showTheComponent = ()=>{\n        window.removeEventListener(\"scroll\", showTheComponent);\n        if (!showMessenger) {\n            setShowMessenger(true);\n        }\n    };\n    // 延时7秒，或页面滚动时加载该组件\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        window.addEventListener(\"scroll\", showTheComponent);\n        setTimeout(()=>{\n            showTheComponent();\n        }, 7000);\n        return ()=>{\n            window.removeEventListener(\"scroll\", showTheComponent);\n        };\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: showMessenger && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MessengerCustomerChat, {\n            pageId: pageId,\n            appId: appId,\n            language: language,\n            shouldShowDialog: true\n        }, void 0, false, {\n            fileName: \"/Users/Apple/Documents/GitHub/NotionNext/autos/components/FacebookMessenger.js\",\n            lineNumber: 32,\n            columnNumber: 27\n        }, this)\n    }, void 0, false);\n}\n/**\n * @see https://github.com/Yoctol/react-messenger-customer-chat\n */ class MessengerCustomerChat extends react__WEBPACK_IMPORTED_MODULE_1__.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            fbLoaded: false,\n            shouldShowDialog: undefined\n        };\n    }\n    /**\n     * 初始化\n     */ componentDidMount() {\n        this.setFbAsyncInit();\n        this.reloadSDKAsynchronously();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.pageId !== this.props.pageId || prevProps.appId !== this.props.appId || prevProps.shouldShowDialog !== this.props.shouldShowDialog || prevProps.htmlRef !== this.props.htmlRef || prevProps.minimized !== this.props.minimized || prevProps.themeColor !== this.props.themeColor || prevProps.loggedInGreeting !== this.props.loggedInGreeting || prevProps.loggedOutGreeting !== this.props.loggedOutGreeting || prevProps.greetingDialogDisplay !== this.props.greetingDialogDisplay || prevProps.greetingDialogDelay !== this.props.greetingDialogDelay || prevProps.autoLogAppEvents !== this.props.autoLogAppEvents || prevProps.xfbml !== this.props.xfbml || prevProps.version !== this.props.version || prevProps.language !== this.props.language) {\n            this.setFbAsyncInit();\n            this.reloadSDKAsynchronously();\n        }\n    }\n    componentWillUnmount() {\n        if (window.FB !== undefined) {\n            window.FB.CustomerChat.hide();\n        }\n    }\n    /**\n     * 初始化\n     */ setFbAsyncInit() {\n        const { appId, autoLogAppEvents, xfbml, version } = this.props;\n        window.fbAsyncInit = ()=>{\n            window.FB.init({\n                appId,\n                autoLogAppEvents,\n                xfbml,\n                version: `v${version}`\n            });\n            this.setState({\n                fbLoaded: true\n            });\n        };\n    }\n    loadSDKAsynchronously() {\n        const { language } = this.props;\n        /* eslint-disable */ (function(d, s, id) {\n            var js, fjs = d.getElementsByTagName(s)[0];\n            if (d.getElementById(id)) {\n                return;\n            }\n            js = d.createElement(s);\n            js.id = id;\n            js.src = `https://connect.facebook.net/${language}/sdk/xfbml.customerchat.js`;\n            if (fjs && fjs.parentNode && fjs.parentNode.contains(fjs)) {\n                fjs.parentNode.insertBefore(js, fjs);\n            } else {\n                document.body.appendChild(js);\n            }\n        })(document, \"script\", \"facebook-jssdk\");\n    /* eslint-enable */ }\n    removeFacebookSDK() {\n        removeElementByIds([\n            \"facebook-jssdk\",\n            \"fb-root\"\n        ]);\n        delete window.FB;\n    }\n    reloadSDKAsynchronously() {\n        this.removeFacebookSDK();\n        this.loadSDKAsynchronously();\n    }\n    controlPlugin() {\n        const { shouldShowDialog } = this.props;\n        if (shouldShowDialog) {\n            window.FB.CustomerChat.showDialog();\n        } else {\n            window.FB.CustomerChat.hideDialog();\n        }\n    }\n    subscribeEvents() {\n        const { onCustomerChatDialogShow, onCustomerChatDialogHide } = this.props;\n        if (onCustomerChatDialogShow) {\n            window.FB.Event.subscribe(\"customerchat.dialogShow\", onCustomerChatDialogShow);\n        }\n        if (onCustomerChatDialogHide) {\n            window.FB.Event.subscribe(\"customerchat.dialogHide\", onCustomerChatDialogHide);\n        }\n    }\n    createMarkup() {\n        const { pageId, htmlRef, minimized, themeColor, loggedInGreeting, loggedOutGreeting, greetingDialogDisplay, greetingDialogDelay } = this.props;\n        const refAttribute = htmlRef !== undefined ? `ref=\"${htmlRef}\"` : \"\";\n        const minimizedAttribute = minimized !== undefined ? `minimized=\"${minimized}\"` : \"\";\n        const themeColorAttribute = themeColor !== undefined ? `theme_color=\"${themeColor}\"` : \"\";\n        const loggedInGreetingAttribute = loggedInGreeting !== undefined ? `logged_in_greeting=\"${loggedInGreeting}\"` : \"\";\n        const loggedOutGreetingAttribute = loggedOutGreeting !== undefined ? `logged_out_greeting=\"${loggedOutGreeting}\"` : \"\";\n        const greetingDialogDisplayAttribute = greetingDialogDisplay !== undefined ? `greeting_dialog_display=\"${greetingDialogDisplay}\"` : \"\";\n        const greetingDialogDelayAttribute = greetingDialogDelay !== undefined ? `greeting_dialog_delay=\"${greetingDialogDelay}\"` : \"\";\n        return {\n            __html: `<div\n        class=\"fb-customerchat\"\n        page_id=\"${pageId}\"\n        ${refAttribute}\n        ${minimizedAttribute}\n        ${themeColorAttribute}\n        ${loggedInGreetingAttribute}\n        ${loggedOutGreetingAttribute}\n        ${greetingDialogDisplayAttribute}\n        ${greetingDialogDelayAttribute}\n      ></div>`\n        };\n    }\n    render() {\n        const { fbLoaded, shouldShowDialog } = this.state;\n        if (fbLoaded && shouldShowDialog !== this.props.shouldShowDialog) {\n            document.addEventListener(\"DOMNodeInserted\", (event)=>{\n                const element = event.target;\n                if (element.className && typeof element.className === \"string\" && element.className.includes(\"fb_dialog\")) {\n                    this.controlPlugin();\n                }\n            }, false);\n            this.subscribeEvents();\n        }\n        // Add a random key to rerender. Reference:\n        // https://stackoverflow.com/questions/30242530/dangerouslysetinnerhtml-doesnt-update-during-render\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            dangerouslySetInnerHTML: this.createMarkup()\n        }, Date(), false, {\n            fileName: \"/Users/Apple/Documents/GitHub/NotionNext/autos/components/FacebookMessenger.js\",\n            lineNumber: 238,\n            columnNumber: 12\n        }, this);\n    }\n}\nconst removeElementByIds = (ids)=>{\n    ids.forEach((id)=>{\n        const element = document.getElementById(id);\n        if (element && element.parentNode) {\n            element.parentNode.removeChild(element);\n        }\n    });\n};\nMessengerCustomerChat.propTypes = {\n    pageId: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().string).isRequired,\n    appId: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().string),\n    shouldShowDialog: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool),\n    htmlRef: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().string),\n    minimized: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool),\n    themeColor: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().string),\n    loggedInGreeting: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().string),\n    loggedOutGreeting: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().string),\n    greetingDialogDisplay: prop_types__WEBPACK_IMPORTED_MODULE_2___default().oneOf([\n        \"show\",\n        \"hide\",\n        \"fade\"\n    ]),\n    greetingDialogDelay: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().number),\n    autoLogAppEvents: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool),\n    xfbml: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool),\n    version: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().string),\n    language: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().string),\n    onCustomerChatDialogShow: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().func),\n    onCustomerChatDialogHide: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().func)\n};\nMessengerCustomerChat.defaultProps = {\n    appId: null,\n    shouldShowDialog: false,\n    htmlRef: undefined,\n    minimized: undefined,\n    themeColor: undefined,\n    loggedInGreeting: undefined,\n    loggedOutGreeting: undefined,\n    greetingDialogDisplay: undefined,\n    greetingDialogDelay: undefined,\n    autoLogAppEvents: true,\n    xfbml: true,\n    version: \"11.0\",\n    language: \"en_US\",\n    onCustomerChatDialogShow: undefined,\n    onCustomerChatDialogHide: undefined\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0ZhY2Vib29rTWVzc2VuZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRDtBQUNwQjtBQUNPO0FBRTFCLFNBQVNLO0lBQ3RCLE1BQU1DLFNBQVNGLHVEQUFVQSxDQUFDO0lBQzFCLE1BQU1HLFFBQVFILHVEQUFVQSxDQUFDO0lBQ3pCLE1BQU1JLFdBQVdKLHVEQUFVQSxDQUFDLFFBQVFLLE9BQU8sQ0FBQyxLQUFLO0lBRWpELHNCQUFzQjtJQUN0QixNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHVCwrQ0FBUUEsQ0FBQztJQUVuRCxNQUFNVSxtQkFBbUI7UUFDdkJDLE9BQU9DLG1CQUFtQixDQUFDLFVBQVVGO1FBQ3JDLElBQUksQ0FBQ0YsZUFBZTtZQUNsQkMsaUJBQWlCO1FBQ25CO0lBQ0Y7SUFFQSxtQkFBbUI7SUFDbkJWLGdEQUFTQSxDQUFDO1FBQ1JZLE9BQU9FLGdCQUFnQixDQUFDLFVBQVVIO1FBQ2xDSSxXQUFXO1lBQ1RKO1FBQ0YsR0FBRztRQUNILE9BQU87WUFDTEMsT0FBT0MsbUJBQW1CLENBQUMsVUFBVUY7UUFDdkM7SUFDRixHQUFHLEVBQUU7SUFFTCxxQkFBTztrQkFDQUYsK0JBQWlCLDhEQUFDTztZQUNmWCxRQUFRQTtZQUNSQyxPQUFPQTtZQUNQQyxVQUFVQTtZQUNWVSxrQkFBa0I7Ozs7Ozs7QUFHOUI7QUFFQTs7Q0FFQyxHQUNELE1BQU1ELDhCQUE4QmpCLDRDQUFTQTtJQUMzQ21CLFlBQVlDLEtBQUssQ0FBRTtRQUNqQixLQUFLLENBQUNBO1FBQ04sSUFBSSxDQUFDQyxLQUFLLEdBQUc7WUFDWEMsVUFBVTtZQUNWSixrQkFBa0JLO1FBQ3BCO0lBQ0Y7SUFFQTs7S0FFRyxHQUNIQyxvQkFBb0I7UUFDbEIsSUFBSSxDQUFDQyxjQUFjO1FBQ25CLElBQUksQ0FBQ0MsdUJBQXVCO0lBQzlCO0lBRUFDLG1CQUFtQkMsU0FBUyxFQUFFO1FBQzVCLElBQ0VBLFVBQVV0QixNQUFNLEtBQUssSUFBSSxDQUFDYyxLQUFLLENBQUNkLE1BQU0sSUFDaENzQixVQUFVckIsS0FBSyxLQUFLLElBQUksQ0FBQ2EsS0FBSyxDQUFDYixLQUFLLElBQ3BDcUIsVUFBVVYsZ0JBQWdCLEtBQUssSUFBSSxDQUFDRSxLQUFLLENBQUNGLGdCQUFnQixJQUMxRFUsVUFBVUMsT0FBTyxLQUFLLElBQUksQ0FBQ1QsS0FBSyxDQUFDUyxPQUFPLElBQ3hDRCxVQUFVRSxTQUFTLEtBQUssSUFBSSxDQUFDVixLQUFLLENBQUNVLFNBQVMsSUFDNUNGLFVBQVVHLFVBQVUsS0FBSyxJQUFJLENBQUNYLEtBQUssQ0FBQ1csVUFBVSxJQUM5Q0gsVUFBVUksZ0JBQWdCLEtBQUssSUFBSSxDQUFDWixLQUFLLENBQUNZLGdCQUFnQixJQUMxREosVUFBVUssaUJBQWlCLEtBQUssSUFBSSxDQUFDYixLQUFLLENBQUNhLGlCQUFpQixJQUM1REwsVUFBVU0scUJBQXFCLEtBQUssSUFBSSxDQUFDZCxLQUFLLENBQUNjLHFCQUFxQixJQUNwRU4sVUFBVU8sbUJBQW1CLEtBQUssSUFBSSxDQUFDZixLQUFLLENBQUNlLG1CQUFtQixJQUNoRVAsVUFBVVEsZ0JBQWdCLEtBQUssSUFBSSxDQUFDaEIsS0FBSyxDQUFDZ0IsZ0JBQWdCLElBQzFEUixVQUFVUyxLQUFLLEtBQUssSUFBSSxDQUFDakIsS0FBSyxDQUFDaUIsS0FBSyxJQUNwQ1QsVUFBVVUsT0FBTyxLQUFLLElBQUksQ0FBQ2xCLEtBQUssQ0FBQ2tCLE9BQU8sSUFDeENWLFVBQVVwQixRQUFRLEtBQUssSUFBSSxDQUFDWSxLQUFLLENBQUNaLFFBQVEsRUFDaEQ7WUFDQSxJQUFJLENBQUNpQixjQUFjO1lBQ25CLElBQUksQ0FBQ0MsdUJBQXVCO1FBQzlCO0lBQ0Y7SUFFQWEsdUJBQXVCO1FBQ3JCLElBQUkxQixPQUFPMkIsRUFBRSxLQUFLakIsV0FBVztZQUMzQlYsT0FBTzJCLEVBQUUsQ0FBQ0MsWUFBWSxDQUFDQyxJQUFJO1FBQzdCO0lBQ0Y7SUFFQTs7S0FFRyxHQUNIakIsaUJBQWlCO1FBQ2YsTUFBTSxFQUFFbEIsS0FBSyxFQUFFNkIsZ0JBQWdCLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDbEIsS0FBSztRQUU5RFAsT0FBTzhCLFdBQVcsR0FBRztZQUNuQjlCLE9BQU8yQixFQUFFLENBQUNJLElBQUksQ0FBQztnQkFDYnJDO2dCQUNBNkI7Z0JBQ0FDO2dCQUNBQyxTQUFTLENBQUMsQ0FBQyxFQUFFQSxRQUFRLENBQUM7WUFDeEI7WUFFQSxJQUFJLENBQUNPLFFBQVEsQ0FBQztnQkFBRXZCLFVBQVU7WUFBSztRQUNqQztJQUNGO0lBRUF3Qix3QkFBd0I7UUFDdEIsTUFBTSxFQUFFdEMsUUFBUSxFQUFFLEdBQUcsSUFBSSxDQUFDWSxLQUFLO1FBQy9CLGtCQUFrQixHQUNiLFVBQVUyQixDQUFDLEVBQUVDLENBQUMsRUFBRUMsRUFBRTtZQUNmLElBQUlDLElBQ0FDLE1BQU1KLEVBQUVLLG9CQUFvQixDQUFDSixFQUFFLENBQUMsRUFBRTtZQUN0QyxJQUFJRCxFQUFFTSxjQUFjLENBQUNKLEtBQUs7Z0JBQ3RCO1lBQ0o7WUFDQUMsS0FBS0gsRUFBRU8sYUFBYSxDQUFDTjtZQUNyQkUsR0FBR0QsRUFBRSxHQUFHQTtZQUNSQyxHQUFHSyxHQUFHLEdBQUcsQ0FBQyw2QkFBNkIsRUFBRS9DLFNBQVMsMEJBQTBCLENBQUM7WUFDN0UsSUFBSTJDLE9BQU9BLElBQUlLLFVBQVUsSUFBSUwsSUFBSUssVUFBVSxDQUFDQyxRQUFRLENBQUNOLE1BQU07Z0JBQ3pEQSxJQUFJSyxVQUFVLENBQUNFLFlBQVksQ0FBQ1IsSUFBSUM7WUFDbEMsT0FBTztnQkFDTFEsU0FBU0MsSUFBSSxDQUFDQyxXQUFXLENBQUNYO1lBQzVCO1FBQ0osR0FBR1MsVUFBVSxVQUFVO0lBQ3ZCLGlCQUFpQixHQUN2QjtJQUVBRyxvQkFBb0I7UUFDbEJDLG1CQUFtQjtZQUFDO1lBQWtCO1NBQVU7UUFFaEQsT0FBT2xELE9BQU8yQixFQUFFO0lBQ2xCO0lBRUFkLDBCQUEwQjtRQUN4QixJQUFJLENBQUNvQyxpQkFBaUI7UUFDdEIsSUFBSSxDQUFDaEIscUJBQXFCO0lBQzVCO0lBRUFrQixnQkFBZ0I7UUFDZCxNQUFNLEVBQUU5QyxnQkFBZ0IsRUFBRSxHQUFHLElBQUksQ0FBQ0UsS0FBSztRQUV2QyxJQUFJRixrQkFBa0I7WUFDcEJMLE9BQU8yQixFQUFFLENBQUNDLFlBQVksQ0FBQ3dCLFVBQVU7UUFDbkMsT0FBTztZQUNMcEQsT0FBTzJCLEVBQUUsQ0FBQ0MsWUFBWSxDQUFDeUIsVUFBVTtRQUNuQztJQUNGO0lBRUFDLGtCQUFrQjtRQUNoQixNQUFNLEVBQUVDLHdCQUF3QixFQUFFQyx3QkFBd0IsRUFBRSxHQUFHLElBQUksQ0FBQ2pELEtBQUs7UUFFekUsSUFBSWdELDBCQUEwQjtZQUM1QnZELE9BQU8yQixFQUFFLENBQUM4QixLQUFLLENBQUNDLFNBQVMsQ0FDdkIsMkJBQ0FIO1FBRUo7UUFFQSxJQUFJQywwQkFBMEI7WUFDNUJ4RCxPQUFPMkIsRUFBRSxDQUFDOEIsS0FBSyxDQUFDQyxTQUFTLENBQ3ZCLDJCQUNBRjtRQUVKO0lBQ0Y7SUFFQUcsZUFBZTtRQUNiLE1BQU0sRUFDSmxFLE1BQU0sRUFDTnVCLE9BQU8sRUFDUEMsU0FBUyxFQUNUQyxVQUFVLEVBQ1ZDLGdCQUFnQixFQUNoQkMsaUJBQWlCLEVBQ2pCQyxxQkFBcUIsRUFDckJDLG1CQUFtQixFQUNwQixHQUFHLElBQUksQ0FBQ2YsS0FBSztRQUVkLE1BQU1xRCxlQUFlNUMsWUFBWU4sWUFBWSxDQUFDLEtBQUssRUFBRU0sUUFBUSxDQUFDLENBQUMsR0FBRztRQUNsRSxNQUFNNkMscUJBQ0U1QyxjQUFjUCxZQUFZLENBQUMsV0FBVyxFQUFFTyxVQUFVLENBQUMsQ0FBQyxHQUFHO1FBQy9ELE1BQU02QyxzQkFDRTVDLGVBQWVSLFlBQVksQ0FBQyxhQUFhLEVBQUVRLFdBQVcsQ0FBQyxDQUFDLEdBQUc7UUFDbkUsTUFBTTZDLDRCQUNFNUMscUJBQXFCVCxZQUNqQixDQUFDLG9CQUFvQixFQUFFUyxpQkFBaUIsQ0FBQyxDQUFDLEdBQzFDO1FBQ1osTUFBTTZDLDZCQUNFNUMsc0JBQXNCVixZQUNsQixDQUFDLHFCQUFxQixFQUFFVSxrQkFBa0IsQ0FBQyxDQUFDLEdBQzVDO1FBQ1osTUFBTTZDLGlDQUNFNUMsMEJBQTBCWCxZQUN0QixDQUFDLHlCQUF5QixFQUFFVyxzQkFBc0IsQ0FBQyxDQUFDLEdBQ3BEO1FBQ1osTUFBTTZDLCtCQUNFNUMsd0JBQXdCWixZQUNwQixDQUFDLHVCQUF1QixFQUFFWSxvQkFBb0IsQ0FBQyxDQUFDLEdBQ2hEO1FBRVosT0FBTztZQUNMNkMsUUFBUSxDQUFDOztpQkFFRSxFQUFFMUUsT0FBTztRQUNsQixFQUFFbUUsYUFBYTtRQUNmLEVBQUVDLG1CQUFtQjtRQUNyQixFQUFFQyxvQkFBb0I7UUFDdEIsRUFBRUMsMEJBQTBCO1FBQzVCLEVBQUVDLDJCQUEyQjtRQUM3QixFQUFFQywrQkFBK0I7UUFDakMsRUFBRUMsNkJBQTZCO2FBQzFCLENBQUM7UUFDVjtJQUNGO0lBRUFFLFNBQVM7UUFDUCxNQUFNLEVBQUUzRCxRQUFRLEVBQUVKLGdCQUFnQixFQUFFLEdBQUcsSUFBSSxDQUFDRyxLQUFLO1FBRWpELElBQUlDLFlBQVlKLHFCQUFxQixJQUFJLENBQUNFLEtBQUssQ0FBQ0YsZ0JBQWdCLEVBQUU7WUFDaEV5QyxTQUFTNUMsZ0JBQWdCLENBQ3ZCLG1CQUNBLENBQUNtRTtnQkFDQyxNQUFNQyxVQUFVRCxNQUFNRSxNQUFNO2dCQUM1QixJQUNFRCxRQUFRRSxTQUFTLElBQ0wsT0FBT0YsUUFBUUUsU0FBUyxLQUFLLFlBQzdCRixRQUFRRSxTQUFTLENBQUNDLFFBQVEsQ0FBQyxjQUN2QztvQkFDQSxJQUFJLENBQUN0QixhQUFhO2dCQUNwQjtZQUNGLEdBQ0E7WUFFRixJQUFJLENBQUNHLGVBQWU7UUFDdEI7UUFDQSwyQ0FBMkM7UUFDM0MsbUdBQW1HO1FBQ25HLHFCQUFPLDhEQUFDb0I7WUFBaUJDLHlCQUF5QixJQUFJLENBQUNoQixZQUFZO1dBQWxEaUI7Ozs7O0lBQ25CO0FBQ0Y7QUFFQSxNQUFNMUIscUJBQXFCLENBQUMyQjtJQUMxQkEsSUFBSUMsT0FBTyxDQUFDLENBQUMxQztRQUNYLE1BQU1rQyxVQUFVeEIsU0FBU04sY0FBYyxDQUFDSjtRQUN4QyxJQUFJa0MsV0FBV0EsUUFBUTNCLFVBQVUsRUFBRTtZQUNqQzJCLFFBQVEzQixVQUFVLENBQUNvQyxXQUFXLENBQUNUO1FBQ2pDO0lBQ0Y7QUFDRjtBQUVBbEUsc0JBQXNCNEUsU0FBUyxHQUFHO0lBQ2hDdkYsUUFBUUgsMERBQWdCLENBQUM0RixVQUFVO0lBQ25DeEYsT0FBT0osMERBQWdCO0lBQ3ZCZSxrQkFBa0JmLHdEQUFjO0lBQ2hDMEIsU0FBUzFCLDBEQUFnQjtJQUN6QjJCLFdBQVczQix3REFBYztJQUN6QjRCLFlBQVk1QiwwREFBZ0I7SUFDNUI2QixrQkFBa0I3QiwwREFBZ0I7SUFDbEM4QixtQkFBbUI5QiwwREFBZ0I7SUFDbkMrQix1QkFBdUIvQix1REFBZSxDQUFDO1FBQUM7UUFBUTtRQUFRO0tBQU87SUFDL0RnQyxxQkFBcUJoQywwREFBZ0I7SUFDckNpQyxrQkFBa0JqQyx3REFBYztJQUNoQ2tDLE9BQU9sQyx3REFBYztJQUNyQm1DLFNBQVNuQywwREFBZ0I7SUFDekJLLFVBQVVMLDBEQUFnQjtJQUMxQmlFLDBCQUEwQmpFLHdEQUFjO0lBQ3hDa0UsMEJBQTBCbEUsd0RBQWM7QUFDMUM7QUFFQWMsc0JBQXNCbUYsWUFBWSxHQUFHO0lBQ25DN0YsT0FBTztJQUNQVyxrQkFBa0I7SUFDbEJXLFNBQVNOO0lBQ1RPLFdBQVdQO0lBQ1hRLFlBQVlSO0lBQ1pTLGtCQUFrQlQ7SUFDbEJVLG1CQUFtQlY7SUFDbkJXLHVCQUF1Qlg7SUFDdkJZLHFCQUFxQlo7SUFDckJhLGtCQUFrQjtJQUNsQkMsT0FBTztJQUNQQyxTQUFTO0lBQ1Q5QixVQUFVO0lBQ1Y0RCwwQkFBMEI3QztJQUMxQjhDLDBCQUEwQjlDO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm90aW9uLW5leHQvLi9jb21wb25lbnRzL0ZhY2Vib29rTWVzc2VuZ2VyLmpzP2RiNjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5pbXBvcnQgeyBzaXRlQ29uZmlnIH0gZnJvbSAnQC9saWIvY29uZmlnJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNZXNzZW5nZXIoKSB7XG4gIGNvbnN0IHBhZ2VJZCA9IHNpdGVDb25maWcoJ0ZBQ0VCT09LX1BBR0VfSUQnKVxuICBjb25zdCBhcHBJZCA9IHNpdGVDb25maWcoJ0ZBQ0VCT09LX0FQUF9JRCcpXG4gIGNvbnN0IGxhbmd1YWdlID0gc2l0ZUNvbmZpZygnTEFORycpLnJlcGxhY2UoJy0nLCAnXycpXG5cbiAgLy8g5paw5aKe5LiA5Liq54q25oCB5Y+Y6YeP55So5LqO6L+96Liq5piv5ZCm5bey57uP5rua5Yqo6L+HXG4gIGNvbnN0IFtzaG93TWVzc2VuZ2VyLCBzZXRTaG93TWVzc2VuZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBzaG93VGhlQ29tcG9uZW50ID0gKCkgPT4ge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzaG93VGhlQ29tcG9uZW50KTtcbiAgICBpZiAoIXNob3dNZXNzZW5nZXIpIHtcbiAgICAgIHNldFNob3dNZXNzZW5nZXIodHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIOW7tuaXtjfnp5LvvIzmiJbpobXpnaLmu5rliqjml7bliqDovb3or6Xnu4Tku7ZcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2hvd1RoZUNvbXBvbmVudCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzaG93VGhlQ29tcG9uZW50KClcbiAgICB9LCA3MDAwKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNob3dUaGVDb21wb25lbnQpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICByZXR1cm4gPD5cbiAgICAgICAge3Nob3dNZXNzZW5nZXIgJiYgPE1lc3NlbmdlckN1c3RvbWVyQ2hhdFxuICAgICAgICAgICAgcGFnZUlkPXtwYWdlSWR9XG4gICAgICAgICAgICBhcHBJZD17YXBwSWR9XG4gICAgICAgICAgICBsYW5ndWFnZT17bGFuZ3VhZ2V9XG4gICAgICAgICAgICBzaG91bGRTaG93RGlhbG9nPXt0cnVlfVxuICAgICAgICAvPn1cbiAgICA8Lz5cbn1cblxuLyoqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Zb2N0b2wvcmVhY3QtbWVzc2VuZ2VyLWN1c3RvbWVyLWNoYXRcbiAqL1xuY2xhc3MgTWVzc2VuZ2VyQ3VzdG9tZXJDaGF0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZmJMb2FkZWQ6IGZhbHNlLFxuICAgICAgc2hvdWxkU2hvd0RpYWxvZzogdW5kZWZpbmVkXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAgICog5Yid5aeL5YyWXG4gICAgICovXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuc2V0RmJBc3luY0luaXQoKVxuICAgIHRoaXMucmVsb2FkU0RLQXN5bmNocm9ub3VzbHkoKVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIGlmIChcbiAgICAgIHByZXZQcm9wcy5wYWdlSWQgIT09IHRoaXMucHJvcHMucGFnZUlkIHx8XG4gICAgICAgICAgICBwcmV2UHJvcHMuYXBwSWQgIT09IHRoaXMucHJvcHMuYXBwSWQgfHxcbiAgICAgICAgICAgIHByZXZQcm9wcy5zaG91bGRTaG93RGlhbG9nICE9PSB0aGlzLnByb3BzLnNob3VsZFNob3dEaWFsb2cgfHxcbiAgICAgICAgICAgIHByZXZQcm9wcy5odG1sUmVmICE9PSB0aGlzLnByb3BzLmh0bWxSZWYgfHxcbiAgICAgICAgICAgIHByZXZQcm9wcy5taW5pbWl6ZWQgIT09IHRoaXMucHJvcHMubWluaW1pemVkIHx8XG4gICAgICAgICAgICBwcmV2UHJvcHMudGhlbWVDb2xvciAhPT0gdGhpcy5wcm9wcy50aGVtZUNvbG9yIHx8XG4gICAgICAgICAgICBwcmV2UHJvcHMubG9nZ2VkSW5HcmVldGluZyAhPT0gdGhpcy5wcm9wcy5sb2dnZWRJbkdyZWV0aW5nIHx8XG4gICAgICAgICAgICBwcmV2UHJvcHMubG9nZ2VkT3V0R3JlZXRpbmcgIT09IHRoaXMucHJvcHMubG9nZ2VkT3V0R3JlZXRpbmcgfHxcbiAgICAgICAgICAgIHByZXZQcm9wcy5ncmVldGluZ0RpYWxvZ0Rpc3BsYXkgIT09IHRoaXMucHJvcHMuZ3JlZXRpbmdEaWFsb2dEaXNwbGF5IHx8XG4gICAgICAgICAgICBwcmV2UHJvcHMuZ3JlZXRpbmdEaWFsb2dEZWxheSAhPT0gdGhpcy5wcm9wcy5ncmVldGluZ0RpYWxvZ0RlbGF5IHx8XG4gICAgICAgICAgICBwcmV2UHJvcHMuYXV0b0xvZ0FwcEV2ZW50cyAhPT0gdGhpcy5wcm9wcy5hdXRvTG9nQXBwRXZlbnRzIHx8XG4gICAgICAgICAgICBwcmV2UHJvcHMueGZibWwgIT09IHRoaXMucHJvcHMueGZibWwgfHxcbiAgICAgICAgICAgIHByZXZQcm9wcy52ZXJzaW9uICE9PSB0aGlzLnByb3BzLnZlcnNpb24gfHxcbiAgICAgICAgICAgIHByZXZQcm9wcy5sYW5ndWFnZSAhPT0gdGhpcy5wcm9wcy5sYW5ndWFnZVxuICAgICkge1xuICAgICAgdGhpcy5zZXRGYkFzeW5jSW5pdCgpXG4gICAgICB0aGlzLnJlbG9hZFNES0FzeW5jaHJvbm91c2x5KClcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAod2luZG93LkZCICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHdpbmRvdy5GQi5DdXN0b21lckNoYXQuaGlkZSgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAgICog5Yid5aeL5YyWXG4gICAgICovXG4gIHNldEZiQXN5bmNJbml0KCkge1xuICAgIGNvbnN0IHsgYXBwSWQsIGF1dG9Mb2dBcHBFdmVudHMsIHhmYm1sLCB2ZXJzaW9uIH0gPSB0aGlzLnByb3BzXG5cbiAgICB3aW5kb3cuZmJBc3luY0luaXQgPSAoKSA9PiB7XG4gICAgICB3aW5kb3cuRkIuaW5pdCh7XG4gICAgICAgIGFwcElkLFxuICAgICAgICBhdXRvTG9nQXBwRXZlbnRzLFxuICAgICAgICB4ZmJtbCxcbiAgICAgICAgdmVyc2lvbjogYHYke3ZlcnNpb259YFxuICAgICAgfSlcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZiTG9hZGVkOiB0cnVlIH0pXG4gICAgfVxuICB9XG5cbiAgbG9hZFNES0FzeW5jaHJvbm91c2x5KCkge1xuICAgIGNvbnN0IHsgbGFuZ3VhZ2UgfSA9IHRoaXMucHJvcHM7XG4gICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgKGZ1bmN0aW9uIChkLCBzLCBpZCkge1xuICAgICAgICAgICAgdmFyIGpzLFxuICAgICAgICAgICAgICAgIGZqcyA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUocylbMF07XG4gICAgICAgICAgICBpZiAoZC5nZXRFbGVtZW50QnlJZChpZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqcyA9IGQuY3JlYXRlRWxlbWVudChzKTtcbiAgICAgICAgICAgIGpzLmlkID0gaWQ7XG4gICAgICAgICAgICBqcy5zcmMgPSBgaHR0cHM6Ly9jb25uZWN0LmZhY2Vib29rLm5ldC8ke2xhbmd1YWdlfS9zZGsveGZibWwuY3VzdG9tZXJjaGF0LmpzYDtcbiAgICAgICAgICAgIGlmIChmanMgJiYgZmpzLnBhcmVudE5vZGUgJiYgZmpzLnBhcmVudE5vZGUuY29udGFpbnMoZmpzKSkge1xuICAgICAgICAgICAgICBmanMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoanMsIGZqcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGpzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoZG9jdW1lbnQsICdzY3JpcHQnLCAnZmFjZWJvb2stanNzZGsnKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICB9XG5cbiAgcmVtb3ZlRmFjZWJvb2tTREsoKSB7XG4gICAgcmVtb3ZlRWxlbWVudEJ5SWRzKFsnZmFjZWJvb2stanNzZGsnLCAnZmItcm9vdCddKVxuXG4gICAgZGVsZXRlIHdpbmRvdy5GQlxuICB9XG5cbiAgcmVsb2FkU0RLQXN5bmNocm9ub3VzbHkoKSB7XG4gICAgdGhpcy5yZW1vdmVGYWNlYm9va1NESygpXG4gICAgdGhpcy5sb2FkU0RLQXN5bmNocm9ub3VzbHkoKVxuICB9XG5cbiAgY29udHJvbFBsdWdpbigpIHtcbiAgICBjb25zdCB7IHNob3VsZFNob3dEaWFsb2cgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmIChzaG91bGRTaG93RGlhbG9nKSB7XG4gICAgICB3aW5kb3cuRkIuQ3VzdG9tZXJDaGF0LnNob3dEaWFsb2coKVxuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuRkIuQ3VzdG9tZXJDaGF0LmhpZGVEaWFsb2coKVxuICAgIH1cbiAgfVxuXG4gIHN1YnNjcmliZUV2ZW50cygpIHtcbiAgICBjb25zdCB7IG9uQ3VzdG9tZXJDaGF0RGlhbG9nU2hvdywgb25DdXN0b21lckNoYXREaWFsb2dIaWRlIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAob25DdXN0b21lckNoYXREaWFsb2dTaG93KSB7XG4gICAgICB3aW5kb3cuRkIuRXZlbnQuc3Vic2NyaWJlKFxuICAgICAgICAnY3VzdG9tZXJjaGF0LmRpYWxvZ1Nob3cnLFxuICAgICAgICBvbkN1c3RvbWVyQ2hhdERpYWxvZ1Nob3dcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAob25DdXN0b21lckNoYXREaWFsb2dIaWRlKSB7XG4gICAgICB3aW5kb3cuRkIuRXZlbnQuc3Vic2NyaWJlKFxuICAgICAgICAnY3VzdG9tZXJjaGF0LmRpYWxvZ0hpZGUnLFxuICAgICAgICBvbkN1c3RvbWVyQ2hhdERpYWxvZ0hpZGVcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBjcmVhdGVNYXJrdXAoKSB7XG4gICAgY29uc3Qge1xuICAgICAgcGFnZUlkLFxuICAgICAgaHRtbFJlZixcbiAgICAgIG1pbmltaXplZCxcbiAgICAgIHRoZW1lQ29sb3IsXG4gICAgICBsb2dnZWRJbkdyZWV0aW5nLFxuICAgICAgbG9nZ2VkT3V0R3JlZXRpbmcsXG4gICAgICBncmVldGluZ0RpYWxvZ0Rpc3BsYXksXG4gICAgICBncmVldGluZ0RpYWxvZ0RlbGF5XG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIGNvbnN0IHJlZkF0dHJpYnV0ZSA9IGh0bWxSZWYgIT09IHVuZGVmaW5lZCA/IGByZWY9XCIke2h0bWxSZWZ9XCJgIDogJydcbiAgICBjb25zdCBtaW5pbWl6ZWRBdHRyaWJ1dGUgPVxuICAgICAgICAgICAgbWluaW1pemVkICE9PSB1bmRlZmluZWQgPyBgbWluaW1pemVkPVwiJHttaW5pbWl6ZWR9XCJgIDogJydcbiAgICBjb25zdCB0aGVtZUNvbG9yQXR0cmlidXRlID1cbiAgICAgICAgICAgIHRoZW1lQ29sb3IgIT09IHVuZGVmaW5lZCA/IGB0aGVtZV9jb2xvcj1cIiR7dGhlbWVDb2xvcn1cImAgOiAnJ1xuICAgIGNvbnN0IGxvZ2dlZEluR3JlZXRpbmdBdHRyaWJ1dGUgPVxuICAgICAgICAgICAgbG9nZ2VkSW5HcmVldGluZyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gYGxvZ2dlZF9pbl9ncmVldGluZz1cIiR7bG9nZ2VkSW5HcmVldGluZ31cImBcbiAgICAgICAgICAgICAgOiAnJ1xuICAgIGNvbnN0IGxvZ2dlZE91dEdyZWV0aW5nQXR0cmlidXRlID1cbiAgICAgICAgICAgIGxvZ2dlZE91dEdyZWV0aW5nICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyBgbG9nZ2VkX291dF9ncmVldGluZz1cIiR7bG9nZ2VkT3V0R3JlZXRpbmd9XCJgXG4gICAgICAgICAgICAgIDogJydcbiAgICBjb25zdCBncmVldGluZ0RpYWxvZ0Rpc3BsYXlBdHRyaWJ1dGUgPVxuICAgICAgICAgICAgZ3JlZXRpbmdEaWFsb2dEaXNwbGF5ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyBgZ3JlZXRpbmdfZGlhbG9nX2Rpc3BsYXk9XCIke2dyZWV0aW5nRGlhbG9nRGlzcGxheX1cImBcbiAgICAgICAgICAgICAgOiAnJ1xuICAgIGNvbnN0IGdyZWV0aW5nRGlhbG9nRGVsYXlBdHRyaWJ1dGUgPVxuICAgICAgICAgICAgZ3JlZXRpbmdEaWFsb2dEZWxheSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gYGdyZWV0aW5nX2RpYWxvZ19kZWxheT1cIiR7Z3JlZXRpbmdEaWFsb2dEZWxheX1cImBcbiAgICAgICAgICAgICAgOiAnJ1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIF9faHRtbDogYDxkaXZcbiAgICAgICAgY2xhc3M9XCJmYi1jdXN0b21lcmNoYXRcIlxuICAgICAgICBwYWdlX2lkPVwiJHtwYWdlSWR9XCJcbiAgICAgICAgJHtyZWZBdHRyaWJ1dGV9XG4gICAgICAgICR7bWluaW1pemVkQXR0cmlidXRlfVxuICAgICAgICAke3RoZW1lQ29sb3JBdHRyaWJ1dGV9XG4gICAgICAgICR7bG9nZ2VkSW5HcmVldGluZ0F0dHJpYnV0ZX1cbiAgICAgICAgJHtsb2dnZWRPdXRHcmVldGluZ0F0dHJpYnV0ZX1cbiAgICAgICAgJHtncmVldGluZ0RpYWxvZ0Rpc3BsYXlBdHRyaWJ1dGV9XG4gICAgICAgICR7Z3JlZXRpbmdEaWFsb2dEZWxheUF0dHJpYnV0ZX1cbiAgICAgID48L2Rpdj5gXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZmJMb2FkZWQsIHNob3VsZFNob3dEaWFsb2cgfSA9IHRoaXMuc3RhdGVcblxuICAgIGlmIChmYkxvYWRlZCAmJiBzaG91bGRTaG93RGlhbG9nICE9PSB0aGlzLnByb3BzLnNob3VsZFNob3dEaWFsb2cpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdET01Ob2RlSW5zZXJ0ZWQnLFxuICAgICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZXZlbnQudGFyZ2V0XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lLmluY2x1ZGVzKCdmYl9kaWFsb2cnKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5jb250cm9sUGx1Z2luKClcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZhbHNlXG4gICAgICApXG4gICAgICB0aGlzLnN1YnNjcmliZUV2ZW50cygpXG4gICAgfVxuICAgIC8vIEFkZCBhIHJhbmRvbSBrZXkgdG8gcmVyZW5kZXIuIFJlZmVyZW5jZTpcbiAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMDI0MjUzMC9kYW5nZXJvdXNseXNldGlubmVyaHRtbC1kb2VzbnQtdXBkYXRlLWR1cmluZy1yZW5kZXJcbiAgICByZXR1cm4gPGRpdiBrZXk9e0RhdGUoKX0gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3RoaXMuY3JlYXRlTWFya3VwKCl9IC8+XG4gIH1cbn1cblxuY29uc3QgcmVtb3ZlRWxlbWVudEJ5SWRzID0gKGlkcykgPT4ge1xuICBpZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpXG4gICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudClcbiAgICB9XG4gIH0pXG59XG5cbk1lc3NlbmdlckN1c3RvbWVyQ2hhdC5wcm9wVHlwZXMgPSB7XG4gIHBhZ2VJZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBhcHBJZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgc2hvdWxkU2hvd0RpYWxvZzogUHJvcFR5cGVzLmJvb2wsXG4gIGh0bWxSZWY6IFByb3BUeXBlcy5zdHJpbmcsXG4gIG1pbmltaXplZDogUHJvcFR5cGVzLmJvb2wsXG4gIHRoZW1lQ29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGxvZ2dlZEluR3JlZXRpbmc6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGxvZ2dlZE91dEdyZWV0aW5nOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBncmVldGluZ0RpYWxvZ0Rpc3BsYXk6IFByb3BUeXBlcy5vbmVPZihbJ3Nob3cnLCAnaGlkZScsICdmYWRlJ10pLFxuICBncmVldGluZ0RpYWxvZ0RlbGF5OiBQcm9wVHlwZXMubnVtYmVyLFxuICBhdXRvTG9nQXBwRXZlbnRzOiBQcm9wVHlwZXMuYm9vbCxcbiAgeGZibWw6IFByb3BUeXBlcy5ib29sLFxuICB2ZXJzaW9uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBsYW5ndWFnZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgb25DdXN0b21lckNoYXREaWFsb2dTaG93OiBQcm9wVHlwZXMuZnVuYyxcbiAgb25DdXN0b21lckNoYXREaWFsb2dIaWRlOiBQcm9wVHlwZXMuZnVuY1xufVxuXG5NZXNzZW5nZXJDdXN0b21lckNoYXQuZGVmYXVsdFByb3BzID0ge1xuICBhcHBJZDogbnVsbCxcbiAgc2hvdWxkU2hvd0RpYWxvZzogZmFsc2UsXG4gIGh0bWxSZWY6IHVuZGVmaW5lZCxcbiAgbWluaW1pemVkOiB1bmRlZmluZWQsXG4gIHRoZW1lQ29sb3I6IHVuZGVmaW5lZCxcbiAgbG9nZ2VkSW5HcmVldGluZzogdW5kZWZpbmVkLFxuICBsb2dnZWRPdXRHcmVldGluZzogdW5kZWZpbmVkLFxuICBncmVldGluZ0RpYWxvZ0Rpc3BsYXk6IHVuZGVmaW5lZCxcbiAgZ3JlZXRpbmdEaWFsb2dEZWxheTogdW5kZWZpbmVkLFxuICBhdXRvTG9nQXBwRXZlbnRzOiB0cnVlLFxuICB4ZmJtbDogdHJ1ZSxcbiAgdmVyc2lvbjogJzExLjAnLFxuICBsYW5ndWFnZTogJ2VuX1VTJyxcbiAgb25DdXN0b21lckNoYXREaWFsb2dTaG93OiB1bmRlZmluZWQsXG4gIG9uQ3VzdG9tZXJDaGF0RGlhbG9nSGlkZTogdW5kZWZpbmVkXG59XG4iXSwibmFtZXMiOlsiQ29tcG9uZW50IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJQcm9wVHlwZXMiLCJzaXRlQ29uZmlnIiwiTWVzc2VuZ2VyIiwicGFnZUlkIiwiYXBwSWQiLCJsYW5ndWFnZSIsInJlcGxhY2UiLCJzaG93TWVzc2VuZ2VyIiwic2V0U2hvd01lc3NlbmdlciIsInNob3dUaGVDb21wb25lbnQiLCJ3aW5kb3ciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldFRpbWVvdXQiLCJNZXNzZW5nZXJDdXN0b21lckNoYXQiLCJzaG91bGRTaG93RGlhbG9nIiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN0YXRlIiwiZmJMb2FkZWQiLCJ1bmRlZmluZWQiLCJjb21wb25lbnREaWRNb3VudCIsInNldEZiQXN5bmNJbml0IiwicmVsb2FkU0RLQXN5bmNocm9ub3VzbHkiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJodG1sUmVmIiwibWluaW1pemVkIiwidGhlbWVDb2xvciIsImxvZ2dlZEluR3JlZXRpbmciLCJsb2dnZWRPdXRHcmVldGluZyIsImdyZWV0aW5nRGlhbG9nRGlzcGxheSIsImdyZWV0aW5nRGlhbG9nRGVsYXkiLCJhdXRvTG9nQXBwRXZlbnRzIiwieGZibWwiLCJ2ZXJzaW9uIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJGQiIsIkN1c3RvbWVyQ2hhdCIsImhpZGUiLCJmYkFzeW5jSW5pdCIsImluaXQiLCJzZXRTdGF0ZSIsImxvYWRTREtBc3luY2hyb25vdXNseSIsImQiLCJzIiwiaWQiLCJqcyIsImZqcyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0RWxlbWVudEJ5SWQiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwicGFyZW50Tm9kZSIsImNvbnRhaW5zIiwiaW5zZXJ0QmVmb3JlIiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVGYWNlYm9va1NESyIsInJlbW92ZUVsZW1lbnRCeUlkcyIsImNvbnRyb2xQbHVnaW4iLCJzaG93RGlhbG9nIiwiaGlkZURpYWxvZyIsInN1YnNjcmliZUV2ZW50cyIsIm9uQ3VzdG9tZXJDaGF0RGlhbG9nU2hvdyIsIm9uQ3VzdG9tZXJDaGF0RGlhbG9nSGlkZSIsIkV2ZW50Iiwic3Vic2NyaWJlIiwiY3JlYXRlTWFya3VwIiwicmVmQXR0cmlidXRlIiwibWluaW1pemVkQXR0cmlidXRlIiwidGhlbWVDb2xvckF0dHJpYnV0ZSIsImxvZ2dlZEluR3JlZXRpbmdBdHRyaWJ1dGUiLCJsb2dnZWRPdXRHcmVldGluZ0F0dHJpYnV0ZSIsImdyZWV0aW5nRGlhbG9nRGlzcGxheUF0dHJpYnV0ZSIsImdyZWV0aW5nRGlhbG9nRGVsYXlBdHRyaWJ1dGUiLCJfX2h0bWwiLCJyZW5kZXIiLCJldmVudCIsImVsZW1lbnQiLCJ0YXJnZXQiLCJjbGFzc05hbWUiLCJpbmNsdWRlcyIsImRpdiIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiRGF0ZSIsImlkcyIsImZvckVhY2giLCJyZW1vdmVDaGlsZCIsInByb3BUeXBlcyIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJib29sIiwib25lT2YiLCJudW1iZXIiLCJmdW5jIiwiZGVmYXVsdFByb3BzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/FacebookMessenger.js\n");

/***/ })

};
;