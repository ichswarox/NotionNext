"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_react-notion-x_build_third-party_collection_js"],{

/***/ "./node_modules/react-notion-x/build/third-party/collection.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-notion-x/build/third-party/collection.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Collection: function() { return /* binding */ Collection; },\n/* harmony export */   Property: function() { return /* binding */ PropertyImplMemo; }\n/* harmony export */ });\n/* harmony import */ var notion_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! notion-utils */ \"./node_modules/notion-utils/build/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-hotkeys-hook */ \"./node_modules/react-hotkeys-hook/dist/react-hotkeys-hook.esm.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n/* harmony import */ var react_image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-image */ \"./node_modules/react-image/umd/index.js\");\n/* harmony import */ var react_lazy_images__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-lazy-images */ \"./node_modules/react-notion-x/node_modules/react-lazy-images/dist/react-lazy-images.es.js\");\n/* harmony import */ var react_fast_compare__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-fast-compare */ \"./node_modules/react-fast-compare/index.js\");\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n// ../../node_modules/.pnpm/lodash.throttle@4.1.1/node_modules/lodash.throttle/index.js\nvar require_lodash = __commonJS({\n  \"../../node_modules/.pnpm/lodash.throttle@4.1.1/node_modules/lodash.throttle/index.js\"(exports, module) {\n    \"use strict\";\n    var FUNC_ERROR_TEXT = \"Expected a function\";\n    var NAN = 0 / 0;\n    var symbolTag = \"[object Symbol]\";\n    var reTrim = /^\\s+|\\s+$/g;\n    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n    var reIsBinary = /^0b[01]+$/i;\n    var reIsOctal = /^0o[0-7]+$/i;\n    var freeParseInt = parseInt;\n    var freeGlobal = typeof global == \"object\" && global && global.Object === Object && global;\n    var freeSelf = typeof self == \"object\" && self && self.Object === Object && self;\n    var root = freeGlobal || freeSelf || Function(\"return this\")();\n    var objectProto = Object.prototype;\n    var objectToString = objectProto.toString;\n    var nativeMax = Math.max;\n    var nativeMin = Math.min;\n    var now = function() {\n      return root.Date.now();\n    };\n    function debounce(func, wait, options) {\n      var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;\n      if (typeof func != \"function\") {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = \"maxWait\" in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = \"trailing\" in options ? !!options.trailing : trailing;\n      }\n      function invokeFunc(time) {\n        var args = lastArgs, thisArg = lastThis;\n        lastArgs = lastThis = void 0;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n      function leadingEdge(time) {\n        lastInvokeTime = time;\n        timerId = setTimeout(timerExpired, wait);\n        return leading ? invokeFunc(time) : result;\n      }\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, result2 = wait - timeSinceLastCall;\n        return maxing ? nativeMin(result2, maxWait - timeSinceLastInvoke) : result2;\n      }\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;\n        return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n      }\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n      function trailingEdge(time) {\n        timerId = void 0;\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = void 0;\n        return result;\n      }\n      function cancel() {\n        if (timerId !== void 0) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = void 0;\n      }\n      function flush() {\n        return timerId === void 0 ? result : trailingEdge(now());\n      }\n      function debounced() {\n        var time = now(), isInvoking = shouldInvoke(time);\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n        if (isInvoking) {\n          if (timerId === void 0) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === void 0) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n    function throttle2(func, wait, options) {\n      var leading = true, trailing = true;\n      if (typeof func != \"function\") {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = \"leading\" in options ? !!options.leading : leading;\n        trailing = \"trailing\" in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        \"leading\": leading,\n        \"maxWait\": wait,\n        \"trailing\": trailing\n      });\n    }\n    function isObject(value) {\n      var type = typeof value;\n      return !!value && (type == \"object\" || type == \"function\");\n    }\n    function isObjectLike(value) {\n      return !!value && typeof value == \"object\";\n    }\n    function isSymbol(value) {\n      return typeof value == \"symbol\" || isObjectLike(value) && objectToString.call(value) == symbolTag;\n    }\n    function toNumber(value) {\n      if (typeof value == \"number\") {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == \"function\" ? value.valueOf() : value;\n        value = isObject(other) ? other + \"\" : other;\n      }\n      if (typeof value != \"string\") {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, \"\");\n      var isBinary = reIsBinary.test(value);\n      return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n    }\n    module.exports = throttle2;\n  }\n});\n\n// ../../node_modules/.pnpm/format-number@3.0.0/node_modules/format-number/index.js\nvar require_format_number = __commonJS({\n  \"../../node_modules/.pnpm/format-number@3.0.0/node_modules/format-number/index.js\"(exports, module) {\n    \"use strict\";\n    module.exports = formatter;\n    module.exports.default = formatter;\n    function formatter(options) {\n      options = options || {};\n      options.negativeType = options.negativeType || (options.negative === \"R\" ? \"right\" : \"left\");\n      if (typeof options.negativeLeftSymbol !== \"string\") {\n        switch (options.negativeType) {\n          case \"left\":\n            options.negativeLeftSymbol = \"-\";\n            break;\n          case \"brackets\":\n            options.negativeLeftSymbol = \"(\";\n            break;\n          default:\n            options.negativeLeftSymbol = \"\";\n        }\n      }\n      if (typeof options.negativeRightSymbol !== \"string\") {\n        switch (options.negativeType) {\n          case \"right\":\n            options.negativeRightSymbol = \"-\";\n            break;\n          case \"brackets\":\n            options.negativeRightSymbol = \")\";\n            break;\n          default:\n            options.negativeRightSymbol = \"\";\n        }\n      }\n      if (typeof options.negativeLeftOut !== \"boolean\") {\n        options.negativeLeftOut = options.negativeOut === false ? false : true;\n      }\n      if (typeof options.negativeRightOut !== \"boolean\") {\n        options.negativeRightOut = options.negativeOut === false ? false : true;\n      }\n      options.prefix = options.prefix || \"\";\n      options.suffix = options.suffix || \"\";\n      if (typeof options.integerSeparator !== \"string\") {\n        options.integerSeparator = typeof options.separator === \"string\" ? options.separator : \",\";\n      }\n      options.decimalsSeparator = typeof options.decimalsSeparator === \"string\" ? options.decimalsSeparator : \"\";\n      options.decimal = options.decimal || \".\";\n      options.padLeft = options.padLeft || -1;\n      options.padRight = options.padRight || -1;\n      function format2(number, overrideOptions) {\n        overrideOptions = overrideOptions || {};\n        if (number || number === 0) {\n          number = \"\" + number;\n        } else {\n          return \"\";\n        }\n        var output = [];\n        var negative = number.charAt(0) === \"-\";\n        number = number.replace(/^\\-/g, \"\");\n        if (!options.negativeLeftOut && !overrideOptions.noUnits) {\n          output.push(options.prefix);\n        }\n        if (negative) {\n          output.push(options.negativeLeftSymbol);\n        }\n        if (options.negativeLeftOut && !overrideOptions.noUnits) {\n          output.push(options.prefix);\n        }\n        number = number.split(\".\");\n        if (options.round != null) round(number, options.round);\n        if (options.truncate != null) number[1] = truncate(number[1], options.truncate);\n        if (options.padLeft > 0) number[0] = padLeft(number[0], options.padLeft);\n        if (options.padRight > 0) number[1] = padRight(number[1], options.padRight);\n        if (!overrideOptions.noSeparator && number[1]) number[1] = addDecimalSeparators(number[1], options.decimalsSeparator);\n        if (!overrideOptions.noSeparator && number[0]) number[0] = addIntegerSeparators(number[0], options.integerSeparator);\n        output.push(number[0]);\n        if (number[1]) {\n          output.push(options.decimal);\n          output.push(number[1]);\n        }\n        if (options.negativeRightOut && !overrideOptions.noUnits) {\n          output.push(options.suffix);\n        }\n        if (negative) {\n          output.push(options.negativeRightSymbol);\n        }\n        if (!options.negativeRightOut && !overrideOptions.noUnits) {\n          output.push(options.suffix);\n        }\n        return output.join(\"\");\n      }\n      format2.negative = options.negative;\n      format2.negativeOut = options.negativeOut;\n      format2.negativeType = options.negativeType;\n      format2.negativeLeftOut = options.negativeLeftOut;\n      format2.negativeLeftSymbol = options.negativeLeftSymbol;\n      format2.negativeRightOut = options.negativeRightOut;\n      format2.negativeRightSymbol = options.negativeRightSymbol;\n      format2.prefix = options.prefix;\n      format2.suffix = options.suffix;\n      format2.separate = options.separate;\n      format2.integerSeparator = options.integerSeparator;\n      format2.decimalsSeparator = options.decimalsSeparator;\n      format2.decimal = options.decimal;\n      format2.padLeft = options.padLeft;\n      format2.padRight = options.padRight;\n      format2.truncate = options.truncate;\n      format2.round = options.round;\n      function unformat(number, allowedSeparators) {\n        allowedSeparators = allowedSeparators || [];\n        if (options.allowedSeparators) {\n          options.allowedSeparators.forEach(function(s) {\n            allowedSeparators.push(s);\n          });\n        }\n        allowedSeparators.push(options.integerSeparator);\n        allowedSeparators.push(options.decimalsSeparator);\n        number = number.replace(options.prefix, \"\");\n        number = number.replace(options.suffix, \"\");\n        var newNumber = number;\n        do {\n          number = newNumber;\n          for (var i = 0; i < allowedSeparators.length; i++) {\n            newNumber = newNumber.replace(allowedSeparators[i], \"\");\n          }\n        } while (newNumber != number);\n        return number;\n      }\n      format2.unformat = unformat;\n      function validate(number, allowedSeparators) {\n        number = unformat(number, allowedSeparators);\n        number = number.split(options.decimal);\n        if (number.length > 2) {\n          return false;\n        } else if (options.truncate != null && number[1] && number[1].length > options.truncate) {\n          return false;\n        } else if (options.round != null && number[1] && number[1].length > options.round) {\n          return false;\n        } else {\n          return /^-?\\d+\\.?\\d*$/.test(number);\n        }\n      }\n      return format2;\n    }\n    function addIntegerSeparators(x, separator) {\n      x += \"\";\n      if (!separator) return x;\n      var rgx = /(\\d+)(\\d{3})/;\n      while (rgx.test(x)) {\n        x = x.replace(rgx, \"$1\" + separator + \"$2\");\n      }\n      return x;\n    }\n    function addDecimalSeparators(x, separator) {\n      x += \"\";\n      if (!separator) return x;\n      var rgx = /(\\d{3})(\\d+)/;\n      while (rgx.test(x)) {\n        x = x.replace(rgx, \"$1\" + separator + \"$2\");\n      }\n      return x;\n    }\n    function padLeft(x, padding) {\n      x = x + \"\";\n      var buf = [];\n      while (buf.length + x.length < padding) {\n        buf.push(\"0\");\n      }\n      return buf.join(\"\") + x;\n    }\n    function padRight(x, padding) {\n      if (x) {\n        x += \"\";\n      } else {\n        x = \"\";\n      }\n      var buf = [];\n      while (buf.length + x.length < padding) {\n        buf.push(\"0\");\n      }\n      return x + buf.join(\"\");\n    }\n    function truncate(x, length) {\n      if (x) {\n        x += \"\";\n      }\n      if (x && x.length > length) {\n        return x.substr(0, length);\n      } else {\n        return x;\n      }\n    }\n    function round(number, places) {\n      if (number[1] && places >= 0 && number[1].length > places) {\n        var decim = number[1].slice(0, places);\n        if (+number[1].substr(places, 1) >= 5) {\n          var leadingzeros = \"\";\n          while (decim.charAt(0) === \"0\") {\n            leadingzeros = leadingzeros + \"0\";\n            decim = decim.substr(1);\n          }\n          decim = +decim + 1 + \"\";\n          decim = leadingzeros + decim;\n          if (decim.length > places) {\n            number[0] = +number[0] + +decim.charAt(0) + \"\";\n            decim = decim.substring(1);\n          }\n        }\n        number[1] = decim;\n      }\n      return number;\n    }\n  }\n});\n\n// src/third-party/collection.tsx\n\n\n\n// src/components/page-icon.tsx\n\n\n\n\n// src/context.tsx\n\n\n\n\n// src/components/asset-wrapper.tsx\n\n\n\n// src/components/header.tsx\n\n\n\n\n// src/icons/search-icon.tsx\n\n\n// src/utils.ts\n\n\nvar cs = (...classes) => classes.filter((a) => !!a).join(\" \");\nvar getHashFragmentValue = (url) => {\n  return url.includes(\"#\") ? url.replace(/^.+(#.+)$/, \"$1\") : \"\";\n};\nvar isBrowser = !!globalThis.window;\nvar youtubeDomains = /* @__PURE__ */ new Set([\n  \"youtu.be\",\n  \"youtube.com\",\n  \"www.youtube.com\",\n  \"youtube-nocookie.com\",\n  \"www.youtube-nocookie.com\"\n]);\nvar getYoutubeId = (url) => {\n  var _a;\n  try {\n    const { hostname } = new URL(url);\n    if (!youtubeDomains.has(hostname)) {\n      return null;\n    }\n    const regExp = /^.*(youtu\\.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/i;\n    const match2 = url.match(regExp);\n    if (match2 && ((_a = match2[2]) == null ? void 0 : _a.length) === 11) {\n      return match2[2];\n    }\n  } catch (e) {\n  }\n  return null;\n};\nvar getUrlParams = (url) => {\n  try {\n    const { searchParams } = new URL(url);\n    const result = {};\n    for (const [key, value] of searchParams.entries()) {\n      result[key] = value;\n    }\n    return result;\n  } catch (e) {\n  }\n  return;\n};\n\n// src/icons/search-icon.tsx\n\nfunction SearchIcon(props) {\n  const { className, ...rest } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { className: cs(\"notion-icon\", className), viewBox: \"0 0 17 17\", ...rest, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M6.78027 13.6729C8.24805 13.6729 9.60156 13.1982 10.709 12.4072L14.875 16.5732C15.0684 16.7666 15.3232 16.8633 15.5957 16.8633C16.167 16.8633 16.5713 16.4238 16.5713 15.8613C16.5713 15.5977 16.4834 15.3516 16.29 15.1582L12.1504 11.0098C13.0205 9.86719 13.5391 8.45215 13.5391 6.91406C13.5391 3.19629 10.498 0.155273 6.78027 0.155273C3.0625 0.155273 0.0214844 3.19629 0.0214844 6.91406C0.0214844 10.6318 3.0625 13.6729 6.78027 13.6729ZM6.78027 12.2139C3.87988 12.2139 1.48047 9.81445 1.48047 6.91406C1.48047 4.01367 3.87988 1.61426 6.78027 1.61426C9.68066 1.61426 12.0801 4.01367 12.0801 6.91406C12.0801 9.81445 9.68066 12.2139 6.78027 12.2139Z\" }) });\n}\n\n// src/components/search-dialog.tsx\nvar import_lodash = __toESM(require_lodash(), 1);\n\n\n\n// src/icons/clear-icon.tsx\n\n\nfunction ClearIcon(props) {\n  const { className, ...rest } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { className: cs(\"notion-icon\", className), ...rest, viewBox: \"0 0 30 30\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M15,0C6.716,0,0,6.716,0,15s6.716,15,15,15s15-6.716,15-15S23.284,0,15,0z M22,20.6L20.6,22L15,16.4L9.4,22L8,20.6l5.6-5.6 L8,9.4L9.4,8l5.6,5.6L20.6,8L22,9.4L16.4,15L22,20.6z\" }) });\n}\n\n// src/icons/loading-icon.tsx\n\n\nfunction LoadingIcon(props) {\n  const { className, ...rest } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"svg\", { className: cs(\"notion-icon\", className), ...rest, viewBox: \"0 0 24 24\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"defs\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\n      \"linearGradient\",\n      {\n        x1: \"28.1542969%\",\n        y1: \"63.7402344%\",\n        x2: \"74.6289062%\",\n        y2: \"17.7832031%\",\n        id: \"linearGradient-1\",\n        children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"stop\", { stopColor: \"rgba(164, 164, 164, 1)\", offset: \"0%\" }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n            \"stop\",\n            {\n              stopColor: \"rgba(164, 164, 164, 0)\",\n              stopOpacity: \"0\",\n              offset: \"100%\"\n            }\n          )\n        ]\n      }\n    ) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"g\", { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"g\", { transform: \"translate(-236.000000, -286.000000)\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"g\", { transform: \"translate(238.000000, 286.000000)\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        \"circle\",\n        {\n          id: \"Oval-2\",\n          stroke: \"url(#linearGradient-1)\",\n          strokeWidth: \"4\",\n          cx: \"10\",\n          cy: \"12\",\n          r: \"10\"\n        }\n      ),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        \"path\",\n        {\n          d: \"M10,2 C4.4771525,2 0,6.4771525 0,12\",\n          id: \"Oval-2\",\n          stroke: \"rgba(164, 164, 164, 1)\",\n          strokeWidth: \"4\"\n        }\n      ),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        \"rect\",\n        {\n          id: \"Rectangle-1\",\n          fill: \"rgba(164, 164, 164, 1)\",\n          x: \"8\",\n          y: \"0\",\n          width: \"4\",\n          height: \"4\",\n          rx: \"8\"\n        }\n      )\n    ] }) }) })\n  ] });\n}\n\n// src/components/page-title.tsx\n\n\n\n\n// src/components/text.tsx\n\n\n\n\n// src/components/eoi.tsx\n\n\n// src/icons/type-github.tsx\n\nfunction SvgTypeGitHub(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 260 260\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"g\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n    \"path\",\n    {\n      d: \"M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z\",\n      fill: \"#161614\"\n    }\n  ) }) });\n}\nvar type_github_default = SvgTypeGitHub;\n\n// src/components/mention-preview-card.tsx\n\nfunction capitalizeFirstLetter(str) {\n  if (!str) return \"\";\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nfunction MentionPreviewCard({\n  owner,\n  lastUpdated,\n  externalImage,\n  title,\n  domain\n}) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-external-subtitle\", children: [\n    externalImage && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-preview-card-domain-warp\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-preview-card-logo\", children: externalImage }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-preview-card-domain\", children: capitalizeFirstLetter(domain.split(\".\")[0]) })\n    ] }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-preview-card-title\", children: title }),\n    owner && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-external-subtitle-item\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-external-subtitle-item-name\", children: \"Owner\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"notion-external-subtitle-item-desc\", children: owner })\n    ] }),\n    lastUpdated && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-external-subtitle-item\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-external-subtitle-item-name\", children: \"Updated\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"notion-external-subtitle-item-desc\", children: lastUpdated })\n    ] }),\n    domain === \"github.com\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-preview-card-github-shields\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        \"img\",\n        {\n          src: `https://img.shields.io/github/stars/${owner}/${title}?logo=github`,\n          alt: \"\"\n        }\n      ),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        \"img\",\n        {\n          src: `https://img.shields.io/github/last-commit/${owner}/${title}`,\n          alt: \"\"\n        }\n      )\n    ] })\n  ] });\n}\n\n// src/components/eoi.tsx\n\nfunction EOI({\n  block,\n  inline,\n  className\n}) {\n  var _a, _b, _c;\n  const { components } = useNotionContext();\n  const { original_url, attributes, domain } = (block == null ? void 0 : block.format) || {};\n  if (!original_url || !attributes) {\n    return null;\n  }\n  const title = (_a = attributes.find((attr) => attr.id === \"title\")) == null ? void 0 : _a.values[0];\n  let owner = (_b = attributes.find((attr) => attr.id === \"owner\")) == null ? void 0 : _b.values[0];\n  const lastUpdatedAt = (_c = attributes.find((attr) => attr.id === \"updated_at\")) == null ? void 0 : _c.values[0];\n  const lastUpdated = lastUpdatedAt ? (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.formatNotionDateTime)(lastUpdatedAt) : null;\n  let externalImage;\n  switch (domain) {\n    case \"github.com\":\n      externalImage = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(type_github_default, {});\n      if (owner) {\n        const parts = owner.split(\"/\");\n        owner = parts.at(-1);\n      }\n      break;\n    default:\n      if (true) {\n        console.log(\n          `Unsupported external_object_instance domain \"${domain}\"`,\n          JSON.stringify(block, null, 2)\n        );\n      }\n      return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\n    components.Link,\n    {\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      href: original_url,\n      className: cs(\n        \"notion-external\",\n        inline ? \"notion-external-mention\" : \"notion-external-block notion-row\",\n        className\n      ),\n      children: [\n        externalImage && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-external-image\", children: externalImage }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-external-description\", children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-external-title\", children: title }),\n          !inline && owner ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-external-block-desc\", children: [\n            owner,\n            lastUpdated && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { children: \" \\u2022 \" }),\n            lastUpdated && `Updated ${lastUpdated}`\n          ] }) : null,\n          inline && (owner || lastUpdated) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n            MentionPreviewCard,\n            {\n              title,\n              owner,\n              lastUpdated,\n              domain,\n              externalImage\n            }\n          )\n        ] })\n      ]\n    }\n  );\n}\n\n// src/components/graceful-image.tsx\n\n\n\nfunction GracefulImage(props) {\n  if (isBrowser) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_image__WEBPACK_IMPORTED_MODULE_4__.Img, { ...props });\n  } else {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { ...props });\n  }\n}\n\n// src/components/link-mention.tsx\n\n\nfunction LinkMention({ metadata }) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"notion-link-mention\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LinkMentionInline, { metadata }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LinkMentionPreview, { metadata })\n  ] });\n}\nfunction LinkMentionInline({ metadata }) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\n    \"a\",\n    {\n      href: metadata.href,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      className: \"notion-link-mention-link\",\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n          \"img\",\n          {\n            className: \"notion-link-mention-icon\",\n            src: metadata.icon_url,\n            alt: metadata.link_provider\n          }\n        ),\n        metadata.link_provider && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"notion-link-mention-provider\", children: metadata.link_provider }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"notion-link-mention-title\", children: metadata.title })\n      ]\n    }\n  );\n}\nfunction LinkMentionPreview({ metadata }) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-link-mention-preview\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"article\", { className: \"notion-link-mention-card\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      \"img\",\n      {\n        className: \"notion-link-mention-preview-thumbnail\",\n        src: metadata.thumbnail_url,\n        alt: metadata.title,\n        referrerPolicy: \"same-origin\"\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-link-mention-preview-content\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"notion-link-mention-preview-title\", children: metadata.title }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"notion-link-mention-preview-description\", children: metadata.description }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-link-mention-preview-footer\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n          \"img\",\n          {\n            className: \"notion-link-mention-preview-icon\",\n            src: metadata.icon_url,\n            alt: metadata.link_provider,\n            referrerPolicy: \"same-origin\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"notion-link-mention-preview-provider\", children: metadata.link_provider })\n      ] })\n    ] })\n  ] }) });\n}\n\n// src/components/text.tsx\n\nfunction Text({\n  value,\n  block,\n  linkProps,\n  linkProtocol\n}) {\n  const { components, recordMap, mapPageUrl, mapImageUrl, rootDomain } = useNotionContext();\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: value == null ? void 0 : value.map(([text, decorations], index) => {\n    if (!decorations) {\n      if (text === \",\") {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { style: { padding: \"0.5em\" } }, index);\n      } else {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: text }, index);\n      }\n    }\n    const formatted = decorations.reduce(\n      (element, decorator) => {\n        var _a, _b, _c, _d, _e;\n        switch (decorator[0]) {\n          case \"p\": {\n            const blockId = decorator[1];\n            const linkedBlock = (_a = recordMap.block[blockId]) == null ? void 0 : _a.value;\n            if (!linkedBlock) {\n              console.log('\"p\" missing block', blockId);\n              return null;\n            }\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n              components.PageLink,\n              {\n                className: \"notion-link\",\n                href: mapPageUrl(blockId),\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PageTitle, { block: linkedBlock })\n              }\n            );\n          }\n          case \"\\u2023\": {\n            const linkType = decorator[1][0];\n            const id = decorator[1][1];\n            switch (linkType) {\n              case \"u\": {\n                const user = (_b = recordMap.notion_user[id]) == null ? void 0 : _b.value;\n                if (!user) {\n                  console.log('\"\\u2023\" missing user', id);\n                  return null;\n                }\n                const src = mapImageUrl(user.profile_photo, block);\n                if (!src) return null;\n                const name = [user.given_name, user.family_name].filter(Boolean).join(\" \");\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n                  GracefulImage,\n                  {\n                    className: \"notion-user\",\n                    src,\n                    alt: name\n                  }\n                );\n              }\n              default: {\n                const linkedBlock = (_c = recordMap.block[id]) == null ? void 0 : _c.value;\n                if (!linkedBlock) {\n                  console.log('\"\\u2023\" missing block', linkType, id);\n                  return null;\n                }\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n                  components.PageLink,\n                  {\n                    className: \"notion-link\",\n                    href: mapPageUrl(id),\n                    ...linkProps,\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PageTitle, { block: linkedBlock })\n                  }\n                );\n              }\n            }\n          }\n          case \"h\":\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: `notion-${decorator[1]}`, children: element });\n          case \"c\":\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"code\", { className: \"notion-inline-code\", children: element });\n          case \"b\":\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"b\", { children: element });\n          case \"i\":\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"em\", { children: element });\n          case \"s\":\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"s\", { children: element });\n          case \"_\":\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"notion-inline-underscore\", children: element });\n          case \"e\":\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(components.Equation, { math: decorator[1], inline: true });\n          case \"m\":\n            return element;\n          //still need to return the base element\n          case \"a\": {\n            const v = decorator[1];\n            const pathname = v.slice(1);\n            const id = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.parsePageId)(pathname, { uuid: true });\n            if (rootDomain && v.includes(rootDomain) || id && v[0] === \"/\") {\n              const href = rootDomain && v.includes(rootDomain) ? v : `${mapPageUrl(id)}${getHashFragmentValue(v)}`;\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n                components.PageLink,\n                {\n                  className: \"notion-link\",\n                  href,\n                  ...linkProps,\n                  children: element\n                }\n              );\n            } else {\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n                components.Link,\n                {\n                  className: \"notion-link\",\n                  href: linkProtocol ? `${linkProtocol}:${decorator[1]}` : decorator[1],\n                  ...linkProps,\n                  children: element\n                }\n              );\n            }\n          }\n          case \"d\": {\n            const v = decorator[1];\n            const type = v == null ? void 0 : v.type;\n            if (type === \"date\") {\n              const startDate = v.start_date;\n              return (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.formatDate)(startDate);\n            } else if (type === \"datetime\") {\n              const startDate = v.start_date;\n              const startTime = v.start_time;\n              return `${(0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.formatDate)(startDate)} ${startTime}`;\n            } else if (type === \"daterange\") {\n              const startDate = v.start_date;\n              const endDate = v.end_date;\n              return `${(0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.formatDate)(startDate)} \\u2192 ${(0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.formatDate)(endDate)}`;\n            } else {\n              return element;\n            }\n          }\n          case \"u\": {\n            const userId = decorator[1];\n            const user = (_d = recordMap.notion_user[userId]) == null ? void 0 : _d.value;\n            if (!user) {\n              console.log(\"missing user\", userId);\n              return null;\n            }\n            const src = mapImageUrl(user.profile_photo, block);\n            if (!src) return null;\n            const name = [user.given_name, user.family_name].filter(Boolean).join(\" \");\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GracefulImage, { className: \"notion-user\", src, alt: name });\n          }\n          case \"lm\": {\n            const metadata = decorator[1];\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LinkMention, { metadata });\n          }\n          case \"eoi\": {\n            const blockId = decorator[1];\n            const externalObjectInstance = (_e = recordMap.block[blockId]) == null ? void 0 : _e.value;\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EOI, { block: externalObjectInstance, inline: true });\n          }\n          case \"si\":\n            return null;\n          default:\n            if (true) {\n              console.log(\"unsupported text format\", decorator);\n            }\n            return element;\n        }\n      },\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: text })\n    );\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: formatted }, index);\n  }) });\n}\n\n// src/components/page-title.tsx\n\nfunction PageTitleImpl({\n  block,\n  className,\n  defaultIcon,\n  ...rest\n}) {\n  var _a, _b;\n  const { recordMap } = useNotionContext();\n  if (!block) return null;\n  if (block.type === \"collection_view_page\" || block.type === \"collection_view\") {\n    const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.getBlockTitle)(block, recordMap);\n    if (!title) {\n      return null;\n    }\n    const titleDecoration = [[title]];\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: cs(\"notion-page-title\", className), ...rest, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        PageIcon,\n        {\n          block,\n          defaultIcon,\n          className: \"notion-page-title-icon\"\n        }\n      ),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"notion-page-title-text\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: titleDecoration, block }) })\n    ] });\n  }\n  if (!((_a = block.properties) == null ? void 0 : _a.title)) {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: cs(\"notion-page-title\", className), ...rest, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      PageIcon,\n      {\n        block,\n        defaultIcon,\n        className: \"notion-page-title-icon\"\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"notion-page-title-text\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: (_b = block.properties) == null ? void 0 : _b.title, block }) })\n  ] });\n}\nvar PageTitle = react__WEBPACK_IMPORTED_MODULE_0__.memo(PageTitleImpl);\n\n// src/components/search-dialog.tsx\n\nvar SearchDialog = class extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  constructor(props) {\n    super(props);\n    __publicField(this, \"state\", {\n      isLoading: false,\n      query: \"\",\n      searchResult: null,\n      searchError: null\n    });\n    __publicField(this, \"_inputRef\");\n    __publicField(this, \"_search\");\n    __publicField(this, \"_onAfterOpen\", () => {\n      if (this._inputRef.current) {\n        this._inputRef.current.focus();\n      }\n    });\n    __publicField(this, \"_onChangeQuery\", (e) => {\n      const query = e.target.value;\n      this.setState({ query });\n      if (!query.trim()) {\n        this.setState({ isLoading: false, searchResult: null, searchError: null });\n        return;\n      } else {\n        this._search();\n      }\n    });\n    __publicField(this, \"_onClearQuery\", () => {\n      this._onChangeQuery({ target: { value: \"\" } });\n    });\n    __publicField(this, \"_warmupSearch\", async () => {\n      const { searchNotion, rootBlockId } = this.props;\n      await searchNotion({\n        query: \"\",\n        ancestorId: rootBlockId\n      });\n    });\n    __publicField(this, \"_searchImpl\", async () => {\n      const { searchNotion, rootBlockId } = this.props;\n      const { query } = this.state;\n      if (!query.trim()) {\n        this.setState({ isLoading: false, searchResult: null, searchError: null });\n        return;\n      }\n      this.setState({ isLoading: true });\n      const result = await searchNotion({\n        query,\n        ancestorId: rootBlockId\n      });\n      console.log(\"search\", query, result);\n      let searchResult = null;\n      let searchError = null;\n      if (result.error || result.errorId) {\n        searchError = result;\n      } else {\n        searchResult = { ...result };\n        const results = searchResult.results.map((result2) => {\n          var _a, _b;\n          const block = (_a = searchResult.recordMap.block[result2.id]) == null ? void 0 : _a.value;\n          if (!block) return;\n          const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.getBlockTitle)(block, searchResult.recordMap);\n          if (!title) {\n            return;\n          }\n          result2.title = title;\n          result2.block = block;\n          result2.recordMap = searchResult.recordMap;\n          result2.page = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.getBlockParentPage)(block, searchResult.recordMap, {\n            inclusive: true\n          }) || block;\n          if (!result2.page.id) {\n            return;\n          }\n          if ((_b = result2.highlight) == null ? void 0 : _b.text) {\n            result2.highlight.html = result2.highlight.text.replaceAll(/<gzknfouu>/gi, \"<b>\").replaceAll(/<\\/gzknfouu>/gi, \"</b>\");\n          }\n          return result2;\n        }).filter(Boolean);\n        const searchResultsMap = Object.fromEntries(\n          results.map((result2) => [result2.page.id, result2])\n        );\n        searchResult.results = Object.values(searchResultsMap);\n      }\n      if (this.state.query === query) {\n        this.setState({ isLoading: false, searchResult, searchError });\n      }\n    });\n    this._inputRef = react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n  }\n  componentDidMount() {\n    this._search = (0, import_lodash.default)(this._searchImpl.bind(this), 1e3);\n    void this._warmupSearch();\n  }\n  render() {\n    const { isOpen, onClose } = this.props;\n    const { isLoading, query, searchResult, searchError } = this.state;\n    const hasQuery = !!query.trim();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NotionContextConsumer, { children: (ctx2) => {\n      const { components, defaultPageIcon, mapPageUrl } = ctx2;\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        components.Modal,\n        {\n          isOpen,\n          contentLabel: \"Search\",\n          className: \"notion-search\",\n          overlayClassName: \"notion-search-overlay\",\n          onRequestClose: onClose,\n          onAfterOpen: this._onAfterOpen,\n          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"quickFindMenu\", children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"searchBar\", children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"inlineIcon\", children: isLoading ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIcon, { className: \"loadingIcon\" }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchIcon, {}) }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n                \"input\",\n                {\n                  className: \"searchInput\",\n                  placeholder: \"Search\",\n                  value: query,\n                  ref: this._inputRef,\n                  onChange: this._onChangeQuery\n                }\n              ),\n              query && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n                \"div\",\n                {\n                  role: \"button\",\n                  className: \"clearButton\",\n                  onClick: this._onClearQuery,\n                  children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ClearIcon, { className: \"clearIcon\" })\n                }\n              )\n            ] }),\n            hasQuery && searchResult && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: searchResult.results.length ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\n              NotionContextProvider,\n              {\n                ...ctx2,\n                recordMap: searchResult.recordMap,\n                children: [\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"resultsPane\", children: searchResult.results.map((result) => {\n                    var _a;\n                    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\n                      components.PageLink,\n                      {\n                        className: cs(\"result\", \"notion-page-link\"),\n                        href: mapPageUrl(\n                          result.page.id,\n                          // TODO\n                          searchResult.recordMap\n                        ),\n                        children: [\n                          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n                            PageTitle,\n                            {\n                              block: result.page,\n                              defaultIcon: defaultPageIcon\n                            }\n                          ),\n                          ((_a = result.highlight) == null ? void 0 : _a.html) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n                            \"div\",\n                            {\n                              className: \"notion-search-result-highlight\",\n                              dangerouslySetInnerHTML: {\n                                __html: result.highlight.html\n                              }\n                            }\n                          )\n                        ]\n                      },\n                      result.id\n                    );\n                  }) }),\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"footer\", { className: \"resultsFooter\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"resultsCount\", children: searchResult.total }),\n                    searchResult.total === 1 ? \" result\" : \" results\"\n                  ] }) })\n                ]\n              }\n            ) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"noResultsPane\", children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"noResults\", children: \"No results\" }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"noResultsDetail\", children: \"Try different search terms\" })\n            ] }) }),\n            hasQuery && !searchResult && searchError && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"noResultsPane\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"noResults\", children: \"Search error\" }) })\n          ] })\n        }\n      );\n    } });\n  }\n};\n\n// src/components/header.tsx\n\nfunction Header({\n  block\n}) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"header\", { className: \"notion-header\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-nav-header\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Breadcrumbs, { block }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Search, { block })\n  ] }) });\n}\nfunction Breadcrumbs({\n  block,\n  rootOnly = false\n}) {\n  const { recordMap, mapPageUrl, components } = useNotionContext();\n  const breadcrumbs = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const tempBreadcrumbs = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.getPageBreadcrumbs)(recordMap, block.id);\n    if (rootOnly) {\n      return [tempBreadcrumbs == null ? void 0 : tempBreadcrumbs[0]].filter(Boolean);\n    }\n    return tempBreadcrumbs;\n  }, [recordMap, block.id, rootOnly]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"breadcrumbs\", children: breadcrumbs == null ? void 0 : breadcrumbs.map((breadcrumb, index) => {\n    if (!breadcrumb) {\n      return null;\n    }\n    const pageLinkProps = {};\n    const componentMap = {\n      pageLink: components.PageLink\n    };\n    if (breadcrumb.active) {\n      componentMap.pageLink = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { ...props });\n    } else {\n      pageLinkProps.href = mapPageUrl(breadcrumb.pageId);\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\n        componentMap.pageLink,\n        {\n          className: cs(\"breadcrumb\", breadcrumb.active && \"active\"),\n          ...pageLinkProps,\n          children: [\n            breadcrumb.icon && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PageIcon, { className: \"icon\", block: breadcrumb.block }),\n            breadcrumb.title && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"title\", children: breadcrumb.title })\n          ]\n        }\n      ),\n      index < breadcrumbs.length - 1 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"spacer\", children: \"/\" })\n    ] }, breadcrumb.pageId);\n  }) }, \"breadcrumbs\");\n}\nfunction Search({\n  block,\n  search,\n  title = \"Search\"\n}) {\n  const { searchNotion, rootPageId, isShowingSearch, onHideSearch } = useNotionContext();\n  const onSearchNotion = search || searchNotion;\n  const [isSearchOpen, setIsSearchOpen] = react__WEBPACK_IMPORTED_MODULE_0__.useState(isShowingSearch);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    setIsSearchOpen(isShowingSearch);\n  }, [isShowingSearch]);\n  const onOpenSearch = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    setIsSearchOpen(true);\n  }, []);\n  const onCloseSearch = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    setIsSearchOpen(false);\n    if (onHideSearch) {\n      onHideSearch();\n    }\n  }, [onHideSearch]);\n  (0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.useHotkeys)(\"cmd+p\", (event) => {\n    onOpenSearch();\n    event.preventDefault();\n    event.stopPropagation();\n  });\n  (0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.useHotkeys)(\"cmd+k\", (event) => {\n    onOpenSearch();\n    event.preventDefault();\n    event.stopPropagation();\n  });\n  const hasSearch = !!onSearchNotion;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [\n    hasSearch && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\n      \"div\",\n      {\n        role: \"button\",\n        className: cs(\"breadcrumb\", \"button\", \"notion-search-button\"),\n        onClick: onOpenSearch,\n        children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchIcon, { className: \"searchIcon\" }),\n          title && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"title\", children: title })\n        ]\n      }\n    ),\n    isSearchOpen && hasSearch && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      SearchDialog,\n      {\n        isOpen: isSearchOpen,\n        rootBlockId: rootPageId || (block == null ? void 0 : block.id),\n        onClose: onCloseSearch,\n        searchNotion: onSearchNotion\n      }\n    )\n  ] });\n}\n\n// src/components/lazy-image.tsx\n\n\n\n\nfunction LazyImage({\n  src,\n  alt,\n  className,\n  style,\n  zoomable = false,\n  priority = false,\n  height,\n  ...rest\n}) {\n  var _a, _b, _c;\n  const { recordMap, zoom, previewImages, forceCustomImages, components } = useNotionContext();\n  const zoomRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(zoom ? zoom.clone() : null);\n  const previewImage = previewImages ? (_c = (_a = recordMap == null ? void 0 : recordMap.preview_images) == null ? void 0 : _a[src]) != null ? _c : (_b = recordMap == null ? void 0 : recordMap.preview_images) == null ? void 0 : _b[(0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.normalizeUrl)(src)] : null;\n  const onLoad = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (e) => {\n      if (zoomable && (e.target.src || e.target.srcset)) {\n        if (zoomRef.current) {\n          ;\n          zoomRef.current.attach(e.target);\n        }\n      }\n    },\n    [zoomRef, zoomable]\n  );\n  const attachZoom = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (image) => {\n      if (zoomRef.current && image) {\n        ;\n        zoomRef.current.attach(image);\n      }\n    },\n    [zoomRef]\n  );\n  const attachZoomRef = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => zoomable ? attachZoom : void 0,\n    [zoomable, attachZoom]\n  );\n  if (previewImage) {\n    const aspectRatio = previewImage.originalHeight / previewImage.originalWidth;\n    if (components.Image) {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        components.Image,\n        {\n          src,\n          alt,\n          style,\n          className,\n          width: previewImage.originalWidth,\n          height: previewImage.originalHeight,\n          blurDataURL: previewImage.dataURIBase64,\n          placeholder: \"blur\",\n          priority,\n          onLoad\n        }\n      );\n    }\n    return (\n      // @ts-expect-error LazyImage types are out-of-date.\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_lazy_images__WEBPACK_IMPORTED_MODULE_5__.LazyImageFull, { src, ...rest, experimentalDecode: true, children: ({ imageState, ref }) => {\n        const isLoaded = imageState === react_lazy_images__WEBPACK_IMPORTED_MODULE_5__.ImageState.LoadSuccess;\n        const wrapperStyle = {\n          width: \"100%\"\n        };\n        const imgStyle = {};\n        if (height) {\n          wrapperStyle.height = height;\n        } else {\n          imgStyle.position = \"absolute\";\n          wrapperStyle.paddingBottom = `${aspectRatio * 100}%`;\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\n          \"div\",\n          {\n            className: cs(\n              \"lazy-image-wrapper\",\n              isLoaded && \"lazy-image-loaded\",\n              className\n            ),\n            style: wrapperStyle,\n            children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n                \"img\",\n                {\n                  className: \"lazy-image-preview\",\n                  src: previewImage.dataURIBase64,\n                  alt,\n                  ref,\n                  style,\n                  decoding: \"async\"\n                }\n              ),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n                \"img\",\n                {\n                  className: \"lazy-image-real\",\n                  src,\n                  alt,\n                  ref: attachZoomRef,\n                  style: {\n                    ...style,\n                    ...imgStyle\n                  },\n                  width: previewImage.originalWidth,\n                  height: previewImage.originalHeight,\n                  decoding: \"async\",\n                  loading: \"lazy\"\n                }\n              )\n            ]\n          }\n        );\n      } })\n    );\n  } else {\n    if (components.Image && forceCustomImages) {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        components.Image,\n        {\n          src,\n          alt,\n          className,\n          style,\n          width: null,\n          height: height || null,\n          priority,\n          onLoad\n        }\n      );\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      \"img\",\n      {\n        className,\n        style,\n        src,\n        alt,\n        ref: attachZoomRef,\n        loading: \"lazy\",\n        decoding: \"async\",\n        ...rest\n      }\n    );\n  }\n}\n\n// src/components/asset.tsx\n\n\n\n// src/components/lite-youtube-embed.tsx\n\n\nvar qs = (params) => {\n  return Object.keys(params).map(\n    (key) => `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`\n  ).join(\"&\");\n};\nvar resolutions = [120, 320, 480, 640, 1280];\nvar resolutionMap = {\n  120: \"default\",\n  320: \"mqdefault\",\n  480: \"hqdefault\",\n  640: \"sddefault\",\n  1280: \"maxresdefault\"\n  // 2k, 4k, 8k images don't seem to be available\n  // Source: https://longzero.com/articles/youtube-thumbnail-sizes-url/\n};\nvar resolutionSizes = resolutions.map((resolution) => `(max-width: ${resolution}px) ${resolution}px`).join(\", \");\nfunction getPosterUrl(id, resolution = 480, type = \"jpg\") {\n  if (type === \"webp\") {\n    return `https://i.ytimg.com/vi_webp/${id}/${resolutionMap[resolution]}.webp`;\n  }\n  return `https://i.ytimg.com/vi/${id}/${resolutionMap[resolution]}.jpg`;\n}\nfunction generateSrcSet(id, type = \"jpg\") {\n  return resolutions.map((resolution) => `${getPosterUrl(id, resolution, type)} ${resolution}w`).join(\", \");\n}\nfunction LiteYouTubeEmbed({\n  id,\n  defaultPlay = false,\n  mute = false,\n  lazyImage = false,\n  iframeTitle = \"YouTube video\",\n  alt = \"Video preview\",\n  params = {},\n  adLinksPreconnect = true,\n  style,\n  className\n}) {\n  const muteParam = mute || defaultPlay ? \"1\" : \"0\";\n  const queryString = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => qs({ autoplay: \"1\", mute: muteParam, ...params }),\n    [muteParam, params]\n  );\n  const ytUrl = \"https://www.youtube-nocookie.com\";\n  const iframeSrc = `${ytUrl}/embed/${id}?${queryString}`;\n  const [isPreconnected, setIsPreconnected] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const [iframeInitialized, setIframeInitialized] = react__WEBPACK_IMPORTED_MODULE_0__.useState(defaultPlay);\n  const [isIframeLoaded, setIsIframeLoaded] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const warmConnections = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    if (isPreconnected) return;\n    setIsPreconnected(true);\n  }, [isPreconnected]);\n  const onLoadIframe = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    if (iframeInitialized) return;\n    setIframeInitialized(true);\n  }, [iframeInitialized]);\n  const onIframeLoaded = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    setIsIframeLoaded(true);\n  }, []);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      \"link\",\n      {\n        rel: \"preload\",\n        as: \"image\",\n        href: getPosterUrl(id),\n        imageSrcSet: generateSrcSet(id, \"webp\"),\n        imageSizes: resolutionSizes\n      }\n    ),\n    isPreconnected && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"link\", { rel: \"preconnect\", href: ytUrl }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"link\", { rel: \"preconnect\", href: \"https://www.google.com\" })\n    ] }),\n    isPreconnected && adLinksPreconnect && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"link\", { rel: \"preconnect\", href: \"https://static.doubleclick.net\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"link\", { rel: \"preconnect\", href: \"https://googleads.g.doubleclick.net\" })\n    ] }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\n      \"div\",\n      {\n        onClick: onLoadIframe,\n        onPointerOver: warmConnections,\n        className: cs(\n          \"notion-yt-lite\",\n          isIframeLoaded && \"notion-yt-loaded\",\n          iframeInitialized && \"notion-yt-initialized\",\n          className\n        ),\n        style,\n        children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"picture\", { children: [\n            resolutions.map((resolution) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n              \"source\",\n              {\n                srcSet: `${getPosterUrl(id, resolution, \"webp\")} ${resolution}w`,\n                media: `(max-width: ${resolution}px)`,\n                type: \"image/webp\"\n              },\n              resolution\n            )),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n              \"img\",\n              {\n                src: getPosterUrl(id),\n                className: \"notion-yt-thumbnail\",\n                loading: lazyImage ? \"lazy\" : void 0,\n                alt\n              }\n            )\n          ] }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-yt-playbtn\" }),\n          iframeInitialized && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n            \"iframe\",\n            {\n              width: \"560\",\n              height: \"315\",\n              frameBorder: \"0\",\n              allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\n              allowFullScreen: true,\n              title: iframeTitle,\n              src: iframeSrc,\n              onLoad: onIframeLoaded\n            }\n          )\n        ]\n      }\n    )\n  ] });\n}\n\n// src/components/asset.tsx\n\nvar isServer = !globalThis.window;\nvar supportedAssetTypes = /* @__PURE__ */ new Set([\n  \"replit\",\n  \"video\",\n  \"image\",\n  \"embed\",\n  \"figma\",\n  \"typeform\",\n  \"excalidraw\",\n  \"maps\",\n  \"tweet\",\n  \"pdf\",\n  \"gist\",\n  \"codepen\",\n  \"drive\"\n]);\nfunction Asset({\n  block,\n  zoomable = true,\n  children\n}) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l;\n  const { recordMap, mapImageUrl, components } = useNotionContext();\n  if (!block || !supportedAssetTypes.has(block.type)) {\n    return null;\n  }\n  const style = {\n    position: \"relative\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n    width: \"100%\",\n    maxWidth: \"100%\",\n    flexDirection: \"column\"\n  };\n  const assetStyle = {};\n  if (block.format) {\n    const {\n      block_aspect_ratio,\n      block_height,\n      block_width,\n      block_full_width,\n      block_page_width,\n      block_preserve_scale\n    } = block.format;\n    if (block_full_width || block_page_width) {\n      if (block_full_width) {\n        style.width = \"100vw\";\n      } else {\n        style.width = \"100%\";\n      }\n      if (block.type === \"video\") {\n        if (block_height) {\n          style.height = block_height;\n        } else if (block_aspect_ratio) {\n          style.paddingBottom = `${block_aspect_ratio * 100}%`;\n        } else if (block_preserve_scale) {\n          style.objectFit = \"contain\";\n        }\n      } else if (block_aspect_ratio && block.type !== \"image\") {\n        style.paddingBottom = `${block_aspect_ratio * 100}%`;\n      } else if (block_height) {\n        style.height = block_height;\n      } else if (block_preserve_scale) {\n        if (block.type === \"image\") {\n          style.height = \"100%\";\n        } else {\n          style.paddingBottom = \"75%\";\n          style.minHeight = 100;\n        }\n      }\n    } else {\n      switch ((_a = block.format) == null ? void 0 : _a.block_alignment) {\n        case \"center\":\n          style.alignSelf = \"center\";\n          break;\n        case \"left\":\n          style.alignSelf = \"start\";\n          break;\n        case \"right\":\n          style.alignSelf = \"end\";\n          break;\n      }\n      if (block_width) {\n        style.width = block_width;\n      }\n      if (block_preserve_scale && block.type !== \"image\") {\n        style.paddingBottom = \"50%\";\n        style.minHeight = 100;\n      } else {\n        if (block_height && block.type !== \"image\") {\n          style.height = block_height;\n        }\n      }\n    }\n    if (block.type === \"image\") {\n      assetStyle.objectFit = \"cover\";\n    } else if (block_preserve_scale) {\n      assetStyle.objectFit = \"contain\";\n    }\n  }\n  let source = ((_b = recordMap.signed_urls) == null ? void 0 : _b[block.id]) || ((_e = (_d = (_c = block.properties) == null ? void 0 : _c.source) == null ? void 0 : _d[0]) == null ? void 0 : _e[0]);\n  if (!source) {\n    return null;\n  }\n  if (block.space_id) {\n    const url = new URL(source);\n    url.searchParams.set(\"spaceId\", block.space_id);\n    source = url.toString();\n  }\n  let content = null;\n  if (block.type === \"tweet\") {\n    const src = source;\n    if (!src) return null;\n    const id = (_g = (_f = src.split(\"?\")) == null ? void 0 : _f[0]) == null ? void 0 : _g.split(\"/\").pop();\n    if (!id) return null;\n    content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      \"div\",\n      {\n        style: {\n          ...assetStyle,\n          maxWidth: 420,\n          width: \"100%\",\n          marginLeft: \"auto\",\n          marginRight: \"auto\"\n        },\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(components.Tweet, { id })\n      }\n    );\n  } else if (block.type === \"pdf\") {\n    style.overflow = \"auto\";\n    style.background = \"rgb(226, 226, 226)\";\n    style.display = \"block\";\n    if (!style.padding) {\n      style.padding = \"8px 16px\";\n    }\n    if (!isServer) {\n      content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(components.Pdf, { file: source });\n    }\n  } else if (block.type === \"embed\" || block.type === \"video\" || block.type === \"figma\" || block.type === \"typeform\" || block.type === \"gist\" || block.type === \"maps\" || block.type === \"excalidraw\" || block.type === \"codepen\" || block.type === \"drive\" || block.type === \"replit\") {\n    if (block.type === \"video\" && source && !source.includes(\"youtube\") && !source.includes(\"youtu.be\") && !source.includes(\"vimeo\") && !source.includes(\"wistia\") && !source.includes(\"loom\") && !source.includes(\"videoask\") && !source.includes(\"getcloudapp\") && !source.includes(\"tella\")) {\n      style.paddingBottom = void 0;\n      content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        \"video\",\n        {\n          playsInline: true,\n          controls: true,\n          preload: \"metadata\",\n          style: assetStyle,\n          src: source,\n          title: block.type\n        }\n      );\n    } else {\n      let src = ((_h = block.format) == null ? void 0 : _h.display_source) || source;\n      if (src) {\n        const youtubeVideoId = block.type === \"video\" ? getYoutubeId(src) : null;\n        if (youtubeVideoId) {\n          const params = getUrlParams(src);\n          content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n            LiteYouTubeEmbed,\n            {\n              id: youtubeVideoId,\n              style: assetStyle,\n              className: \"notion-asset-object-fit\",\n              params\n            }\n          );\n        } else if (block.type === \"gist\") {\n          if (!src.endsWith(\".pibb\")) {\n            src = `${src}.pibb`;\n          }\n          assetStyle.width = \"100%\";\n          style.paddingBottom = \"50%\";\n          content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n            \"iframe\",\n            {\n              style: assetStyle,\n              className: \"notion-asset-object-fit\",\n              src,\n              title: \"GitHub Gist\",\n              frameBorder: \"0\",\n              loading: \"lazy\",\n              scrolling: \"auto\"\n            }\n          );\n        } else {\n          src += block.type === \"typeform\" ? \"&disable-auto-focus=true\" : \"\";\n          content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n            \"iframe\",\n            {\n              className: \"notion-asset-object-fit\",\n              style: assetStyle,\n              src,\n              title: `iframe ${block.type}`,\n              frameBorder: \"0\",\n              allowFullScreen: true,\n              loading: \"lazy\",\n              scrolling: \"auto\"\n            }\n          );\n        }\n      }\n    }\n  } else if (block.type === \"image\") {\n    if (source.includes(\"file.notion.so\")) {\n      source = (_k = (_j = (_i = block.properties) == null ? void 0 : _i.source) == null ? void 0 : _j[0]) == null ? void 0 : _k[0];\n    }\n    const src = mapImageUrl(source, block);\n    const caption = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.getTextContent)((_l = block.properties) == null ? void 0 : _l.caption);\n    const alt = caption || \"notion image\";\n    content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      LazyImage,\n      {\n        src,\n        alt,\n        zoomable,\n        height: style.height,\n        style: assetStyle\n      }\n    );\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { style, children: [\n      content,\n      block.type === \"image\" && children\n    ] }),\n    block.type !== \"image\" && children\n  ] });\n}\n\n// src/components/asset-wrapper.tsx\n\nvar urlStyle = { width: \"100%\" };\nfunction AssetWrapper({\n  blockId,\n  block\n}) {\n  var _a, _b, _c, _d, _e, _f, _g, _h;\n  const value = block;\n  const { components, mapPageUrl, rootDomain, zoom } = useNotionContext();\n  let isURL = false;\n  if (block.type === \"image\") {\n    const caption = (_c = (_b = (_a = value == null ? void 0 : value.properties) == null ? void 0 : _a.caption) == null ? void 0 : _b[0]) == null ? void 0 : _c[0];\n    if (caption) {\n      const id = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.parsePageId)(caption, { uuid: true });\n      const isPage = caption.charAt(0) === \"/\" && id;\n      if (isPage || isValidURL(caption)) {\n        isURL = true;\n      }\n    }\n  }\n  const figure = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n    \"figure\",\n    {\n      className: cs(\n        \"notion-asset-wrapper\",\n        `notion-asset-wrapper-${block.type}`,\n        ((_d = value.format) == null ? void 0 : _d.block_full_width) && \"notion-asset-wrapper-full\",\n        blockId\n      ),\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Asset, { block: value, zoomable: zoom && !isURL, children: ((_e = value == null ? void 0 : value.properties) == null ? void 0 : _e.caption) && !isURL && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"figcaption\", { className: \"notion-asset-caption\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: value.properties.caption, block }) }) })\n    }\n  );\n  if (isURL) {\n    const caption = (_h = (_g = (_f = value == null ? void 0 : value.properties) == null ? void 0 : _f.caption) == null ? void 0 : _g[0]) == null ? void 0 : _h[0];\n    const id = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.parsePageId)(caption, { uuid: true });\n    const isPage = (caption == null ? void 0 : caption.charAt(0)) === \"/\" && id;\n    const captionHostname = extractHostname(caption);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      components.PageLink,\n      {\n        style: urlStyle,\n        href: isPage ? mapPageUrl(id) : caption,\n        target: captionHostname && captionHostname !== rootDomain && !(caption == null ? void 0 : caption.startsWith(\"/\")) ? \"blank_\" : null,\n        children: figure\n      }\n    );\n  }\n  return figure;\n}\nfunction isValidURL(str) {\n  const pattern = new RegExp(\n    \"^(https?:\\\\/\\\\/)?((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*(\\\\?[;&a-z\\\\d%_.~+=-]*)?(\\\\#[-a-z\\\\d_]*)?$\",\n    \"i\"\n  );\n  return !!pattern.test(str);\n}\nfunction extractHostname(url) {\n  try {\n    const hostname = new URL(url).hostname;\n    return hostname;\n  } catch (e) {\n    return \"\";\n  }\n}\n\n// src/icons/check.tsx\n\nfunction SvgCheck(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M5.5 12L14 3.5 12.5 2l-7 7-4-4.003L0 6.499z\" }) });\n}\nvar check_default = SvgCheck;\n\n// src/components/checkbox.tsx\n\nfunction Checkbox({\n  isChecked\n}) {\n  let content = null;\n  if (isChecked) {\n    content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-property-checkbox-checked\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(check_default, {}) });\n  } else {\n    content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-property-checkbox-unchecked\" });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"notion-property notion-property-checkbox\", children: content });\n}\n\n// src/next.tsx\n\n\n\nvar wrapNextImage = (NextImage) => {\n  return react__WEBPACK_IMPORTED_MODULE_0__.memo(function ReactNotionXNextImage({\n    src,\n    alt,\n    width,\n    height,\n    className,\n    fill,\n    ...rest\n  }) {\n    if (fill === \"undefined\") {\n      fill = !(width && height);\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      NextImage,\n      {\n        className,\n        src,\n        alt,\n        width: !fill && width && height ? width : void 0,\n        height: !fill && width && height ? height : void 0,\n        fill,\n        ...rest\n      }\n    );\n  }, react_fast_compare__WEBPACK_IMPORTED_MODULE_6__);\n};\nvar wrapNextLegacyImage = (NextLegacyImage) => {\n  return react__WEBPACK_IMPORTED_MODULE_0__.memo(function ReactNotionXNextLegacyImage({\n    src,\n    alt,\n    width,\n    height,\n    className,\n    style,\n    layout,\n    ...rest\n  }) {\n    if (!layout) {\n      layout = width && height ? \"intrinsic\" : \"fill\";\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      NextLegacyImage,\n      {\n        className,\n        src,\n        alt,\n        width: layout === \"intrinsic\" && width,\n        height: layout === \"intrinsic\" && height,\n        objectFit: style == null ? void 0 : style.objectFit,\n        objectPosition: style == null ? void 0 : style.objectPosition,\n        layout,\n        ...rest\n      }\n    );\n  }, react_fast_compare__WEBPACK_IMPORTED_MODULE_6__);\n};\nfunction wrapNextLink(NextLink) {\n  return ({\n    href,\n    as,\n    passHref,\n    prefetch,\n    replace,\n    scroll,\n    shallow,\n    locale,\n    ...linkProps\n  }) => {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      NextLink,\n      {\n        href,\n        as,\n        passHref,\n        prefetch,\n        replace,\n        scroll,\n        shallow,\n        locale,\n        legacyBehavior: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"a\", { ...linkProps })\n      }\n    );\n  };\n}\n\n// src/context.tsx\n\nfunction DefaultLink(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"a\", { target: \"_blank\", rel: \"noopener noreferrer\", ...props });\n}\nvar DefaultLinkMemo = react__WEBPACK_IMPORTED_MODULE_0__.memo(DefaultLink);\nfunction DefaultPageLink(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"a\", { ...props });\n}\nvar DefaultPageLinkMemo = react__WEBPACK_IMPORTED_MODULE_0__.memo(DefaultPageLink);\nfunction DefaultEmbed(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssetWrapper, { ...props });\n}\nvar DefaultHeader = Header;\nfunction dummyLink({ href, rel, target, title, ...rest }) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { ...rest });\n}\nvar dummyComponent = (name) => () => {\n  console.warn(\n    `Warning: using empty component \"${name}\" (you should override this in NotionRenderer.components)`\n  );\n  return null;\n};\nvar dummyOverrideFn = (_, defaultValueFn) => defaultValueFn();\nvar defaultComponents = {\n  Image: null,\n  // disable custom images by default\n  Link: DefaultLinkMemo,\n  PageLink: DefaultPageLinkMemo,\n  Checkbox,\n  Callout: void 0,\n  // use the built-in callout rendering by default\n  Code: dummyComponent(\"Code\"),\n  Equation: dummyComponent(\"Equation\"),\n  Collection: dummyComponent(\"Collection\"),\n  Property: void 0,\n  // use the built-in property rendering by default\n  propertyTextValue: dummyOverrideFn,\n  propertySelectValue: dummyOverrideFn,\n  propertyRelationValue: dummyOverrideFn,\n  propertyFormulaValue: dummyOverrideFn,\n  propertyTitleValue: dummyOverrideFn,\n  propertyPersonValue: dummyOverrideFn,\n  propertyFileValue: dummyOverrideFn,\n  propertyCheckboxValue: dummyOverrideFn,\n  propertyUrlValue: dummyOverrideFn,\n  propertyEmailValue: dummyOverrideFn,\n  propertyPhoneNumberValue: dummyOverrideFn,\n  propertyNumberValue: dummyOverrideFn,\n  propertyLastEditedTimeValue: dummyOverrideFn,\n  propertyCreatedTimeValue: dummyOverrideFn,\n  propertyDateValue: dummyOverrideFn,\n  propertyAutoIncrementIdValue: dummyOverrideFn,\n  Pdf: dummyComponent(\"Pdf\"),\n  Tweet: dummyComponent(\"Tweet\"),\n  Modal: dummyComponent(\"Modal\"),\n  Header: DefaultHeader,\n  Embed: DefaultEmbed\n};\nvar defaultNotionContext = {\n  recordMap: {\n    block: {},\n    collection: {},\n    collection_view: {},\n    collection_query: {},\n    notion_user: {},\n    signed_urls: {}\n  },\n  components: defaultComponents,\n  mapPageUrl: (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.defaultMapPageUrl)(),\n  mapImageUrl: notion_utils__WEBPACK_IMPORTED_MODULE_3__.defaultMapImageUrl,\n  searchNotion: void 0,\n  isShowingSearch: false,\n  onHideSearch: void 0,\n  fullPage: false,\n  darkMode: false,\n  previewImages: false,\n  forceCustomImages: false,\n  showCollectionViewDropdown: true,\n  linkTableTitleProperties: true,\n  isLinkCollectionToUrlProperty: false,\n  showTableOfContents: false,\n  minTableOfContentsItems: 3,\n  defaultPageIcon: null,\n  defaultPageCover: null,\n  defaultPageCoverPosition: 0.5,\n  zoom: null\n};\nvar ctx = react__WEBPACK_IMPORTED_MODULE_0__.createContext(defaultNotionContext);\nfunction NotionContextProvider({\n  components: themeComponents = {},\n  children,\n  mapPageUrl,\n  mapImageUrl,\n  rootPageId,\n  ...rest\n}) {\n  for (const key of Object.keys(rest)) {\n    if (rest[key] === void 0) {\n      delete rest[key];\n    }\n  }\n  const wrappedThemeComponents = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => ({\n      ...themeComponents\n    }),\n    [themeComponents]\n  );\n  if (wrappedThemeComponents.nextImage && wrappedThemeComponents.nextLegacyImage) {\n    console.warn(\n      \"You should not pass both nextImage and nextLegacyImage. Only nextImage component will be used.\"\n    );\n    wrappedThemeComponents.Image = wrapNextImage(themeComponents.nextImage);\n  } else if (wrappedThemeComponents.nextImage) {\n    wrappedThemeComponents.Image = wrapNextImage(themeComponents.nextImage);\n  } else if (wrappedThemeComponents.nextLegacyImage) {\n    wrappedThemeComponents.Image = wrapNextLegacyImage(\n      themeComponents.nextLegacyImage\n    );\n  }\n  if (wrappedThemeComponents.nextLink) {\n    wrappedThemeComponents.nextLink = wrapNextLink(themeComponents.nextLink);\n  }\n  for (const key of Object.keys(wrappedThemeComponents)) {\n    if (!wrappedThemeComponents[key]) {\n      delete wrappedThemeComponents[key];\n    }\n  }\n  const value = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => ({\n      ...defaultNotionContext,\n      ...rest,\n      rootPageId,\n      mapPageUrl: mapPageUrl != null ? mapPageUrl : (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.defaultMapPageUrl)(rootPageId),\n      mapImageUrl: mapImageUrl != null ? mapImageUrl : notion_utils__WEBPACK_IMPORTED_MODULE_3__.defaultMapImageUrl,\n      components: { ...defaultComponents, ...wrappedThemeComponents }\n    }),\n    [mapImageUrl, mapPageUrl, wrappedThemeComponents, rootPageId, rest]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ctx.Provider, { value, children });\n}\nvar NotionContextConsumer = ctx.Consumer;\nvar useNotionContext = () => {\n  return react__WEBPACK_IMPORTED_MODULE_0__.useContext(ctx);\n};\n\n// src/icons/default-page-icon.tsx\n\n\nfunction DefaultPageIcon(props) {\n  const { className, ...rest } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { className, ...rest, viewBox: \"0 0 30 30\", width: \"16\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z\" }) });\n}\n\n// src/components/page-icon.tsx\n\nvar isIconBlock = (value) => {\n  return value.type === \"page\" || value.type === \"callout\" || value.type === \"collection_view\" || value.type === \"collection_view_page\";\n};\nfunction PageIconImpl({\n  block,\n  className,\n  inline = true,\n  hideDefaultIcon = false,\n  defaultIcon\n}) {\n  var _a;\n  const { mapImageUrl, recordMap, darkMode } = useNotionContext();\n  let isImage = false;\n  let content = null;\n  if (isIconBlock(block)) {\n    const icon = ((_a = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.getBlockIcon)(block, recordMap)) == null ? void 0 : _a.trim()) || defaultIcon;\n    const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.getBlockTitle)(block, recordMap);\n    if (icon && (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.isUrl)(icon)) {\n      const url = mapImageUrl(icon, block);\n      isImage = true;\n      content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        LazyImage,\n        {\n          src: url,\n          alt: title || \"page icon\",\n          className: cs(className, \"notion-page-icon\")\n        }\n      );\n    } else if (icon && icon.startsWith(\"/icons/\")) {\n      const url = \"https://www.notion.so\" + icon + \"?mode=\" + (darkMode ? \"dark\" : \"light\");\n      content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        LazyImage,\n        {\n          src: url,\n          alt: title || \"page icon\",\n          className: cs(className, \"notion-page-icon\")\n        }\n      );\n    } else if (!icon) {\n      if (!hideDefaultIcon) {\n        isImage = true;\n        content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n          DefaultPageIcon,\n          {\n            className: cs(className, \"notion-page-icon\"),\n            alt: title || \"page icon\"\n          }\n        );\n      }\n    } else {\n      isImage = false;\n      content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        \"span\",\n        {\n          className: cs(className, \"notion-page-icon\"),\n          role: \"img\",\n          \"aria-label\": icon,\n          children: icon\n        }\n      );\n    }\n  }\n  if (!content) {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n    \"div\",\n    {\n      className: cs(\n        inline ? \"notion-page-icon-inline\" : \"notion-page-icon-hero\",\n        isImage ? \"notion-page-icon-image\" : \"notion-page-icon-span\"\n      ),\n      children: content\n    }\n  );\n}\nvar PageIcon = react__WEBPACK_IMPORTED_MODULE_0__.memo(PageIconImpl);\n\n// src/icons/collection-view-icon.tsx\n\n\n// src/icons/collection-view-board.tsx\n\nfunction SvgCollectionViewBoard(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M12 1.5H2a.5.5 0 00-.5.5v10a.5.5 0 00.5.5h10a.5.5 0 00.5-.5V2a.5.5 0 00-.5-.5zM2 0h10a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm1 3h2v6H3V3zm3 0h2v8H6V3zm3 0h2v4H9V3z\" }) });\n}\nvar collection_view_board_default = SvgCollectionViewBoard;\n\n// src/icons/collection-view-calendar.tsx\n\nfunction SvgCollectionViewCalendar(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M2.564 4.004c-.586 0-.71.024-.833.09a.319.319 0 00-.141.14c-.066.124-.09.247-.09.834v6.368c0 .586.024.71.09.833a.319.319 0 00.14.141c.124.066.248.09.834.09h8.872c.586 0 .71-.024.833-.09a.319.319 0 00.141-.14c.066-.124.09-.248.09-.834V5.068c0-.587-.024-.71-.09-.834a.319.319 0 00-.14-.14c-.124-.066-.248-.09-.834-.09H2.564zm0-4.004h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v8.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267H2.563c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 01-.757-.756C.093 12.65 0 12.327 0 11.437V2.563c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757C1.35.093 1.673 0 2.563 0zm4.044 7.88c.179.11.318.256.418.436.1.18.148.394.148.64 0 .304-.08.597-.238.876-.16.28-.392.498-.692.65-.299.15-.685.224-1.16.224-.46 0-.827-.055-1.1-.166a1.687 1.687 0 01-.68-.492 2.227 2.227 0 01-.404-.802l.083-.127 1.37-.182.112.08c.05.258.126.431.221.52a.507.507 0 00.364.133.495.495 0 00.386-.169c.105-.115.158-.27.158-.472 0-.205-.051-.358-.15-.463a.527.527 0 00-.407-.157 1.65 1.65 0 00-.417.077l-.127-.104.07-.98.115-.091c.072.01.127.015.164.015.154 0 .28-.047.38-.144.1-.096.15-.205.15-.335a.388.388 0 00-.106-.29c-.07-.07-.168-.105-.3-.105a.444.444 0 00-.324.118c-.083.08-.143.232-.176.457l-.117.084-1.297-.233-.079-.123c.114-.435.334-.772.66-1.006.326-.234.78-.349 1.36-.349.666 0 1.153.126 1.462.384.31.259.467.589.467.982 0 .233-.064.446-.192.636a1.43 1.43 0 01-.37.365c.1.034.182.072.248.113zm1.747-.145a5.186 5.186 0 01-.806.31l-.129-.097V6.824l.07-.096c.455-.147.807-.322 1.055-.524.246-.202.439-.45.579-.747l.09-.057h1.135l.1.1v5.021l-.1.1H8.961l-.1-.1V7.428a4.053 4.053 0 01-.506.307z\" }) });\n}\nvar collection_view_calendar_default = SvgCollectionViewCalendar;\n\n// src/icons/collection-view-gallery.tsx\n\nfunction SvgCollectionViewGallery(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M12 1.5H2a.5.5 0 00-.5.5v10a.5.5 0 00.5.5h10a.5.5 0 00.5-.5V2a.5.5 0 00-.5-.5zM2 0h10a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm1 3h3.5v3.5H3V3zm4.5 0H11v3.5H7.5V3zM3 7.5h3.5V11H3V7.5zm4.5 0H11V11H7.5V7.5z\" }) });\n}\nvar collection_view_gallery_default = SvgCollectionViewGallery;\n\n// src/icons/collection-view-list.tsx\n\nfunction SvgCollectionViewList(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M12 1.5H2a.5.5 0 00-.5.5v10a.5.5 0 00.5.5h10a.5.5 0 00.5-.5V2a.5.5 0 00-.5-.5zM2 0h10a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm1 3h6v1.5H3V3zm0 2.5h8V7H3V5.5zM3 8h4v1.5H3V8z\" }) });\n}\nvar collection_view_list_default = SvgCollectionViewList;\n\n// src/icons/collection-view-table.tsx\n\nfunction SvgCollectionViewTable(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M2 0h10a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm3.75 5.67v2.66h6.75V5.67H5.75zm0 4.17v2.66h5.75a1 1 0 001-1V9.84H5.75zM1.5 5.67v2.66h2.75V5.67H1.5zm0 4.17v1.66a1 1 0 001 1h1.75V9.84H1.5zm1-8.34a1 1 0 00-1 1v1.66h2.75V1.5H2.5zm3.25 0v2.66h6.75V2.5a1 1 0 00-1-1H5.75z\" }) });\n}\nvar collection_view_table_default = SvgCollectionViewTable;\n\n// src/icons/collection-view-icon.tsx\nvar iconMap = {\n  table: collection_view_table_default,\n  board: collection_view_board_default,\n  gallery: collection_view_gallery_default,\n  list: collection_view_list_default,\n  calendar: collection_view_calendar_default\n};\nfunction CollectionViewIcon({ type, ...rest }) {\n  const icon = iconMap[type];\n  if (!icon) {\n    return null;\n  }\n  return icon(rest);\n}\n\n// src/third-party/collection-row.tsx\n\n\n// src/third-party/collection-column-title.tsx\n\n\n// src/icons/property-icon.tsx\n\n\n// src/icons/type-auto-increment-id.tsx\n\nfunction SvgTypeAutoIncrementId(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 16 16\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M12.252 7.9209C13.7217 7.9209 14.7266 6.93652 14.7266 5.50781C14.7266 4.0791 13.7217 3.10156 12.252 3.10156C10.8232 3.10156 9.8457 4.0791 9.8457 5.50781C9.8457 6.93652 10.8301 7.9209 12.252 7.9209ZM2.00488 13.1367C2.45605 13.1367 2.72949 12.8496 2.72949 12.3848V5.83594L7.35059 12.5967C7.6377 12.9932 7.86328 13.1367 8.20508 13.1367C8.69043 13.1367 8.96387 12.8359 8.96387 12.3232V3.8877C8.96387 3.42285 8.69043 3.12891 8.23242 3.12891C7.78809 3.12891 7.50781 3.41602 7.50781 3.8877V10.4229L2.89355 3.66895C2.60645 3.25879 2.40137 3.12891 2.03906 3.12891C1.56738 3.12891 1.27344 3.4502 1.27344 3.94238V12.3848C1.27344 12.8496 1.55371 13.1367 2.00488 13.1367ZM12.252 6.84766C11.5615 6.84766 11.0898 6.30762 11.0898 5.50781C11.0898 4.70801 11.5615 4.16797 12.252 4.16797C12.9902 4.16797 13.4756 4.70801 13.4756 5.50781C13.4756 6.30762 12.9834 6.84766 12.252 6.84766ZM10.625 9.77344H13.9541C14.3506 9.77344 14.624 9.54102 14.624 9.14453C14.624 8.74805 14.3506 8.50195 13.9541 8.50195H10.625C10.2285 8.50195 9.96191 8.74805 9.96191 9.14453C9.96191 9.54102 10.2285 9.77344 10.625 9.77344Z\" }) });\n}\nvar type_auto_increment_id_default = SvgTypeAutoIncrementId;\n\n// src/icons/type-checkbox.tsx\n\nfunction SvgTypeCheckbox(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M0 3a3 3 0 013-3h8a3 3 0 013 3v8a3 3 0 01-3 3H3a3 3 0 01-3-3V3zm3-1.5A1.5 1.5 0 001.5 3v8A1.5 1.5 0 003 12.5h8a1.5 1.5 0 001.5-1.5V3A1.5 1.5 0 0011 1.5H3zm-.167 5.316l.566-.542.177-.17.347-.332.346.334.176.17 1.139 1.098 3.699-3.563.177-.17.347-.335.347.334.177.17.563.543.177.171.372.36-.372.36-.177.17-4.786 4.615-.177.171-.347.334-.347-.334-.177-.17-2.23-2.15-.177-.172-.375-.361.376-.36.179-.17z\" }) });\n}\nvar type_checkbox_default = SvgTypeCheckbox;\n\n// src/icons/type-date.tsx\n\nfunction SvgTypeDate(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M10.889 5.5H3.11v1.556h7.778V5.5zm1.555-4.444h-.777V0H10.11v1.056H3.89V0H2.333v1.056h-.777c-.864 0-1.548.7-1.548 1.555L0 12.5c0 .856.692 1.5 1.556 1.5h10.888C13.3 14 14 13.356 14 12.5V2.611c0-.855-.7-1.555-1.556-1.555zm0 11.444H1.556V3.944h10.888V12.5zM8.556 8.611H3.11v1.556h5.445V8.61z\" }) });\n}\nvar type_date_default = SvgTypeDate;\n\n// src/icons/type-email.tsx\n\nfunction SvgTypeEmail(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M14 6.225c0 .822-.133 1.574-.4 2.256-.267.683-.644 1.218-1.13 1.606-.488.388-.946.6-1.494.6-.429 0-.808-.102-1.139-.305a1.753 1.753 0 01-.713-.8c-.613.736-1.563 1.104-2.531 1.104-1.027 0-1.835-.304-2.427-.912-.591-.608-.887-1.44-.887-2.496 0-1.204.389-2.175 1.166-2.911.776-.736 1.791-1.105 3.044-1.105.498 0 2.032.212 2.252.268.51.13.86.593.835 1.112l-.156 3.287c0 .794.22 1.19.66 1.19.372 0 .668-.267.888-.8.22-.534.33-1.232.33-2.094 0-.919-.194-1.731-.582-2.436a3.924 3.924 0 00-1.64-1.614c-.704-.371-1.509-.557-2.413-.557-1.172 0-2.19.237-3.053.711a4.785 4.785 0 00-1.988 2.05c-.46.894-.691 1.926-.691 3.096 0 1.576.428 2.784 1.283 3.627.855.841 2.094 1.262 3.718 1.262.615 0 1.29-.067 2.027-.2.225-.042.518-.108.877-.2a.863.863 0 011.025.527.76.76 0 01-.502.993c-1.052.316-2.17.488-3.357.516-2.204 0-3.922-.57-5.154-1.713C.616 11.146 0 9.56 0 7.527c0-1.41.315-2.69.944-3.84A6.792 6.792 0 013.63.98C4.794.327 6.131 0 7.645 0c1.276 0 2.514.29 3.418.77.905.481 1.574 1.228 2.12 2.176.544.947.817 2.04.817 3.28zm-8.615 1.01c0 1.208.488 1.811 1.466 1.811.511 0 .9-.181 1.168-.545.267-.363.429-.954.486-1.772l.11-1.896a4.638 4.638 0 00-.98-.095c-.71 0-1.263.224-1.658.67-.395.446-.592 1.055-.592 1.828z\" }) });\n}\nvar type_email_default = SvgTypeEmail;\n\n// src/icons/type-file.tsx\n\nfunction SvgTypeFile(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M5.946 14a4.975 4.975 0 01-3.497-1.415A4.731 4.731 0 011 9.174c0-1.288.515-2.5 1.449-3.41L7.456.986c1.345-1.313 3.722-1.318 5.08.007a3.453 3.453 0 010 4.961L8.03 10.241c-.867.847-2.293.848-3.17-.006a2.158 2.158 0 010-3.102l1.744-1.701 1.272 1.24-1.744 1.701a.43.43 0 000 .621c.23.223.405.223.636 0l4.503-4.288a1.723 1.723 0 00-.007-2.473c-.68-.663-1.864-.663-2.543 0L3.713 7.011a3.006 3.006 0 00-.915 2.163c0 .82.328 1.591.922 2.17 1.19 1.162 3.262 1.162 4.451 0l2.248-2.192 1.272 1.24-2.248 2.193A4.978 4.978 0 015.946 14z\" }) });\n}\nvar type_file_default = SvgTypeFile;\n\n// src/icons/type-formula.tsx\n\nfunction SvgTypeFormula(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M7.779 7.063l-3.157 4.224a.49.49 0 00-.072.218.35.35 0 00.346.357h6.242c.476 0 .862.398.862.889v.36c0 .491-.386.889-.862.889H1.862A.876.876 0 011 13.111v-.425a.82.82 0 01.177-.54L4.393 7.8a1.367 1.367 0 00-.006-1.625L1.4 2.194a.822.822 0 01-.18-.544V.89C1.22.398 1.604 0 2.08 0h8.838c.476 0 .861.398.861.889v.36c0 .491-.385.89-.86.89H5.135c-.19 0-.345.159-.345.356a.489.489 0 00.07.216l2.92 3.975c.049.062.063.107.06.188a.246.246 0 01-.062.189z\" }) });\n}\nvar type_formula_default = SvgTypeFormula;\n\n// src/icons/type-multi-select.tsx\n\nfunction SvgTypeMultiSelect(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M4 3a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zM2 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2z\" }) });\n}\nvar type_multi_select_default = SvgTypeMultiSelect;\n\n// src/icons/type-number.tsx\n\nfunction SvgTypeNumber(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M4.462 0c-.595 0-1.078.482-1.078 1.078v2.306H1.078a1.078 1.078 0 100 2.155h2.306v2.922H1.078a1.078 1.078 0 100 2.155h2.306v2.306a1.078 1.078 0 002.155 0v-2.306H8.46v2.306a1.078 1.078 0 002.156 0v-2.306h2.306a1.078 1.078 0 100-2.155h-2.306V5.539h2.306a1.078 1.078 0 100-2.155h-2.306V1.078a1.078 1.078 0 00-2.156 0v2.306H5.54V1.078C5.54.482 5.056 0 4.461 0zm1.077 8.46V5.54H8.46v2.92H5.54z\" }) });\n}\nvar type_number_default = SvgTypeNumber;\n\n// src/icons/type-person.tsx\n\nfunction SvgTypePerson(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M9.625 10.847C8.912 10.289 8.121 9.926 7 9.26v-.54a3.33 3.33 0 00.538-.888c.408-.1.774-.498.774-.832 0-.482-.202-.673-.44-.829 0-.015.003-.03.003-.046 0-.711-.438-2.625-2.625-2.625-2.188 0-2.625 1.915-2.625 2.625 0 .017.003.03.003.046-.238.156-.44.347-.44.829 0 .334.366.731.774.833.146.343.326.643.538.886v.541c-1.12.665-1.912 1.028-2.625 1.587C.041 11.498 0 12.469 0 14h10.5c0-1.531-.041-2.502-.875-3.153zm3.5-3.5c-.713-.558-1.504-.921-2.625-1.587v-.54c.212-.244.392-.544.538-.888.408-.1.774-.498.774-.832 0-.482-.202-.673-.44-.829 0-.015.003-.03.003-.046C11.375 1.914 10.937 0 8.75 0 6.562 0 6.125 1.915 6.125 2.625c0 .017.003.03.003.046-.016.012-.03.025-.047.036 1.751.359 2.516 1.841 2.647 3.04.248.262.46.65.46 1.253 0 .603-.417 1.203-1.004 1.515-.057.109-.117.214-.181.315l.437.245c.64.357 1.194.666 1.724 1.081.138.108.256.224.365.343H14c0-1.53-.041-2.5-.875-3.153z\" }) });\n}\nvar type_person_default = SvgTypePerson;\n\n// src/icons/type-person-2.tsx\n\nfunction SvgTypePerson2(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M13.125 10.035c-.571-.55-2.324-1.504-3.5-2.16v-.834c.224-.322.42-.671.566-1.055.394-.242.746-.702.746-1.173 0-.458-.005-.87-.47-1.208C10.305 1.558 9.436 0 7 0S3.695 1.558 3.533 3.605c-.465.338-.47.75-.47 1.208 0 .471.352.93.746 1.173.146.384.342.733.566 1.055v.834c-1.176.656-2.929 1.61-3.5 2.16C.165 10.72 0 11.812 0 14h14c0-2.188-.164-3.281-.875-3.965z\" }) });\n}\nvar type_person_2_default = SvgTypePerson2;\n\n// src/icons/type-phone-number.tsx\n\nfunction SvgTypePhoneNumber(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M2.207.013a.487.487 0 00-.29.02C.87.438.213 1.93.058 2.955c-.484 3.33 2.15 6.215 4.57 8.113 2.149 1.684 6.273 4.453 8.713 1.781.31-.329.678-.813.658-1.297-.058-.813-.813-1.394-1.394-1.84-.445-.329-1.375-1.239-1.956-1.22-.522.02-.851.562-1.18.891l-.582.581c-.096.097-1.336-.716-1.471-.813a9.881 9.881 0 01-1.414-1.104A9.13 9.13 0 014.86 6.732c-.097-.136-.89-1.317-.813-1.414 0 0 .677-.736.871-1.026.407-.62.717-1.104.252-1.84-.174-.27-.387-.484-.62-.716-.406-.387-.813-.794-1.278-1.123-.251-.194-.677-.542-1.065-.6z\" }) });\n}\nvar type_phone_number_default = SvgTypePhoneNumber;\n\n// src/icons/type-relation.tsx\n\nfunction SvgTypeRelation(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M4.5 1v2h5.086L1 11.586 2.414 13 11 4.414V9.5h2V1z\" }) });\n}\nvar type_relation_default = SvgTypeRelation;\n\n// src/icons/type-select.tsx\n\nfunction SvgTypeSelect(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z\" }) });\n}\nvar type_select_default = SvgTypeSelect;\n\n// src/icons/type-status.tsx\n\nfunction SvgTypeStatus(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 16 16\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M8.75488 1.02344C8.75488 0.613281 8.41309 0.264648 8.00293 0.264648C7.59277 0.264648 7.25098 0.613281 7.25098 1.02344V3.11523C7.25098 3.51855 7.59277 3.86719 8.00293 3.86719C8.41309 3.86719 8.75488 3.51855 8.75488 3.11523V1.02344ZM3.91504 5.0293C4.20215 5.31641 4.69434 5.32324 4.97461 5.03613C5.26855 4.74902 5.26855 4.25684 4.98145 3.96973L3.53906 2.52051C3.25195 2.2334 2.7666 2.21973 2.47949 2.50684C2.19238 2.79395 2.18555 3.28613 2.47266 3.57324L3.91504 5.0293ZM10.9629 4.01758C10.6826 4.30469 10.6826 4.79688 10.9697 5.08398C11.2568 5.37109 11.749 5.36426 12.0361 5.07715L13.4854 3.62793C13.7725 3.34082 13.7725 2.84863 13.4785 2.55469C13.1982 2.27441 12.7061 2.27441 12.4189 2.56152L10.9629 4.01758ZM15.0234 8.78906C15.4336 8.78906 15.7822 8.44727 15.7822 8.03711C15.7822 7.62695 15.4336 7.28516 15.0234 7.28516H12.9385C12.5283 7.28516 12.1797 7.62695 12.1797 8.03711C12.1797 8.44727 12.5283 8.78906 12.9385 8.78906H15.0234ZM0.975586 7.28516C0.56543 7.28516 0.223633 7.62695 0.223633 8.03711C0.223633 8.44727 0.56543 8.78906 0.975586 8.78906H3.07422C3.48438 8.78906 3.83301 8.44727 3.83301 8.03711C3.83301 7.62695 3.48438 7.28516 3.07422 7.28516H0.975586ZM12.0361 10.9902C11.749 10.71 11.2568 10.71 10.9629 10.9971C10.6826 11.2842 10.6826 11.7764 10.9697 12.0635L12.4258 13.5127C12.7129 13.7998 13.2051 13.793 13.4922 13.5059C13.7793 13.2256 13.7725 12.7266 13.4854 12.4395L12.0361 10.9902ZM2.52051 12.4395C2.22656 12.7266 2.22656 13.2188 2.50684 13.5059C2.79395 13.793 3.28613 13.7998 3.57324 13.5127L5.02246 12.0703C5.31641 11.7832 5.31641 11.291 5.03613 11.0039C4.74902 10.7168 4.25684 10.71 3.96973 10.9971L2.52051 12.4395ZM8.75488 12.9658C8.75488 12.5557 8.41309 12.207 8.00293 12.207C7.59277 12.207 7.25098 12.5557 7.25098 12.9658V15.0576C7.25098 15.4609 7.59277 15.8096 8.00293 15.8096C8.41309 15.8096 8.75488 15.4609 8.75488 15.0576V12.9658Z\" }) });\n}\nvar type_status_default = SvgTypeStatus;\n\n// src/icons/type-text.tsx\n\nfunction SvgTypeText(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z\" }) });\n}\nvar type_text_default = SvgTypeText;\n\n// src/icons/type-timestamp.tsx\n\nfunction SvgTypeTimestamp(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M6.986 14c-1.79 0-3.582-.69-4.944-2.068-2.723-2.72-2.723-7.172 0-9.892 2.725-2.72 7.182-2.72 9.906 0A6.972 6.972 0 0114 6.996c0 1.88-.728 3.633-2.052 4.955A7.058 7.058 0 016.986 14zm3.285-6.99v1.645H5.526v-5.47h1.841v3.63h2.904v.194zm1.89-.014c0-1.379-.542-2.67-1.522-3.648-2.006-2.005-5.287-2.007-7.297-.009l-.009.009a5.168 5.168 0 000 7.295c2.01 2.007 5.297 2.007 7.306 0a5.119 5.119 0 001.521-3.647z\" }) });\n}\nvar type_timestamp_default = SvgTypeTimestamp;\n\n// src/icons/type-title.tsx\n\nfunction SvgTypeTitle(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M7.74 8.697a.81.81 0 01.073.308.894.894 0 01-.9.888.867.867 0 01-.825-.592l-.333-.961H2.058l-.333.961a.882.882 0 01-.838.592A.884.884 0 010 9.005c0-.11.025-.222.062-.308l2.403-6.211c.222-.58.776-.986 1.442-.986.653 0 1.22.407 1.442.986l2.39 6.211zM2.6 6.824h2.613L3.907 3.102 2.6 6.824zm8.8-3.118c1.355 0 2.6.542 2.6 2.255V9.08a.8.8 0 01-.789.814.797.797 0 01-.788-.703c-.395.468-1.097.764-1.874.764-.949 0-2.07-.64-2.07-1.972 0-1.392 1.121-1.897 2.07-1.897.789 0 1.491.246 1.886.727v-.826c0-.604-.518-.998-1.306-.998-.469 0-.888.123-1.32.394a.64.64 0 01-.307.086.602.602 0 01-.592-.604c0-.221.123-.419.284-.517a3.963 3.963 0 012.206-.641zm-.222 5.188c.505 0 .998-.172 1.257-.517v-.74c-.259-.345-.752-.517-1.257-.517-.616 0-1.122.332-1.122.9 0 .554.506.874 1.122.874zM.656 11.125h12.688a.656.656 0 110 1.313H.656a.656.656 0 110-1.313z\" }) });\n}\nvar type_title_default = SvgTypeTitle;\n\n// src/icons/type-url.tsx\n\nfunction SvgTypeUrl(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M3.733 3.867h3.734c1.03 0 1.866.837 1.866 1.866 0 1.03-.837 1.867-1.866 1.867h-.934a.934.934 0 000 1.867h.934a3.734 3.734 0 000-7.467H3.733A3.73 3.73 0 001.89 8.977a4.637 4.637 0 01.314-2.18 1.854 1.854 0 01-.336-1.064c0-1.03.837-1.866 1.866-1.866zm8.377 1.422a4.6 4.6 0 01-.316 2.176c.212.303.34.67.34 1.068 0 1.03-.838 1.867-1.867 1.867H6.533a1.869 1.869 0 01-1.866-1.867c0-1.03.837-1.866 1.866-1.866h.934a.934.934 0 000-1.867h-.934a3.733 3.733 0 000 7.467h3.734a3.73 3.73 0 001.843-6.978z\" }) });\n}\nvar type_url_default = SvgTypeUrl;\n\n// src/icons/property-icon.tsx\nvar iconMap2 = {\n  title: type_title_default,\n  text: type_text_default,\n  number: type_number_default,\n  select: type_select_default,\n  status: type_status_default,\n  multi_select: type_multi_select_default,\n  date: type_date_default,\n  person: type_person_default,\n  file: type_file_default,\n  checkbox: type_checkbox_default,\n  url: type_url_default,\n  email: type_email_default,\n  phone_number: type_phone_number_default,\n  formula: type_formula_default,\n  relation: type_relation_default,\n  created_time: type_timestamp_default,\n  last_edited_time: type_timestamp_default,\n  created_by: type_person_2_default,\n  last_edited_by: type_person_2_default,\n  auto_increment_id: type_auto_increment_id_default\n};\nfunction PropertyIcon({ type, ...rest }) {\n  const icon = iconMap2[type];\n  if (!icon) return null;\n  return icon(rest);\n}\n\n// src/third-party/collection-column-title.tsx\n\nfunction CollectionColumnTitle({\n  schema\n}) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-collection-column-title\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      PropertyIcon,\n      {\n        className: \"notion-collection-column-title-icon\",\n        type: schema.type\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-collection-column-title-body\", children: schema.name })\n  ] });\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/en-US/_lib/formatDistance.js\nvar formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\"\n  },\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\"\n  },\n  halfAMinute: \"half a minute\",\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\"\n  },\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\"\n  },\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\"\n  },\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\"\n  },\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\"\n  },\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\"\n  },\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\"\n  },\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\"\n  },\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\"\n  },\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\"\n  },\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\"\n  },\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\"\n  },\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\"\n  }\n};\nvar formatDistance = (token, count, options) => {\n  let result;\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n  if (options == null ? void 0 : options.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n  return result;\n};\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/_lib/buildFormatLongFn.js\nfunction buildFormatLongFn(args) {\n  return (options = {}) => {\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format2 = args.formats[width] || args.formats[args.defaultWidth];\n    return format2;\n  };\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/en-US/_lib/formatLong.js\nvar dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\"\n};\nvar timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\"\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\"\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\"\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\"\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\"\n  })\n};\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/en-US/_lib/formatRelative.js\nvar formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\"\n};\nvar formatRelative = (token, _date, _baseDate, _options) => formatRelativeLocale[token];\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/_lib/buildLocalizeFn.js\nfunction buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = (options == null ? void 0 : options.context) ? String(options.context) : \"standalone\";\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = (options == null ? void 0 : options.width) ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = (options == null ? void 0 : options.width) ? String(options.width) : args.defaultWidth;\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n    return valuesArray[index];\n  };\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/en-US/_lib/localize.js\nvar eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"]\n};\nvar quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"]\n};\nvar monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\"\n  ],\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\"\n  ]\n};\nvar dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\"\n  ]\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\"\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\"\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\"\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\"\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\"\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\"\n  }\n};\nvar ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\nvar localize = {\n  ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\"\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\"\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\"\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\"\n  })\n};\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/_lib/buildMatchFn.js\nfunction buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n    const matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n    const parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    const key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString)) : (\n      // [TODO] -- I challenge you to fix the type\n      findKey(parsePatterns, (pattern) => pattern.test(matchedString))\n    );\n    let value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? (\n      // [TODO] -- I challenge you to fix the type\n      options.valueCallback(value)\n    ) : value;\n    const rest = string.slice(matchedString.length);\n    return { value, rest };\n  };\n}\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (Object.prototype.hasOwnProperty.call(object, key) && predicate(object[key])) {\n      return key;\n    }\n  }\n  return void 0;\n}\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return void 0;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/_lib/buildMatchPatternFn.js\nfunction buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    const rest = string.slice(matchedString.length);\n    return { value, rest };\n  };\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/en-US/_lib/match.js\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i\n  ],\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i\n  ]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10)\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\"\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\"\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\"\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\"\n  })\n};\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/en-US.js\nvar enUS = {\n  code: \"en-US\",\n  formatDistance,\n  formatLong,\n  formatRelative,\n  localize,\n  match,\n  options: {\n    weekStartsOn: 0,\n    firstWeekContainsDate: 1\n  }\n};\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/defaultOptions.js\nvar defaultOptions = {};\nfunction getDefaultOptions() {\n  return defaultOptions;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/constants.js\nvar daysInYear = 365.2425;\nvar maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1e3;\nvar minTime = -maxTime;\nvar millisecondsInWeek = 6048e5;\nvar millisecondsInDay = 864e5;\nvar millisecondsInMinute = 6e4;\nvar millisecondsInHour = 36e5;\nvar secondsInHour = 3600;\nvar secondsInDay = secondsInHour * 24;\nvar secondsInWeek = secondsInDay * 7;\nvar secondsInYear = secondsInDay * daysInYear;\nvar secondsInMonth = secondsInYear / 12;\nvar secondsInQuarter = secondsInMonth * 3;\nvar constructFromSymbol = Symbol.for(\"constructDateFrom\");\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/constructFrom.js\nfunction constructFrom(date, value) {\n  if (typeof date === \"function\") return date(value);\n  if (date && typeof date === \"object\" && constructFromSymbol in date)\n    return date[constructFromSymbol](value);\n  if (date instanceof Date) return new date.constructor(value);\n  return new Date(value);\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/toDate.js\nfunction toDate(argument, context) {\n  return constructFrom(context || argument, argument);\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.js\nfunction getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds()\n    )\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/normalizeDates.js\nfunction normalizeDates(context, ...dates) {\n  const normalize = constructFrom.bind(\n    null,\n    context || dates.find((date) => typeof date === \"object\")\n  );\n  return dates.map(normalize);\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfDay.js\nfunction startOfDay(date, options) {\n  const _date = toDate(date, options == null ? void 0 : options.in);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInCalendarDays.js\nfunction differenceInCalendarDays(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options == null ? void 0 : options.in,\n    laterDate,\n    earlierDate\n  );\n  const laterStartOfDay = startOfDay(laterDate_);\n  const earlierStartOfDay = startOfDay(earlierDate_);\n  const laterTimestamp = +laterStartOfDay - getTimezoneOffsetInMilliseconds(laterStartOfDay);\n  const earlierTimestamp = +earlierStartOfDay - getTimezoneOffsetInMilliseconds(earlierStartOfDay);\n  return Math.round((laterTimestamp - earlierTimestamp) / millisecondsInDay);\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfYear.js\nfunction startOfYear(date, options) {\n  const date_ = toDate(date, options == null ? void 0 : options.in);\n  date_.setFullYear(date_.getFullYear(), 0, 1);\n  date_.setHours(0, 0, 0, 0);\n  return date_;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getDayOfYear.js\nfunction getDayOfYear(date, options) {\n  const _date = toDate(date, options == null ? void 0 : options.in);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfWeek.js\nfunction startOfWeek(date, options) {\n  var _a, _b, _c, _d, _e, _f, _g, _h;\n  const defaultOptions2 = getDefaultOptions();\n  const weekStartsOn = (_h = (_g = (_d = (_c = options == null ? void 0 : options.weekStartsOn) != null ? _c : (_b = (_a = options == null ? void 0 : options.locale) == null ? void 0 : _a.options) == null ? void 0 : _b.weekStartsOn) != null ? _d : defaultOptions2.weekStartsOn) != null ? _g : (_f = (_e = defaultOptions2.locale) == null ? void 0 : _e.options) == null ? void 0 : _f.weekStartsOn) != null ? _h : 0;\n  const _date = toDate(date, options == null ? void 0 : options.in);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfISOWeek.js\nfunction startOfISOWeek(date, options) {\n  return startOfWeek(date, { ...options, weekStartsOn: 1 });\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getISOWeekYear.js\nfunction getISOWeekYear(date, options) {\n  const _date = toDate(date, options == null ? void 0 : options.in);\n  const year = _date.getFullYear();\n  const fourthOfJanuaryOfNextYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n  const fourthOfJanuaryOfThisYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfISOWeekYear.js\nfunction startOfISOWeekYear(date, options) {\n  const year = getISOWeekYear(date, options);\n  const fourthOfJanuary = constructFrom((options == null ? void 0 : options.in) || date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getISOWeek.js\nfunction getISOWeek(date, options) {\n  const _date = toDate(date, options == null ? void 0 : options.in);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getWeekYear.js\nfunction getWeekYear(date, options) {\n  var _a, _b, _c, _d, _e, _f, _g, _h;\n  const _date = toDate(date, options == null ? void 0 : options.in);\n  const year = _date.getFullYear();\n  const defaultOptions2 = getDefaultOptions();\n  const firstWeekContainsDate = (_h = (_g = (_d = (_c = options == null ? void 0 : options.firstWeekContainsDate) != null ? _c : (_b = (_a = options == null ? void 0 : options.locale) == null ? void 0 : _a.options) == null ? void 0 : _b.firstWeekContainsDate) != null ? _d : defaultOptions2.firstWeekContainsDate) != null ? _g : (_f = (_e = defaultOptions2.locale) == null ? void 0 : _e.options) == null ? void 0 : _f.firstWeekContainsDate) != null ? _h : 1;\n  const firstWeekOfNextYear = constructFrom((options == null ? void 0 : options.in) || date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n  const firstWeekOfThisYear = constructFrom((options == null ? void 0 : options.in) || date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n  if (+_date >= +startOfNextYear) {\n    return year + 1;\n  } else if (+_date >= +startOfThisYear) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfWeekYear.js\nfunction startOfWeekYear(date, options) {\n  var _a, _b, _c, _d, _e, _f, _g, _h;\n  const defaultOptions2 = getDefaultOptions();\n  const firstWeekContainsDate = (_h = (_g = (_d = (_c = options == null ? void 0 : options.firstWeekContainsDate) != null ? _c : (_b = (_a = options == null ? void 0 : options.locale) == null ? void 0 : _a.options) == null ? void 0 : _b.firstWeekContainsDate) != null ? _d : defaultOptions2.firstWeekContainsDate) != null ? _g : (_f = (_e = defaultOptions2.locale) == null ? void 0 : _e.options) == null ? void 0 : _f.firstWeekContainsDate) != null ? _h : 1;\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom((options == null ? void 0 : options.in) || date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getWeek.js\nfunction getWeek(date, options) {\n  const _date = toDate(date, options == null ? void 0 : options.in);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/addLeadingZeros.js\nfunction addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/format/lightFormatters.js\nvar lightFormatters = {\n  // Year\n  y(date, token) {\n    const signedYear = date.getFullYear();\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3)\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/format/formatters.js\nvar dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\"\n};\nvar formatters = {\n  // Era\n  G: function(date, token, localize2) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize2.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize2.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize2.era(era, { width: \"wide\" });\n    }\n  },\n  // Year\n  y: function(date, token, localize2) {\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize2.ordinalNumber(year, { unit: \"year\" });\n    }\n    return lightFormatters.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function(date, token, localize2, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n    if (token === \"Yo\") {\n      return localize2.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n    return addLeadingZeros(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function(date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function(date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  // Quarter\n  Q: function(date, token, localize2) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize2.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize2.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\"\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize2.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\"\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize2.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\"\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function(date, token, localize2) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize2.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize2.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\"\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize2.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\"\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize2.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\"\n        });\n    }\n  },\n  // Month\n  M: function(date, token, localize2) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize2.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize2.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\"\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize2.month(month, {\n          width: \"narrow\",\n          context: \"formatting\"\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize2.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n  // Stand-alone month\n  L: function(date, token, localize2) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize2.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize2.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\"\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize2.month(month, {\n          width: \"narrow\",\n          context: \"standalone\"\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize2.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n  // Local week of year\n  w: function(date, token, localize2, options) {\n    const week = getWeek(date, options);\n    if (token === \"wo\") {\n      return localize2.ordinalNumber(week, { unit: \"week\" });\n    }\n    return addLeadingZeros(week, token.length);\n  },\n  // ISO week of year\n  I: function(date, token, localize2) {\n    const isoWeek = getISOWeek(date);\n    if (token === \"Io\") {\n      return localize2.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function(date, token, localize2) {\n    if (token === \"do\") {\n      return localize2.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n    return lightFormatters.d(date, token);\n  },\n  // Day of year\n  D: function(date, token, localize2) {\n    const dayOfYear = getDayOfYear(date);\n    if (token === \"Do\") {\n      return localize2.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function(date, token, localize2) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize2.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\"\n        });\n      // T\n      case \"EEEEE\":\n        return localize2.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\"\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize2.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\"\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize2.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\"\n        });\n    }\n  },\n  // Local day of week\n  e: function(date, token, localize2, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize2.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize2.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\"\n        });\n      // T\n      case \"eeeee\":\n        return localize2.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\"\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize2.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\"\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize2.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\"\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function(date, token, localize2, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize2.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize2.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\"\n        });\n      // T\n      case \"ccccc\":\n        return localize2.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\"\n        });\n      // Tu\n      case \"cccccc\":\n        return localize2.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\"\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize2.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\"\n        });\n    }\n  },\n  // ISO day of week\n  i: function(date, token, localize2) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize2.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize2.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\"\n        });\n      // T\n      case \"iiiii\":\n        return localize2.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\"\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize2.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\"\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize2.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\"\n        });\n    }\n  },\n  // AM or PM\n  a: function(date, token, localize2) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize2.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\"\n        });\n      case \"aaa\":\n        return localize2.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\"\n        }).toLowerCase();\n      case \"aaaaa\":\n        return localize2.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\"\n        });\n      case \"aaaa\":\n      default:\n        return localize2.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\"\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function(date, token, localize2) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize2.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\"\n        });\n      case \"bbb\":\n        return localize2.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\"\n        }).toLowerCase();\n      case \"bbbbb\":\n        return localize2.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\"\n        });\n      case \"bbbb\":\n      default:\n        return localize2.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\"\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function(date, token, localize2) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize2.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\"\n        });\n      case \"BBBBB\":\n        return localize2.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\"\n        });\n      case \"BBBB\":\n      default:\n        return localize2.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\"\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function(date, token, localize2) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize2.ordinalNumber(hours, { unit: \"hour\" });\n    }\n    return lightFormatters.h(date, token);\n  },\n  // Hour [0-23]\n  H: function(date, token, localize2) {\n    if (token === \"Ho\") {\n      return localize2.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n    return lightFormatters.H(date, token);\n  },\n  // Hour [0-11]\n  K: function(date, token, localize2) {\n    const hours = date.getHours() % 12;\n    if (token === \"Ko\") {\n      return localize2.ordinalNumber(hours, { unit: \"hour\" });\n    }\n    return addLeadingZeros(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function(date, token, localize2) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n    if (token === \"ko\") {\n      return localize2.ordinalNumber(hours, { unit: \"hour\" });\n    }\n    return addLeadingZeros(hours, token.length);\n  },\n  // Minute\n  m: function(date, token, localize2) {\n    if (token === \"mo\") {\n      return localize2.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n    return lightFormatters.m(date, token);\n  },\n  // Second\n  s: function(date, token, localize2) {\n    if (token === \"so\") {\n      return localize2.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n    return lightFormatters.s(date, token);\n  },\n  // Fraction of second\n  S: function(date, token) {\n    return lightFormatters.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function(date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\":\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\":\n      // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function(date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\":\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\":\n      // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n  // Timezone (GMT)\n  O: function(date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n  // Timezone (specific non-location)\n  z: function(date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n  // Seconds timestamp\n  t: function(date, token, _localize) {\n    const timestamp = Math.trunc(+date / 1e3);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function(date, token, _localize) {\n    return addLeadingZeros(+date, token.length);\n  }\n};\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/format/longFormatters.js\nvar dateLongFormatter = (pattern, formatLong2) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong2.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong2.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong2.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong2.date({ width: \"full\" });\n  }\n};\nvar timeLongFormatter = (pattern, formatLong2) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong2.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong2.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong2.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong2.time({ width: \"full\" });\n  }\n};\nvar dateTimeLongFormatter = (pattern, formatLong2) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong2);\n  }\n  let dateTimeFormat;\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong2.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong2.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong2.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong2.dateTime({ width: \"full\" });\n      break;\n  }\n  return dateTimeFormat.replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong2)).replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong2));\n};\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/protectedTokens.js\nvar dayOfYearTokenRE = /^D+$/;\nvar weekYearTokenRE = /^Y+$/;\nvar throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\nfunction isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\nfunction isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\nfunction warnOrThrowProtectedError(token, format2, input) {\n  const _message = message(token, format2, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\nfunction message(token, format2, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format2}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/isDate.js\nfunction isDate(value) {\n  return value instanceof Date || typeof value === \"object\" && Object.prototype.toString.call(value) === \"[object Date]\";\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/isValid.js\nfunction isValid(date) {\n  return !(!isDate(date) && typeof date !== \"number\" || isNaN(+toDate(date)));\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/format.js\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\nfunction format(date, formatStr, options) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r;\n  const defaultOptions2 = getDefaultOptions();\n  const locale = (_b = (_a = options == null ? void 0 : options.locale) != null ? _a : defaultOptions2.locale) != null ? _b : enUS;\n  const firstWeekContainsDate = (_j = (_i = (_f = (_e = options == null ? void 0 : options.firstWeekContainsDate) != null ? _e : (_d = (_c = options == null ? void 0 : options.locale) == null ? void 0 : _c.options) == null ? void 0 : _d.firstWeekContainsDate) != null ? _f : defaultOptions2.firstWeekContainsDate) != null ? _i : (_h = (_g = defaultOptions2.locale) == null ? void 0 : _g.options) == null ? void 0 : _h.firstWeekContainsDate) != null ? _j : 1;\n  const weekStartsOn = (_r = (_q = (_n = (_m = options == null ? void 0 : options.weekStartsOn) != null ? _m : (_l = (_k = options == null ? void 0 : options.locale) == null ? void 0 : _k.options) == null ? void 0 : _l.weekStartsOn) != null ? _n : defaultOptions2.weekStartsOn) != null ? _q : (_p = (_o = defaultOptions2.locale) == null ? void 0 : _o.options) == null ? void 0 : _p.weekStartsOn) != null ? _r : 0;\n  const originalDate = toDate(date, options == null ? void 0 : options.in);\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n  let parts = formatStr.match(longFormattingTokensRegExp).map((substring) => {\n    const firstCharacter = substring[0];\n    if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n      const longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale.formatLong);\n    }\n    return substring;\n  }).join(\"\").match(formattingTokensRegExp).map((substring) => {\n    if (substring === \"''\") {\n      return { isToken: false, value: \"'\" };\n    }\n    const firstCharacter = substring[0];\n    if (firstCharacter === \"'\") {\n      return { isToken: false, value: cleanEscapedString(substring) };\n    }\n    if (formatters[firstCharacter]) {\n      return { isToken: true, value: substring };\n    }\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError(\n        \"Format string contains an unescaped latin alphabet character `\" + firstCharacter + \"`\"\n      );\n    }\n    return { isToken: false, value: substring };\n  });\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale\n  };\n  return parts.map((part) => {\n    if (!part.isToken) return part.value;\n    const token = part.value;\n    if (!(options == null ? void 0 : options.useAdditionalWeekYearTokens) && isProtectedWeekYearToken(token) || !(options == null ? void 0 : options.useAdditionalDayOfYearTokens) && isProtectedDayOfYearToken(token)) {\n      warnOrThrowProtectedError(token, formatStr, String(date));\n    }\n    const formatter = formatters[token[0]];\n    return formatter(originalDate, token, locale.localize, formatterOptions);\n  }).join(\"\");\n}\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n  if (!matched) {\n    return input;\n  }\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// src/third-party/property.tsx\nvar import_format_number = __toESM(require_format_number(), 1);\n\n\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/addDays.js\nfunction addDays(date, amount, options) {\n  const _date = toDate(date, options == null ? void 0 : options.in);\n  if (isNaN(amount)) return constructFrom((options == null ? void 0 : options.in) || date, NaN);\n  if (!amount) return _date;\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/addMonths.js\nfunction addMonths(date, amount, options) {\n  const _date = toDate(date, options == null ? void 0 : options.in);\n  if (isNaN(amount)) return constructFrom((options == null ? void 0 : options.in) || date, NaN);\n  if (!amount) {\n    return _date;\n  }\n  const dayOfMonth = _date.getDate();\n  const endOfDesiredMonth = constructFrom((options == null ? void 0 : options.in) || date, _date.getTime());\n  endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);\n  const daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    return endOfDesiredMonth;\n  } else {\n    _date.setFullYear(\n      endOfDesiredMonth.getFullYear(),\n      endOfDesiredMonth.getMonth(),\n      dayOfMonth\n    );\n    return _date;\n  }\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/add.js\nfunction add(date, duration, options) {\n  const {\n    years = 0,\n    months = 0,\n    weeks = 0,\n    days = 0,\n    hours = 0,\n    minutes = 0,\n    seconds = 0\n  } = duration;\n  const _date = toDate(date, options == null ? void 0 : options.in);\n  const dateWithMonths = months || years ? addMonths(_date, months + years * 12) : _date;\n  const dateWithDays = days || weeks ? addDays(dateWithMonths, days + weeks * 7) : dateWithMonths;\n  const minutesToAdd = minutes + hours * 60;\n  const secondsToAdd = seconds + minutesToAdd * 60;\n  const msToAdd = secondsToAdd * 1e3;\n  return constructFrom((options == null ? void 0 : options.in) || date, +dateWithDays + msToAdd);\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getDate.js\nfunction getDate(date, options) {\n  return toDate(date, options == null ? void 0 : options.in).getDate();\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getDay.js\nfunction getDay(date, options) {\n  return toDate(date, options == null ? void 0 : options.in).getDay();\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getHours.js\nfunction getHours(date, options) {\n  return toDate(date, options == null ? void 0 : options.in).getHours();\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getMinutes.js\nfunction getMinutes(date, options) {\n  return toDate(date, options == null ? void 0 : options.in).getMinutes();\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getMonth.js\nfunction getMonth(date, options) {\n  return toDate(date, options == null ? void 0 : options.in).getMonth();\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getYear.js\nfunction getYear(date, options) {\n  return toDate(date, options == null ? void 0 : options.in).getFullYear();\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/normalizeInterval.js\nfunction normalizeInterval(context, interval) {\n  const [start, end] = normalizeDates(context, interval.start, interval.end);\n  return { start, end };\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInDays.js\nfunction differenceInDays(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options == null ? void 0 : options.in,\n    laterDate,\n    earlierDate\n  );\n  const sign = compareLocalAsc(laterDate_, earlierDate_);\n  const difference = Math.abs(\n    differenceInCalendarDays(laterDate_, earlierDate_)\n  );\n  laterDate_.setDate(laterDate_.getDate() - sign * difference);\n  const isLastDayNotFull = Number(\n    compareLocalAsc(laterDate_, earlierDate_) === -sign\n  );\n  const result = sign * (difference - isLastDayNotFull);\n  return result === 0 ? 0 : result;\n}\nfunction compareLocalAsc(laterDate, earlierDate) {\n  const diff = laterDate.getFullYear() - earlierDate.getFullYear() || laterDate.getMonth() - earlierDate.getMonth() || laterDate.getDate() - earlierDate.getDate() || laterDate.getHours() - earlierDate.getHours() || laterDate.getMinutes() - earlierDate.getMinutes() || laterDate.getSeconds() - earlierDate.getSeconds() || laterDate.getMilliseconds() - earlierDate.getMilliseconds();\n  if (diff < 0) return -1;\n  if (diff > 0) return 1;\n  return diff;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/getRoundingMethod.js\nfunction getRoundingMethod(method) {\n  return (number) => {\n    const round = method ? Math[method] : Math.trunc;\n    const result = round(number);\n    return result === 0 ? 0 : result;\n  };\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInHours.js\nfunction differenceInHours(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options == null ? void 0 : options.in,\n    laterDate,\n    earlierDate\n  );\n  const diff = (+laterDate_ - +earlierDate_) / millisecondsInHour;\n  return getRoundingMethod(options == null ? void 0 : options.roundingMethod)(diff);\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInMilliseconds.js\nfunction differenceInMilliseconds(laterDate, earlierDate) {\n  return +toDate(laterDate) - +toDate(earlierDate);\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInMinutes.js\nfunction differenceInMinutes(dateLeft, dateRight, options) {\n  const diff = differenceInMilliseconds(dateLeft, dateRight) / millisecondsInMinute;\n  return getRoundingMethod(options == null ? void 0 : options.roundingMethod)(diff);\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/compareAsc.js\nfunction compareAsc(dateLeft, dateRight) {\n  const diff = +toDate(dateLeft) - +toDate(dateRight);\n  if (diff < 0) return -1;\n  else if (diff > 0) return 1;\n  return diff;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInCalendarMonths.js\nfunction differenceInCalendarMonths(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options == null ? void 0 : options.in,\n    laterDate,\n    earlierDate\n  );\n  const yearsDiff = laterDate_.getFullYear() - earlierDate_.getFullYear();\n  const monthsDiff = laterDate_.getMonth() - earlierDate_.getMonth();\n  return yearsDiff * 12 + monthsDiff;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/endOfDay.js\nfunction endOfDay(date, options) {\n  const _date = toDate(date, options == null ? void 0 : options.in);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/endOfMonth.js\nfunction endOfMonth(date, options) {\n  const _date = toDate(date, options == null ? void 0 : options.in);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/isLastDayOfMonth.js\nfunction isLastDayOfMonth(date, options) {\n  const _date = toDate(date, options == null ? void 0 : options.in);\n  return +endOfDay(_date, options) === +endOfMonth(_date, options);\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInMonths.js\nfunction differenceInMonths(laterDate, earlierDate, options) {\n  const [laterDate_, workingLaterDate, earlierDate_] = normalizeDates(\n    options == null ? void 0 : options.in,\n    laterDate,\n    laterDate,\n    earlierDate\n  );\n  const sign = compareAsc(workingLaterDate, earlierDate_);\n  const difference = Math.abs(\n    differenceInCalendarMonths(workingLaterDate, earlierDate_)\n  );\n  if (difference < 1) return 0;\n  if (workingLaterDate.getMonth() === 1 && workingLaterDate.getDate() > 27)\n    workingLaterDate.setDate(30);\n  workingLaterDate.setMonth(workingLaterDate.getMonth() - sign * difference);\n  let isLastMonthNotFull = compareAsc(workingLaterDate, earlierDate_) === -sign;\n  if (isLastDayOfMonth(laterDate_) && difference === 1 && compareAsc(laterDate_, earlierDate_) === 1) {\n    isLastMonthNotFull = false;\n  }\n  const result = sign * (difference - +isLastMonthNotFull);\n  return result === 0 ? 0 : result;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInSeconds.js\nfunction differenceInSeconds(laterDate, earlierDate, options) {\n  const diff = differenceInMilliseconds(laterDate, earlierDate) / 1e3;\n  return getRoundingMethod(options == null ? void 0 : options.roundingMethod)(diff);\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInCalendarYears.js\nfunction differenceInCalendarYears(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options == null ? void 0 : options.in,\n    laterDate,\n    earlierDate\n  );\n  return laterDate_.getFullYear() - earlierDate_.getFullYear();\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInYears.js\nfunction differenceInYears(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options == null ? void 0 : options.in,\n    laterDate,\n    earlierDate\n  );\n  const sign = compareAsc(laterDate_, earlierDate_);\n  const diff = Math.abs(differenceInCalendarYears(laterDate_, earlierDate_));\n  laterDate_.setFullYear(1584);\n  earlierDate_.setFullYear(1584);\n  const partial = compareAsc(laterDate_, earlierDate_) === -sign;\n  const result = sign * (diff - +partial);\n  return result === 0 ? 0 : result;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/intervalToDuration.js\nfunction intervalToDuration(interval, options) {\n  const { start, end } = normalizeInterval(options == null ? void 0 : options.in, interval);\n  const duration = {};\n  const years = differenceInYears(end, start);\n  if (years) duration.years = years;\n  const remainingMonths = add(start, { years: duration.years });\n  const months = differenceInMonths(end, remainingMonths);\n  if (months) duration.months = months;\n  const remainingDays = add(remainingMonths, { months: duration.months });\n  const days = differenceInDays(end, remainingDays);\n  if (days) duration.days = days;\n  const remainingHours = add(remainingDays, { days: duration.days });\n  const hours = differenceInHours(end, remainingHours);\n  if (hours) duration.hours = hours;\n  const remainingMinutes = add(remainingHours, { hours: duration.hours });\n  const minutes = differenceInMinutes(end, remainingMinutes);\n  if (minutes) duration.minutes = minutes;\n  const remainingSeconds = add(remainingMinutes, { minutes: duration.minutes });\n  const seconds = differenceInSeconds(end, remainingSeconds);\n  if (seconds) duration.seconds = seconds;\n  return duration;\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/subDays.js\nfunction subDays(date, amount, options) {\n  return addDays(date, -amount, options);\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/subMonths.js\nfunction subMonths(date, amount, options) {\n  return addMonths(date, -amount, options);\n}\n\n// ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/sub.js\nfunction sub(date, duration, options) {\n  const {\n    years = 0,\n    months = 0,\n    weeks = 0,\n    days = 0,\n    hours = 0,\n    minutes = 0,\n    seconds = 0\n  } = duration;\n  const withoutMonths = subMonths(date, months + years * 12, options);\n  const withoutDays = subDays(withoutMonths, days + weeks * 7, options);\n  const minutesToSub = minutes + hours * 60;\n  const secondsToSub = seconds + minutesToSub * 60;\n  const msToSub = secondsToSub * 1e3;\n  return constructFrom((options == null ? void 0 : options.in) || date, +withoutDays - msToSub);\n}\n\n// src/third-party/eval-formula.ts\n\nfunction evalFormula(formula, context) {\n  const { endDate, ...ctx2 } = context;\n  switch (formula == null ? void 0 : formula.type) {\n    case \"symbol\":\n      return formula.name === \"true\";\n    case \"constant\": {\n      const value = formula.value;\n      switch (formula.result_type) {\n        case \"text\":\n          return value;\n        case \"number\":\n          return Number.parseFloat(value);\n        default:\n          return value;\n      }\n    }\n    case \"property\": {\n      const value = ctx2.properties[formula.id];\n      const text = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.getTextContent)(value);\n      switch (formula.result_type) {\n        case \"text\":\n          return text;\n        case \"number\":\n          return Number.parseFloat(text);\n        case \"boolean\":\n          if (typeof text === \"string\") {\n            return text === \"true\";\n          } else {\n            return !!text;\n          }\n        case \"date\": {\n          const v = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.getDateValue)(value);\n          if (v) {\n            if (endDate && v.end_date) {\n              const date = new Date(v.end_date);\n              return new Date(\n                date.getUTCFullYear(),\n                date.getUTCMonth(),\n                date.getUTCDate()\n              );\n            } else {\n              const date = new Date(v.start_date);\n              return new Date(\n                date.getUTCFullYear(),\n                date.getUTCMonth(),\n                date.getUTCDate()\n              );\n            }\n          } else {\n            return new Date(text);\n          }\n        }\n        default:\n          return text;\n      }\n    }\n    case \"operator\":\n    // All operators are exposed as functions, so we handle them the same\n    // eslint-disable-next-line no-fallthrough\n    case \"function\":\n      return evalFunctionFormula(formula, ctx2);\n    default:\n      throw new Error(\n        `invalid or unsupported formula \"${formula == null ? void 0 : formula.type}`\n      );\n  }\n}\nfunction evalFunctionFormula(formula, ctx2) {\n  const args = formula == null ? void 0 : formula.args;\n  switch (formula.name) {\n    // logic\n    // ------------------------------------------------------------------------\n    case \"and\":\n      return evalFormula(args[0], ctx2) && evalFormula(args[1], ctx2);\n    case \"empty\":\n      return !evalFormula(args[0], ctx2);\n    case \"equal\":\n      return evalFormula(args[0], ctx2) == evalFormula(args[1], ctx2);\n    case \"if\":\n      return evalFormula(args[0], ctx2) ? evalFormula(args[1], ctx2) : evalFormula(args[2], ctx2);\n    case \"larger\":\n      return evalFormula(args[0], ctx2) > evalFormula(args[1], ctx2);\n    case \"largerEq\":\n      return evalFormula(args[0], ctx2) >= evalFormula(args[1], ctx2);\n    case \"not\":\n      return !evalFormula(args[0], ctx2);\n    case \"or\":\n      return evalFormula(args[0], ctx2) || evalFormula(args[1], ctx2);\n    case \"smaller\":\n      return evalFormula(args[0], ctx2) < evalFormula(args[1], ctx2);\n    case \"smallerEq\":\n      return evalFormula(args[0], ctx2) <= evalFormula(args[1], ctx2);\n    case \"unequal\":\n      return evalFormula(args[0], ctx2) != evalFormula(args[1], ctx2);\n    // numeric\n    // ------------------------------------------------------------------------\n    case \"abs\":\n      return Math.abs(evalFormula(args[0], ctx2));\n    case \"add\": {\n      const v0 = evalFormula(args[0], ctx2);\n      const v1 = evalFormula(args[1], ctx2);\n      if (typeof v0 === \"number\") {\n        return v0 + +v1;\n      } else if (typeof v0 === \"string\") {\n        return v0 + `${v1}`;\n      } else {\n        return v0;\n      }\n    }\n    case \"cbrt\":\n      return Math.cbrt(evalFormula(args[0], ctx2));\n    case \"ceil\":\n      return Math.ceil(evalFormula(args[0], ctx2));\n    case \"divide\":\n      return evalFormula(args[0], ctx2) / evalFormula(args[1], ctx2);\n    case \"exp\":\n      return Math.exp(evalFormula(args[0], ctx2));\n    case \"floor\":\n      return Math.floor(evalFormula(args[0], ctx2));\n    case \"ln\":\n      return Math.log(evalFormula(args[0], ctx2));\n    case \"log10\":\n      return Math.log10(evalFormula(args[0], ctx2));\n    case \"log2\":\n      return Math.log2(evalFormula(args[0], ctx2));\n    case \"max\": {\n      const values = args.map((arg) => evalFormula(arg, ctx2));\n      return values.reduce(\n        (acc, value) => Math.max(acc, value),\n        Number.NEGATIVE_INFINITY\n      );\n    }\n    case \"min\": {\n      const values = args.map((arg) => evalFormula(arg, ctx2));\n      return values.reduce(\n        (acc, value) => Math.min(acc, value),\n        Number.POSITIVE_INFINITY\n      );\n    }\n    case \"mod\":\n      return evalFormula(args[0], ctx2) % evalFormula(args[1], ctx2);\n    case \"multiply\":\n      return evalFormula(args[0], ctx2) * evalFormula(args[1], ctx2);\n    case \"pow\":\n      return Math.pow(\n        evalFormula(args[0], ctx2),\n        evalFormula(args[1], ctx2)\n      );\n    case \"round\":\n      return Math.round(evalFormula(args[0], ctx2));\n    case \"sign\":\n      return Math.sign(evalFormula(args[0], ctx2));\n    case \"sqrt\":\n      return Math.sqrt(evalFormula(args[0], ctx2));\n    case \"subtract\":\n      return evalFormula(args[0], ctx2) - evalFormula(args[1], ctx2);\n    case \"toNumber\":\n      return Number.parseFloat(evalFormula(args[0], ctx2));\n    case \"unaryMinus\":\n      return evalFormula(args[0], ctx2) * -1;\n    case \"unaryPlus\":\n      return Number.parseFloat(evalFormula(args[0], ctx2));\n    // text\n    // ------------------------------------------------------------------------\n    case \"concat\": {\n      const values = args.map((arg) => evalFormula(arg, ctx2));\n      return values.join(\"\");\n    }\n    case \"contains\":\n      return evalFormula(args[0], ctx2).includes(\n        evalFormula(args[1], ctx2)\n      );\n    case \"format\": {\n      const value = evalFormula(args[0], ctx2);\n      switch (typeof value) {\n        case \"string\":\n          return value;\n        case \"object\":\n          if (value instanceof Date) {\n            return format(value, \"MMM d, YYY\");\n          } else {\n            return `${value}`;\n          }\n        // case 'number':\n        // fallthrough\n        default:\n          return `${value}`;\n      }\n    }\n    case \"join\": {\n      const [delimiterArg, ...restArgs] = args;\n      const delimiter = evalFormula(delimiterArg, ctx2);\n      const values = restArgs.map((arg) => evalFormula(arg, ctx2));\n      return values.join(delimiter);\n    }\n    case \"length\":\n      return evalFormula(args[0], ctx2).length;\n    case \"replace\": {\n      const value = evalFormula(args[0], ctx2);\n      const regex = evalFormula(args[1], ctx2);\n      const replacement = evalFormula(args[2], ctx2);\n      return value.replace(new RegExp(regex), replacement);\n    }\n    case \"replaceAll\": {\n      const value = evalFormula(args[0], ctx2);\n      const regex = evalFormula(args[1], ctx2);\n      const replacement = evalFormula(args[2], ctx2);\n      return value.replaceAll(new RegExp(regex, \"g\"), replacement);\n    }\n    case \"slice\": {\n      const value = evalFormula(args[0], ctx2);\n      const beginIndex = evalFormula(args[1], ctx2);\n      const endIndex = args[2] ? evalFormula(args[2], ctx2) : value.length;\n      return value.slice(beginIndex, endIndex);\n    }\n    case \"test\": {\n      const value = evalFormula(args[0], ctx2);\n      const regex = evalFormula(args[1], ctx2);\n      return new RegExp(regex).test(value);\n    }\n    // date & time\n    // ------------------------------------------------------------------------\n    case \"date\":\n      return getDate(evalFormula(args[0], ctx2));\n    case \"dateAdd\": {\n      const date = evalFormula(args[0], ctx2);\n      const number = evalFormula(args[1], ctx2);\n      const unit = evalFormula(args[1], ctx2);\n      return add(date, { [unit]: number });\n    }\n    case \"dateBetween\": {\n      const date1 = evalFormula(args[0], ctx2);\n      const date2 = evalFormula(args[1], ctx2);\n      const unit = evalFormula(args[1], ctx2);\n      return intervalToDuration({\n        start: date2,\n        end: date1\n      })[unit];\n    }\n    case \"dateSubtract\": {\n      const date = evalFormula(args[0], ctx2);\n      const number = evalFormula(args[1], ctx2);\n      const unit = evalFormula(args[1], ctx2);\n      return sub(date, { [unit]: number });\n    }\n    case \"day\":\n      return getDay(evalFormula(args[0], ctx2));\n    case \"end\":\n      return evalFormula(args[0], { ...ctx2, endDate: true });\n    case \"formatDate\": {\n      const date = evalFormula(args[0], ctx2);\n      const formatValue = evalFormula(args[1], ctx2).replace(\n        \"dddd\",\n        \"eeee\"\n      );\n      return format(date, formatValue);\n    }\n    case \"fromTimestamp\":\n      return new Date(evalFormula(args[0], ctx2));\n    case \"hour\":\n      return getHours(evalFormula(args[0], ctx2));\n    case \"minute\":\n      return getMinutes(evalFormula(args[0], ctx2));\n    case \"month\":\n      return getMonth(evalFormula(args[0], ctx2));\n    case \"now\":\n      return /* @__PURE__ */ new Date();\n    case \"start\":\n      return evalFormula(args[0], { ...ctx2, endDate: false });\n    case \"timestamp\":\n      return evalFormula(args[0], ctx2).getTime();\n    case \"year\":\n      return getYear(evalFormula(args[0], ctx2));\n    default:\n      throw new Error(\n        `invalid or unsupported function formula \"${formula == null ? void 0 : formula.type}`\n      );\n  }\n}\n\n// src/third-party/property.tsx\n\nfunction Property(props) {\n  const { components } = useNotionContext();\n  if (components.Property) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(components.Property, { ...props });\n  } else {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PropertyImplMemo, { ...props });\n  }\n}\nfunction PropertyImpl(props) {\n  var _a, _b, _c;\n  const { components, mapImageUrl, mapPageUrl } = useNotionContext();\n  const {\n    schema,\n    data,\n    block,\n    collection,\n    inline = false,\n    linkToTitlePage = true\n  } = props;\n  const renderTextValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function TextProperty() {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: data, block });\n    },\n    [block, data]\n  );\n  const renderDateValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function DateProperty() {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: data, block });\n    },\n    [block, data]\n  );\n  const renderRelationValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function RelationProperty() {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: data, block });\n    },\n    [block, data]\n  );\n  const renderFormulaValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function FormulaProperty() {\n      let content2;\n      if (!schema) return null;\n      try {\n        content2 = evalFormula(schema.formula, {\n          schema: collection == null ? void 0 : collection.schema,\n          properties: block == null ? void 0 : block.properties\n        });\n        if (Number.isNaN(content2)) {\n        }\n        if (content2 instanceof Date) {\n          content2 = format(content2, \"MMM d, YYY hh:mm aa\");\n        }\n      } catch (e) {\n        content2 = null;\n      }\n      return content2;\n    },\n    [block == null ? void 0 : block.properties, collection == null ? void 0 : collection.schema, schema]\n  );\n  const renderTitleValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function FormulaTitle() {\n      if (block && linkToTitlePage) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n          components.PageLink,\n          {\n            className: cs(\"notion-page-link\"),\n            href: mapPageUrl(block.id),\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PageTitle, { block })\n          }\n        );\n      } else {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: data, block });\n      }\n    },\n    [block, components, data, linkToTitlePage, mapPageUrl]\n  );\n  const renderPersonValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function PersonProperty() {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: data, block });\n    },\n    [block, data]\n  );\n  const renderFileValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function FileProperty() {\n      if (!data) return null;\n      const files = data.filter((v) => v.length === 2).map((f) => f.flat().flat());\n      return files.map((file, i) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        components.Link,\n        {\n          className: \"notion-property-file\",\n          href: mapImageUrl(file[2], block),\n          target: \"_blank\",\n          rel: \"noreferrer noopener\",\n          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n            GracefulImage,\n            {\n              alt: file[0],\n              src: mapImageUrl(file[2], block),\n              loading: \"lazy\"\n            }\n          )\n        },\n        i\n      ));\n    },\n    [block, components, data, mapImageUrl]\n  );\n  const renderCheckboxValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function CheckboxProperty() {\n      var _a2;\n      if (!data || !(schema == null ? void 0 : schema.name)) return null;\n      const isChecked = data && ((_a2 = data[0]) == null ? void 0 : _a2[0]) === \"Yes\";\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-property-checkbox-container\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Checkbox, { isChecked, blockId: void 0 }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"notion-property-checkbox-text\", children: schema.name })\n      ] });\n    },\n    [data, schema]\n  );\n  const renderUrlValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function UrlProperty() {\n      if (!data) return null;\n      const d = structuredClone(data);\n      if (inline) {\n        try {\n          const url = new URL(d[0][0]);\n          d[0][0] = url.hostname.replace(/^www\\./, \"\");\n        } catch (e) {\n        }\n      }\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        Text,\n        {\n          value: d,\n          block,\n          inline,\n          linkProps: {\n            target: \"_blank\",\n            rel: \"noreferrer noopener\"\n          }\n        }\n      );\n    },\n    [block, data, inline]\n  );\n  const renderEmailValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function EmailProperty() {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: data, linkProtocol: \"mailto\", block });\n    },\n    [block, data]\n  );\n  const renderPhoneNumberValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function PhoneNumberProperty() {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: data, linkProtocol: \"tel\", block });\n    },\n    [block, data]\n  );\n  const renderNumberValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function NumberProperty() {\n      var _a2;\n      if (!data || !schema) return null;\n      const value = Number.parseFloat(((_a2 = data[0]) == null ? void 0 : _a2[0]) || \"0\");\n      let output = \"\";\n      if (Number.isNaN(value)) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: data, block });\n      } else {\n        switch (schema.number_format) {\n          case \"number_with_commas\":\n            output = (0, import_format_number.default)()(value);\n            break;\n          case \"percent\":\n            output = (0, import_format_number.default)({ suffix: \"%\" })(value * 100);\n            break;\n          case \"dollar\":\n            output = (0, import_format_number.default)({ prefix: \"$\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"euro\":\n            output = (0, import_format_number.default)({ prefix: \"\\u20AC\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"pound\":\n            output = (0, import_format_number.default)({ prefix: \"\\xA3\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"yen\":\n            output = (0, import_format_number.default)({ prefix: \"\\xA5\", round: 0 })(value);\n            break;\n          case \"rupee\":\n            output = (0, import_format_number.default)({ prefix: \"\\u20B9\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"won\":\n            output = (0, import_format_number.default)({ prefix: \"\\u20A9\", round: 0 })(value);\n            break;\n          case \"yuan\":\n            output = (0, import_format_number.default)({ prefix: \"CN\\xA5\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"argentine_peso\":\n            output = (0, import_format_number.default)({ prefix: \"ARS \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"baht\":\n            output = (0, import_format_number.default)({ prefix: \"THB \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"canadian_dollar\":\n            output = (0, import_format_number.default)({ prefix: \"CA$\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"chilean_peso\":\n            output = (0, import_format_number.default)({ prefix: \"CLP \", round: 0 })(value);\n            break;\n          case \"colombian_peso\":\n            output = (0, import_format_number.default)({ prefix: \"COP \", round: 0 })(value);\n            break;\n          case \"danish_krone\":\n            output = (0, import_format_number.default)({ prefix: \"DKK \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"dirham\":\n            output = (0, import_format_number.default)({ prefix: \"AED \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"forint\":\n            output = (0, import_format_number.default)({ prefix: \"HUF \", round: 0 })(value);\n            break;\n          case \"franc\":\n            output = (0, import_format_number.default)({ prefix: \"CHF \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"hong_kong_dollar\":\n            output = (0, import_format_number.default)({ prefix: \"HK$\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"koruna\":\n            output = (0, import_format_number.default)({ prefix: \"CZK \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"krona\":\n            output = (0, import_format_number.default)({ prefix: \"SEK \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"leu\":\n            output = (0, import_format_number.default)({ prefix: \"RON \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"lira\":\n            output = (0, import_format_number.default)({ prefix: \"TRY \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"mexican_peso\":\n            output = (0, import_format_number.default)({ prefix: \"MX$\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"new_taiwan_dollar\":\n            output = (0, import_format_number.default)({ prefix: \"NT$\", round: 0 })(value);\n            break;\n          case \"new_zealand_dollar\":\n            output = (0, import_format_number.default)({ prefix: \"NZ$\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"norwegian_krone\":\n            output = (0, import_format_number.default)({ prefix: \"NOK \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"number\":\n            output = (0, import_format_number.default)()(value);\n            break;\n          case \"philippine_peso\":\n            output = (0, import_format_number.default)({ prefix: \"\\u20B1\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"peruvian_sol\":\n            output = (0, import_format_number.default)({ prefix: \"PEN \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"rand\":\n            output = (0, import_format_number.default)({ prefix: \"ZAR \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"real\":\n            output = (0, import_format_number.default)({ prefix: \"R$\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"ringgit\":\n            output = (0, import_format_number.default)({ prefix: \"MYR \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"riyal\":\n            output = (0, import_format_number.default)({ prefix: \"SAR \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"ruble\":\n            output = (0, import_format_number.default)({ prefix: \"RUB \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"rupiah\":\n            output = (0, import_format_number.default)({ prefix: \"IDR \", round: 0 })(value);\n            break;\n          case \"shekel\":\n            output = (0, import_format_number.default)({ prefix: \"\\u20AA\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"singapore_dollar\":\n            output = (0, import_format_number.default)({ prefix: \"SGD \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"uruguayan_peso\":\n            output = (0, import_format_number.default)({ prefix: \"UYU \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"zloty\":\n            output = (0, import_format_number.default)({ prefix: \"PLN \", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          default:\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: data, block });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: [[output]], block });\n      }\n    },\n    [block, data, schema]\n  );\n  const renderAutoIncrementIdValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function renderAutoIncrementIdValueProperty() {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: data, block });\n    },\n    [block, data]\n  );\n  const renderCreatedTimeValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function CreatedTimeProperty() {\n      return format(new Date(block.created_time), \"MMM d, YYY hh:mm aa\");\n    },\n    [block]\n  );\n  const renderLastEditedTimeValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function LastEditedTimeProperty() {\n      return format(new Date(block.last_edited_time), \"MMM d, YYY hh:mm aa\");\n    },\n    [block]\n  );\n  if (!schema) {\n    return null;\n  }\n  let content = null;\n  if (data || schema.type === \"checkbox\" || schema.type === \"title\" || schema.type === \"formula\" || schema.type === \"created_by\" || schema.type === \"last_edited_by\" || schema.type === \"created_time\" || schema.type === \"last_edited_time\") {\n    switch (schema.type) {\n      case \"relation\":\n        content = components.propertyRelationValue(props, renderRelationValue);\n        break;\n      case \"formula\":\n        content = components.propertyFormulaValue(props, renderFormulaValue);\n        break;\n      case \"title\":\n        content = components.propertyTitleValue(props, renderTitleValue);\n        break;\n      case \"status\": {\n        const value = ((_a = data == null ? void 0 : data[0]) == null ? void 0 : _a[0]) || \"\";\n        const option = (_b = schema.options) == null ? void 0 : _b.find((option2) => value === option2.value);\n        const color = (option == null ? void 0 : option.color) || \"default-inferred\";\n        content = components.propertySelectValue(\n          {\n            ...props,\n            value,\n            option,\n            color\n          },\n          () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\n            \"div\",\n            {\n              className: cs(\n                `notion-property-${schema.type}-item`,\n                color && `notion-item-${color}`\n              ),\n              children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n                  \"span\",\n                  {\n                    className: cs(`notion-item-bullet-${color}`),\n                    style: {\n                      marginRight: \"5px\",\n                      borderRadius: \"100%\",\n                      height: \"8px\",\n                      width: \"8px\",\n                      display: \"inline-flex\",\n                      flexShrink: 0\n                    }\n                  }\n                ),\n                value\n              ]\n            }\n          )\n        );\n        break;\n      }\n      case \"select\":\n      // intentional fallthrough\n      case \"multi_select\": {\n        const values = (((_c = data == null ? void 0 : data[0]) == null ? void 0 : _c[0]) || \"\").split(\",\");\n        content = values.map((value, index) => {\n          var _a2;\n          const option = (_a2 = schema.options) == null ? void 0 : _a2.find(\n            (option2) => value === option2.value\n          );\n          const color = option == null ? void 0 : option.color;\n          return components.propertySelectValue(\n            {\n              ...props,\n              key: index,\n              value,\n              option,\n              color\n            },\n            () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n              \"div\",\n              {\n                className: cs(\n                  `notion-property-${schema.type}-item`,\n                  color && `notion-item-${color}`\n                ),\n                children: value\n              },\n              index\n            )\n          );\n        });\n        break;\n      }\n      case \"person\":\n        content = components.propertyPersonValue(props, renderPersonValue);\n        break;\n      case \"file\":\n        content = components.propertyFileValue(props, renderFileValue);\n        break;\n      case \"checkbox\":\n        content = components.propertyCheckboxValue(props, renderCheckboxValue);\n        break;\n      case \"url\":\n        content = components.propertyUrlValue(props, renderUrlValue);\n        break;\n      case \"email\":\n        content = components.propertyEmailValue(props, renderEmailValue);\n        break;\n      case \"phone_number\":\n        content = components.propertyPhoneNumberValue(\n          props,\n          renderPhoneNumberValue\n        );\n        break;\n      case \"number\":\n        content = components.propertyNumberValue(props, renderNumberValue);\n        break;\n      case \"created_time\":\n        content = components.propertyCreatedTimeValue(\n          props,\n          renderCreatedTimeValue\n        );\n        break;\n      case \"last_edited_time\":\n        content = components.propertyLastEditedTimeValue(\n          props,\n          renderLastEditedTimeValue\n        );\n        break;\n      case \"created_by\":\n        break;\n      case \"last_edited_by\":\n        break;\n      case \"auto_increment_id\":\n        content = components.propertyTextValue(\n          props,\n          renderAutoIncrementIdValue\n        );\n        break;\n      case \"text\":\n        content = components.propertyTextValue(props, renderTextValue);\n        break;\n      case \"date\":\n        content = components.propertyDateValue(props, renderDateValue);\n        break;\n      default:\n        content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text, { value: data, block });\n        break;\n    }\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: `notion-property notion-property-${schema.type}`, children: content });\n}\nvar PropertyImplMemo = react__WEBPACK_IMPORTED_MODULE_0__.memo(PropertyImpl);\n\n// src/third-party/collection-row.tsx\n\nfunction CollectionRow({\n  block,\n  pageHeader = false,\n  className\n}) {\n  var _a, _b, _c, _d;\n  const { recordMap } = useNotionContext();\n  const collectionId = block.parent_id;\n  const collection = (_a = recordMap.collection[collectionId]) == null ? void 0 : _a.value;\n  const schemas = collection == null ? void 0 : collection.schema;\n  if (!collection || !schemas) {\n    return null;\n  }\n  let propertyIds = Object.keys(schemas).filter((id) => id !== \"title\");\n  if ((_b = collection.format) == null ? void 0 : _b.property_visibility) {\n    propertyIds = propertyIds.filter(\n      (id) => {\n        var _a2, _b2, _c2;\n        return ((_c2 = (_b2 = (_a2 = collection.format) == null ? void 0 : _a2.property_visibility) == null ? void 0 : _b2.find(\n          ({ property }) => property === id\n        )) == null ? void 0 : _c2.visibility) !== \"hide\";\n      }\n    );\n  }\n  if ((_c = collection.format) == null ? void 0 : _c.collection_page_properties) {\n    const idToIndex = Object.fromEntries(\n      (_d = collection.format) == null ? void 0 : _d.collection_page_properties.map((p, i) => [\n        p.property,\n        i\n      ])\n    );\n    propertyIds.sort((a, b) => idToIndex[a] - idToIndex[b]);\n  } else {\n    propertyIds.sort((a, b) => schemas[a].name.localeCompare(schemas[b].name));\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: cs(\"notion-collection-row\", className), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-collection-row-body\", children: propertyIds.map((propertyId) => {\n    var _a2;\n    const schema = schemas[propertyId];\n    if (!schema) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-collection-row-property\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CollectionColumnTitle, { schema }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-collection-row-value\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        Property,\n        {\n          schema,\n          data: (_a2 = block.properties) == null ? void 0 : _a2[propertyId],\n          propertyId,\n          block,\n          collection,\n          pageHeader\n        }\n      ) })\n    ] }, propertyId);\n  }) }) });\n}\n\n// src/third-party/collection-view.tsx\n\n\n// src/third-party/collection-view-board.tsx\n\n\n\n// src/icons/empty-icon.tsx\n\n\nfunction EmptyIcon(props) {\n  const { className, ...rest } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", { className, ...rest, viewBox: \"0 0 14 14\", width: \"14\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"path\", { d: \"M11.0918,0 C11.5383,0 11.9307,0.295898 12.0533,0.725586 L13.9615,7.40332 C13.9871,7.49316 14,7.58594 14,7.67871 L14,13 C14,13.5527 13.5522,14 13,14 L1,14 C0.447754,14 0,13.5527 0,13 L0,7.67871 C0,7.58594 0.0129395,7.49316 0.0384521,7.40332 L1.94666,0.725586 C2.06934,0.295898 2.46167,0 2.9082,0 L11.0918,0 Z M4.27271,1.5 C3.83728,1.5 3.45178,1.78223 3.31982,2.19727 L1.91455,6.61328 C1.70947,7.25879 2.1908,7.91699 2.86755,7.91699 L4.70837,7.91699 C4.70837,8.93652 5.16663,10.168 7,10.168 C8.83337,10.168 9.29163,8.93652 9.29163,7.91699 L11.1478,7.89355 C11.8201,7.88477 12.2927,7.22852 12.0876,6.58887 L10.681,2.19531 C10.5485,1.78125 10.1635,1.5 9.72864,1.5 L4.27271,1.5 Z\" }) });\n}\n\n// src/third-party/collection-card.tsx\n\n\n\nfunction CollectionCard({\n  collection,\n  block,\n  cover,\n  coverSize,\n  coverAspect,\n  properties,\n  className,\n  ...rest\n}) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m;\n  const ctx2 = useNotionContext();\n  const {\n    components,\n    recordMap,\n    mapPageUrl,\n    mapImageUrl,\n    isLinkCollectionToUrlProperty\n  } = ctx2;\n  let coverContent = null;\n  const { page_cover_position = 0.5, card_cover_position = 0.5 } = block.format || {};\n  const coverPosition = (1 - page_cover_position) * 100;\n  const cardCoverPosition = (1 - card_cover_position) * 100;\n  if ((cover == null ? void 0 : cover.type) === \"page_content\") {\n    const contentBlockId = (_a = block.content) == null ? void 0 : _a.find((blockId) => {\n      var _a2;\n      const block2 = (_a2 = recordMap.block[blockId]) == null ? void 0 : _a2.value;\n      return (block2 == null ? void 0 : block2.type) === \"image\";\n    });\n    if (contentBlockId) {\n      const contentBlock = (_b = recordMap.block[contentBlockId]) == null ? void 0 : _b.value;\n      const source = (_g = (_e = (_d = (_c = contentBlock.properties) == null ? void 0 : _c.source) == null ? void 0 : _d[0]) == null ? void 0 : _e[0]) != null ? _g : (_f = contentBlock.format) == null ? void 0 : _f.display_source;\n      if (source) {\n        const src = mapImageUrl(source, contentBlock);\n        const caption = (_j = (_i = (_h = contentBlock.properties) == null ? void 0 : _h.caption) == null ? void 0 : _i[0]) == null ? void 0 : _j[0];\n        coverContent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n          LazyImage,\n          {\n            src,\n            alt: caption || \"notion image\",\n            style: {\n              objectFit: coverAspect,\n              objectPosition: `center ${cardCoverPosition}%`\n            }\n          }\n        );\n      }\n    }\n    if (!coverContent) {\n      coverContent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-collection-card-cover-empty\" });\n    }\n  } else if ((cover == null ? void 0 : cover.type) === \"page_cover\") {\n    const { page_cover } = block.format || {};\n    if (page_cover) {\n      const coverPosition2 = (1 - page_cover_position) * 100;\n      coverContent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        LazyImage,\n        {\n          src: mapImageUrl(page_cover, block),\n          alt: (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.getTextContent)((_k = block.properties) == null ? void 0 : _k.title),\n          style: {\n            objectFit: coverAspect,\n            objectPosition: `center ${coverPosition2}%`\n          }\n        }\n      );\n    }\n  } else if ((cover == null ? void 0 : cover.type) === \"property\") {\n    const { property } = cover;\n    if (!property) return null;\n    const schema = collection.schema[property];\n    const data = (_l = block.properties) == null ? void 0 : _l[property];\n    if (schema && data) {\n      if (schema.type === \"file\") {\n        const files = data.filter((v) => v.length === 2).map((f) => f.flat().flat());\n        const file = files[0];\n        if (file) {\n          coverContent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: `notion-property-${schema.type}`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n            LazyImage,\n            {\n              alt: file[0],\n              src: mapImageUrl(file[2], block),\n              style: {\n                objectFit: coverAspect,\n                objectPosition: `center ${coverPosition}%`\n              }\n            }\n          ) });\n        }\n      } else {\n        coverContent = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Property, { propertyId: property, schema, data });\n      }\n    }\n  }\n  let linkProperties = [];\n  if (isLinkCollectionToUrlProperty && properties) {\n    linkProperties = properties.filter(\n      (p) => p.visible && p.property !== \"title\" && collection.schema[p.property]\n    ).filter((p) => {\n      if (!block.properties) return false;\n      const schema = collection.schema[p.property];\n      return (schema == null ? void 0 : schema.type) === \"url\";\n    }).map((p) => {\n      var _a2;\n      return (_a2 = block.properties) == null ? void 0 : _a2[p.property];\n    }).filter((p) => p == null ? void 0 : p[0]);\n  }\n  let url = null;\n  if (linkProperties && linkProperties.length > 0 && linkProperties[0].length > 0 && linkProperties[0][0].length > 0) {\n    url = linkProperties[0][0][0];\n  }\n  const innerCard = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [\n    (coverContent || (cover == null ? void 0 : cover.type) !== \"none\") && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-collection-card-cover\", children: coverContent }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-collection-card-body\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-collection-card-property\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        Property,\n        {\n          schema: collection.schema.title,\n          data: (_m = block == null ? void 0 : block.properties) == null ? void 0 : _m.title,\n          block,\n          collection\n        }\n      ) }),\n      properties == null ? void 0 : properties.filter(\n        (p) => p.visible && p.property !== \"title\" && collection.schema[p.property]\n      ).map((p) => {\n        if (!block.properties || !p.property) return null;\n        const schema = collection.schema[p.property];\n        const data = block.properties[p.property];\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-collection-card-property\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n          Property,\n          {\n            schema,\n            data,\n            block,\n            collection,\n            inline: true\n          }\n        ) }, p.property);\n      })\n    ] })\n  ] });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n    NotionContextProvider,\n    {\n      ...ctx2,\n      components: {\n        ...ctx2.components,\n        // Disable <a> tabs in all child components so we don't create invalid DOM\n        // trees with stacked <a> tags.\n        Link: (props) => {\n          var _a2, _b2, _c2;\n          return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"form\", { action: props.href, target: \"_blank\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n            \"input\",\n            {\n              type: \"submit\",\n              value: (_c2 = (_b2 = (_a2 = props == null ? void 0 : props.children) == null ? void 0 : _a2.props) == null ? void 0 : _b2.children) != null ? _c2 : props.href,\n              className: \"nested-form-link notion-link\"\n            }\n          ) });\n        },\n        PageLink: dummyLink\n      },\n      children: isLinkCollectionToUrlProperty && url ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        components.Link,\n        {\n          className: cs(\n            \"notion-collection-card\",\n            `notion-collection-card-size-${coverSize}`,\n            className\n          ),\n          href: url,\n          ...rest,\n          children: innerCard\n        }\n      ) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        components.PageLink,\n        {\n          className: cs(\n            \"notion-collection-card\",\n            `notion-collection-card-size-${coverSize}`,\n            className\n          ),\n          href: mapPageUrl(block.id),\n          ...rest,\n          children: innerCard\n        }\n      )\n    }\n  );\n}\n\n// src/third-party/collection-group.tsx\n\nfunction CollectionGroup({\n  collectionViewComponent: CollectionViewComponent,\n  collection,\n  collectionGroup,\n  schema,\n  value,\n  hidden,\n  summaryProps,\n  detailsProps,\n  ...rest\n}) {\n  if (hidden) return null;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"details\", { open: true, className: \"notion-collection-group\", ...detailsProps, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"summary\", { className: \"notion-collection-group-title\", ...summaryProps, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Property, { schema, data: [[value]], collection }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"notion-board-th-count\", children: collectionGroup == null ? void 0 : collectionGroup.total })\n    ] }) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      CollectionViewComponent,\n      {\n        collection,\n        collectionGroup,\n        ...rest\n      }\n    )\n  ] });\n}\n\n// src/third-party/collection-utils.ts\nfunction getCollectionGroups(collection, collectionView, collectionData, ...rest) {\n  var _a;\n  const elems = ((_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_groups) || [];\n  return elems.map(({ property, hidden, value: { value, type } }) => {\n    var _a2, _b;\n    const isUncategorizedValue = value === void 0;\n    const isDateValue = value == null ? void 0 : value.range;\n    const queryLabel = isUncategorizedValue ? \"uncategorized\" : isDateValue ? ((_a2 = value.range) == null ? void 0 : _a2.start_date) || ((_b = value.range) == null ? void 0 : _b.end_date) : (value == null ? void 0 : value.value) || value;\n    const collectionGroup = collectionData[`results:${type}:${queryLabel}`];\n    let queryValue = !isUncategorizedValue && (isDateValue || (value == null ? void 0 : value.value) || value);\n    let schema = collection.schema[property];\n    if (type === \"checkbox\" && value) {\n      queryValue = \"Yes\";\n    }\n    if (isDateValue) {\n      schema = {\n        type: \"text\",\n        name: \"text\"\n      };\n      queryValue = format(new Date(queryLabel), \"MMM d, YYY hh:mm aa\");\n    }\n    return {\n      collectionGroup,\n      schema,\n      value: queryValue || \"No description\",\n      hidden,\n      collection,\n      collectionView,\n      collectionData,\n      blockIds: collectionGroup == null ? void 0 : collectionGroup.blockIds,\n      ...rest\n    };\n  });\n}\n\n// src/third-party/collection-view-board.tsx\n\nfunction CollectionViewBoard({\n  collection,\n  collectionView,\n  collectionData,\n  padding\n}) {\n  var _a;\n  const isGroupedCollection = (_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_group_by;\n  if (isGroupedCollection) {\n    const collectionGroups = getCollectionGroups(\n      collection,\n      collectionView,\n      collectionData,\n      padding\n    );\n    return collectionGroups.map((group, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      CollectionGroup,\n      {\n        ...group,\n        summaryProps: {\n          style: {\n            paddingLeft: padding\n          }\n        },\n        collectionViewComponent: (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Board, { padding, ...props })\n      },\n      index\n    ));\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n    Board,\n    {\n      padding,\n      collectionView,\n      collection,\n      collectionData\n    }\n  );\n}\nfunction Board({\n  collectionView,\n  collectionData,\n  collection,\n  padding\n}) {\n  var _a, _b, _c, _d;\n  const { recordMap } = useNotionContext();\n  const {\n    board_cover = { type: \"none\" },\n    board_cover_size = \"medium\",\n    board_cover_aspect = \"cover\"\n  } = (collectionView == null ? void 0 : collectionView.format) || {};\n  const boardGroups = ((_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.board_columns) || ((_b = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _b.board_groups2) || [];\n  const boardGroupBy = (_d = (_c = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _c.board_columns_by) == null ? void 0 : _d.groupBy;\n  const boardStyle = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => ({\n      paddingLeft: padding\n    }),\n    [padding]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-board\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\n    \"div\",\n    {\n      className: cs(\n        \"notion-board-view\",\n        `notion-board-view-size-${board_cover_size}`\n      ),\n      style: boardStyle,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-board-header\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-board-header-inner\", children: boardGroups.map((p, index) => {\n          var _a2, _b2, _c2, _d2;\n          if (!((_a2 = collectionData.board_columns) == null ? void 0 : _a2.results)) {\n            return null;\n          }\n          const group = collectionData.board_columns.results[index];\n          const schema = collection.schema[p.property];\n          if (!group || !schema || p.hidden) {\n            return null;\n          }\n          return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-board-th\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-board-th-body\", children: [\n            ((_b2 = group.value) == null ? void 0 : _b2.value) ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n              Property,\n              {\n                schema,\n                data: [\n                  [\n                    ((_c2 = group.value) == null ? void 0 : _c2.value[boardGroupBy]) || ((_d2 = group.value) == null ? void 0 : _d2.value)\n                  ]\n                ],\n                collection\n              }\n            ) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EmptyIcon, { className: \"notion-board-th-empty\" }),\n              (schema == null ? void 0 : schema.name) ? `No ${schema.name}` : \"No Select\"\n            ] }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"notion-board-th-count\", children: group.total })\n          ] }) }, index);\n        }) }) }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-board-header-placeholder\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-board-body\", children: boardGroups.map((p, index) => {\n          var _a2, _b2, _c2, _d2, _e;\n          const boardResults = (_a2 = collectionData.board_columns) == null ? void 0 : _a2.results;\n          if (!boardResults) return null;\n          if (!((_b2 = p == null ? void 0 : p.value) == null ? void 0 : _b2.type)) return null;\n          const schema = collection.schema[p.property];\n          const group = collectionData[`results:${(_c2 = p == null ? void 0 : p.value) == null ? void 0 : _c2.type}:${((_d2 = p == null ? void 0 : p.value) == null ? void 0 : _d2.value) || \"uncategorized\"}`];\n          if (!group || !schema || p.hidden) {\n            return null;\n          }\n          return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-board-group\", children: (_e = group.blockIds) == null ? void 0 : _e.map((blockId) => {\n            var _a3, _b3;\n            const block = (_a3 = recordMap.block[blockId]) == null ? void 0 : _a3.value;\n            if (!block) return null;\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n              CollectionCard,\n              {\n                className: \"notion-board-group-card\",\n                collection,\n                block,\n                cover: board_cover,\n                coverSize: board_cover_size,\n                coverAspect: board_cover_aspect,\n                properties: (_b3 = collectionView.format) == null ? void 0 : _b3.board_properties\n              },\n              blockId\n            );\n          }) }, index);\n        }) })\n      ]\n    }\n  ) });\n}\n\n// src/third-party/collection-view-gallery.tsx\n\n\nvar defaultBlockIds = [];\nfunction CollectionViewGallery({\n  collection,\n  collectionView,\n  collectionData\n}) {\n  var _a, _b, _c, _d, _e;\n  const isGroupedCollection = (_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_group_by;\n  if (isGroupedCollection) {\n    const collectionGroups = getCollectionGroups(\n      collection,\n      collectionView,\n      collectionData\n    );\n    return collectionGroups.map((group, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      CollectionGroup,\n      {\n        ...group,\n        collectionViewComponent: Gallery\n      },\n      index\n    ));\n  }\n  const blockIds = ((_e = (_d = (_b = collectionData.collection_group_results) == null ? void 0 : _b.blockIds) != null ? _d : (_c = collectionData[\"results:relation:uncategorized\"]) == null ? void 0 : _c.blockIds) != null ? _e : collectionData.blockIds) || defaultBlockIds;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n    Gallery,\n    {\n      collectionView,\n      collection,\n      blockIds\n    }\n  );\n}\nfunction Gallery({\n  blockIds,\n  collectionView,\n  collection\n}) {\n  const { recordMap } = useNotionContext();\n  const {\n    gallery_cover = { type: \"none\" },\n    gallery_cover_size = \"medium\",\n    gallery_cover_aspect = \"cover\"\n  } = collectionView.format || {};\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-gallery\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-gallery-view\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n    \"div\",\n    {\n      className: cs(\n        \"notion-gallery-grid\",\n        `notion-gallery-grid-size-${gallery_cover_size}`\n      ),\n      children: blockIds == null ? void 0 : blockIds.map((blockId) => {\n        var _a, _b;\n        const block = (_a = recordMap.block[blockId]) == null ? void 0 : _a.value;\n        if (!block) return null;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n          CollectionCard,\n          {\n            collection,\n            block,\n            cover: gallery_cover,\n            coverSize: gallery_cover_size,\n            coverAspect: gallery_cover_aspect,\n            properties: (_b = collectionView.format) == null ? void 0 : _b.gallery_properties\n          },\n          blockId\n        );\n      })\n    }\n  ) }) });\n}\n\n// src/third-party/collection-view-list.tsx\n\n\nvar defaultBlockIds2 = [];\nfunction CollectionViewList({\n  collection,\n  collectionView,\n  collectionData\n}) {\n  var _a, _b, _c;\n  const isGroupedCollection = (_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_group_by;\n  if (isGroupedCollection) {\n    const collectionGroups = getCollectionGroups(\n      collection,\n      collectionView,\n      collectionData\n    );\n    return collectionGroups.map((group, key) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CollectionGroup, { ...group, collectionViewComponent: List }, key));\n  }\n  const blockIds = ((_c = (_b = collectionData.collection_group_results) == null ? void 0 : _b.blockIds) != null ? _c : collectionData.blockIds) || defaultBlockIds2;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n    List,\n    {\n      blockIds,\n      collection,\n      collectionView\n    }\n  );\n}\nfunction List({\n  blockIds = [],\n  collection,\n  collectionView\n}) {\n  const { components, recordMap, mapPageUrl } = useNotionContext();\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-list-collection\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-list-view\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-list-body\", children: blockIds == null ? void 0 : blockIds.map((blockId) => {\n    var _a, _b, _c, _d;\n    const block = (_a = recordMap.block[blockId]) == null ? void 0 : _a.value;\n    if (!block) return null;\n    const titleSchema = collection.schema.title;\n    const titleData = (_b = block == null ? void 0 : block.properties) == null ? void 0 : _b.title;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\n      components.PageLink,\n      {\n        className: \"notion-list-item notion-page-link\",\n        href: mapPageUrl(block.id),\n        children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-list-item-title\", children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n              PageIcon,\n              {\n                block,\n                className: \"notion-page-title-icon\",\n                hideDefaultIcon: true\n              }\n            ),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n              Property,\n              {\n                schema: titleSchema,\n                data: titleData,\n                block,\n                collection,\n                linkToTitlePage: false\n              }\n            )\n          ] }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-list-item-body\", children: (_d = (_c = collectionView.format) == null ? void 0 : _c.list_properties) == null ? void 0 : _d.filter((p) => p.visible).map((p) => {\n            var _a2;\n            const schema = collection.schema[p.property];\n            const data = block && ((_a2 = block.properties) == null ? void 0 : _a2[p.property]);\n            if (!schema) {\n              return null;\n            }\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n              \"div\",\n              {\n                className: \"notion-list-item-property\",\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n                  Property,\n                  {\n                    schema,\n                    data,\n                    block,\n                    collection\n                  }\n                )\n              },\n              p.property\n            );\n          }) })\n        ]\n      },\n      blockId\n    );\n  }) }) }) });\n}\n\n// src/third-party/react-use.ts\n\nvar noop = () => {\n};\nfunction on(obj, ...args) {\n  if (obj && obj.addEventListener) {\n    obj.addEventListener(\n      ...args\n    );\n  }\n}\nfunction off(obj, ...args) {\n  if (obj && obj.removeEventListener) {\n    obj.removeEventListener(\n      ...args\n    );\n  }\n}\nvar isBrowser2 = !!globalThis.window;\nvar useWindowSize = (initialWidth = Infinity, initialHeight = Infinity) => {\n  const [state, setState] = useRafState({\n    width: isBrowser2 ? globalThis.window.innerWidth : initialWidth,\n    height: isBrowser2 ? globalThis.window.innerHeight : initialHeight\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (isBrowser2) {\n      const handler = () => {\n        setState({\n          width: globalThis.window.innerWidth,\n          height: globalThis.window.innerHeight\n        });\n      };\n      on(globalThis.window, \"resize\", handler);\n      return () => {\n        off(globalThis.window, \"resize\", handler);\n      };\n    }\n  }, []);\n  return state;\n};\nvar useEffectOnce = (effect) => {\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(effect, []);\n};\nvar useUnmount = (fn) => {\n  const fnRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(fn);\n  fnRef.current = fn;\n  useEffectOnce(() => () => fnRef.current());\n};\nvar useRafState = (initialState) => {\n  const frame = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialState);\n  const setRafState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value) => {\n    cancelAnimationFrame(frame.current);\n    frame.current = requestAnimationFrame(() => {\n      setState(value);\n    });\n  }, []);\n  useUnmount(() => {\n    cancelAnimationFrame(frame.current);\n  });\n  return [state, setRafState];\n};\nvar useLocalStorage = (key, initialValue, options) => {\n  if (!isBrowser2) {\n    return [initialValue, noop, noop];\n  }\n  if (!key) {\n    throw new Error(\"useLocalStorage key may not be falsy\");\n  }\n  const deserializer = options ? options.raw ? (value) => value : options.deserializer : JSON.parse;\n  const initializer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)((key2) => {\n    try {\n      const serializer = options ? options.raw ? String : options.serializer : JSON.stringify;\n      const localStorageValue = localStorage.getItem(key2);\n      if (localStorageValue !== null) {\n        return deserializer(localStorageValue);\n      } else {\n        if (initialValue) {\n          localStorage.setItem(key2, serializer(initialValue));\n        }\n        return initialValue;\n      }\n    } catch (e) {\n      return initialValue;\n    }\n  });\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    () => initializer.current(key)\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => setState(initializer.current(key)), [key]);\n  const set = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (valOrFunc) => {\n      try {\n        const newState = typeof valOrFunc === \"function\" ? valOrFunc(state) : valOrFunc;\n        if (newState === void 0) return;\n        let value;\n        if (options)\n          if (options.raw)\n            if (typeof newState === \"string\") value = newState;\n            else value = JSON.stringify(newState);\n          else if (options.serializer) value = options.serializer(newState);\n          else value = JSON.stringify(newState);\n        else value = JSON.stringify(newState);\n        localStorage.setItem(key, value);\n        setState(deserializer(value));\n      } catch (e) {\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [key, setState]\n  );\n  const remove = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    try {\n      localStorage.removeItem(key);\n      setState(void 0);\n    } catch (e) {\n    }\n  }, [key, setState]);\n  return [state, set, remove];\n};\nvar useClientStyle = (clientStyle, serverStyle = {}) => {\n  const [isMounted, setIsMounted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    setIsMounted(true);\n  }, []);\n  return isMounted ? clientStyle : serverStyle;\n};\n\n// src/third-party/collection-view-table.tsx\n\nvar defaultBlockIds3 = [];\nfunction CollectionViewTable({\n  collection,\n  collectionView,\n  collectionData,\n  padding,\n  width\n}) {\n  var _a, _b, _c;\n  const isGroupedCollection = (_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_group_by;\n  if (isGroupedCollection) {\n    const collectionGroups = getCollectionGroups(\n      collection,\n      collectionView,\n      collectionData,\n      padding,\n      width\n    );\n    return collectionGroups.map((group, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      CollectionGroup,\n      {\n        ...group,\n        collectionViewComponent: (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Table, { ...props, padding, width }),\n        summaryProps: {\n          style: {\n            paddingLeft: padding,\n            paddingRight: padding\n          }\n        }\n      },\n      index\n    ));\n  }\n  const blockIds = ((_c = (_b = collectionData.collection_group_results) == null ? void 0 : _b.blockIds) != null ? _c : collectionData.blockIds) || defaultBlockIds3;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n    Table,\n    {\n      blockIds,\n      collection,\n      collectionView,\n      padding,\n      width\n    }\n  );\n}\nfunction Table({\n  blockIds = [],\n  collection,\n  collectionView,\n  width,\n  padding\n}) {\n  var _a;\n  const { recordMap, linkTableTitleProperties } = useNotionContext();\n  const tableStyle = useClientStyle(\n    {\n      width,\n      maxWidth: width\n    },\n    { visibility: \"hidden\" }\n  );\n  const tableViewStyle = useClientStyle({\n    paddingLeft: padding,\n    paddingRight: padding\n  });\n  let properties = [];\n  if ((_a = collectionView.format) == null ? void 0 : _a.table_properties) {\n    properties = collectionView.format.table_properties.filter(\n      (p) => p.visible && collection.schema[p.property]\n    );\n  } else {\n    properties = [{ property: \"title\" }].concat(\n      Object.keys(collection.schema).filter((p) => p !== \"title\").map((property) => ({ property }))\n    );\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-table\", style: tableStyle, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-table-view\", style: tableViewStyle, children: !!properties.length && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-table-header\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-table-header-inner\", children: properties.map((p) => {\n      var _a2;\n      const schema = (_a2 = collection.schema) == null ? void 0 : _a2[p.property];\n      const isTitle = p.property === \"title\";\n      const style = {};\n      if (p.width) {\n        style.width = p.width;\n      } else if (isTitle) {\n        style.width = 280;\n      } else {\n        style.width = 200;\n      }\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-table-th\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        \"div\",\n        {\n          className: \"notion-table-view-header-cell\",\n          style,\n          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-table-view-header-cell-inner\", children: schema && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CollectionColumnTitle, { schema }) })\n        }\n      ) }, p.property);\n    }) }) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-table-header-placeholder\" }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-table-body\", children: blockIds == null ? void 0 : blockIds.map((blockId) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-table-row\", children: properties.map((p) => {\n      var _a2, _b, _c;\n      const schema = (_a2 = collection.schema) == null ? void 0 : _a2[p.property];\n      const block = (_b = recordMap.block[blockId]) == null ? void 0 : _b.value;\n      const data = (_c = block == null ? void 0 : block.properties) == null ? void 0 : _c[p.property];\n      const isTitle = p.property === \"title\";\n      const style = {};\n      if (p.width) {\n        style.width = p.width;\n      } else if (isTitle) {\n        style.width = 280;\n      } else {\n        style.width = 200;\n      }\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        \"div\",\n        {\n          className: cs(\n            \"notion-table-cell\",\n            `notion-table-cell-${schema == null ? void 0 : schema.type}`\n          ),\n          style,\n          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n            Property,\n            {\n              schema,\n              data,\n              block,\n              collection,\n              linkToTitlePage: linkTableTitleProperties\n            }\n          )\n        },\n        p.property\n      );\n    }) }, blockId)) })\n  ] }) }) });\n}\n\n// src/third-party/collection-view.tsx\n\nfunction CollectionViewImpl(props) {\n  const { collectionView } = props;\n  switch (collectionView.type) {\n    case \"table\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CollectionViewTable, { ...props });\n    case \"gallery\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CollectionViewGallery, { ...props });\n    case \"list\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CollectionViewList, { ...props });\n    case \"board\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CollectionViewBoard, { ...props });\n    default:\n      console.warn(\"unsupported collection view\", collectionView);\n      return null;\n  }\n}\nvar CollectionView = react__WEBPACK_IMPORTED_MODULE_0__.memo(CollectionViewImpl);\n\n// src/third-party/collection.tsx\n\nvar isServer2 = !globalThis.window;\nfunction Collection({\n  block,\n  className,\n  ctx: ctx2\n}) {\n  const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => ({\n      ...ctx2\n    }),\n    [ctx2]\n  );\n  if (block.type === \"page\") {\n    if (block.parent_table !== \"collection\") {\n      return null;\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NotionContextProvider, { ...context, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-collection-page-properties\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      CollectionRow,\n      {\n        block,\n        pageHeader: true,\n        className\n      }\n    ) }) });\n  } else {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NotionContextProvider, { ...context, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CollectionViewBlock, { block, className }) });\n  }\n}\nfunction CollectionViewBlock({\n  block,\n  className\n}) {\n  var _a, _b, _c, _d;\n  const { recordMap, showCollectionViewDropdown } = useNotionContext();\n  const { view_ids: viewIds } = block;\n  const collectionId = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.getBlockCollectionId)(block, recordMap);\n  const [isMounted, setIsMounted] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    setIsMounted(true);\n  }, []);\n  const defaultCollectionViewId = viewIds[0];\n  const [collectionState, setCollectionState] = useLocalStorage(block.id, {\n    collectionViewId: defaultCollectionViewId\n  });\n  const collectionViewId = isMounted && viewIds.find((id) => id && id === (collectionState == null ? void 0 : collectionState.collectionViewId)) || defaultCollectionViewId;\n  const onChangeView = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (collectionViewId2) => {\n      console.log(\"change collection view\", collectionViewId2);\n      setCollectionState({\n        ...collectionState,\n        collectionViewId: collectionViewId2\n      });\n    },\n    [collectionState, setCollectionState]\n  );\n  let { width: windowWidth } = useWindowSize();\n  if (isServer2) {\n    windowWidth = 1024;\n  }\n  const collection = (_a = recordMap.collection[collectionId]) == null ? void 0 : _a.value;\n  const collectionView = (_b = recordMap.collection_view[collectionViewId]) == null ? void 0 : _b.value;\n  const collectionData = (_c = recordMap.collection_query[collectionId]) == null ? void 0 : _c[collectionViewId];\n  const parentPage = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.getBlockParentPage)(block, recordMap);\n  const { width, padding } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    var _a2;\n    const style = {};\n    if ((collectionView == null ? void 0 : collectionView.type) !== \"table\" && (collectionView == null ? void 0 : collectionView.type) !== \"board\") {\n      return {\n        style,\n        width: 0,\n        padding: 0\n      };\n    }\n    const width2 = windowWidth;\n    const maxNotionBodyWidth = 708;\n    let notionBodyWidth = maxNotionBodyWidth;\n    if ((_a2 = parentPage == null ? void 0 : parentPage.format) == null ? void 0 : _a2.page_full_width) {\n      notionBodyWidth = Math.trunc(width2 - 2 * Math.min(96, width2 * 0.08));\n    } else {\n      notionBodyWidth = width2 < maxNotionBodyWidth ? Math.trunc(width2 - width2 * 0.02) : maxNotionBodyWidth;\n    }\n    const padding2 = isServer2 && !isMounted ? 96 : Math.trunc((width2 - notionBodyWidth) / 2);\n    style.paddingLeft = padding2;\n    style.paddingRight = padding2;\n    return {\n      style,\n      width: width2,\n      padding: padding2\n    };\n  }, [windowWidth, parentPage, collectionView == null ? void 0 : collectionView.type, isMounted]);\n  if (!(collection && collectionView && collectionData)) {\n    console.warn(\"skipping missing collection view for block\", block.id, {\n      collectionId,\n      collectionViewId,\n      collectionView,\n      collectionData,\n      recordMap\n    });\n    return null;\n  }\n  const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_3__.getTextContent)(collection.name).trim();\n  const showTitle = ((_d = collectionView.format) == null ? void 0 : _d.hide_linked_collection_name) !== true && title;\n  if (collection.icon) {\n    block.format = {\n      ...block.format,\n      page_icon: collection.icon\n    };\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { children: viewIds.length > 1 && showCollectionViewDropdown && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n        CollectionViewTabs,\n        {\n          collectionViewId,\n          viewIds,\n          onChangeView\n        }\n      ) }),\n      showTitle && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-collection-header\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"notion-collection-header-title\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n          PageIcon,\n          {\n            block,\n            className: \"notion-page-title-icon\",\n            hideDefaultIcon: true\n          }\n        ),\n        title\n      ] }) })\n    ] }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: cs(\"notion-collection\", className), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      CollectionView,\n      {\n        collection,\n        collectionView,\n        collectionData,\n        padding,\n        width\n      }\n    ) })\n  ] });\n}\nfunction CollectionViewTabs({\n  collectionViewId,\n  viewIds,\n  onChangeView\n}) {\n  const { recordMap } = useNotionContext();\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"notion-collection-view-tabs-row\", children: viewIds.map((viewId) => {\n    var _a;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      \"button\",\n      {\n        onClick: () => onChangeView(viewId),\n        className: cs(\n          \"notion-collection-view-tabs-content-item\",\n          collectionViewId === viewId && \"notion-collection-view-tabs-content-item-active\"\n        ),\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n          CollectionViewColumnDesc,\n          {\n            collectionView: (_a = recordMap.collection_view[viewId]) == null ? void 0 : _a.value\n          }\n        )\n      },\n      viewId\n    );\n  }) });\n}\nfunction CollectionViewColumnDesc({\n  collectionView,\n  className,\n  children,\n  ...rest\n}) {\n  if (!collectionView) return null;\n  const { type } = collectionView;\n  const name = collectionView.name || `${type[0].toUpperCase()}${type.slice(1)} view`;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: cs(\"notion-collection-view-type\", className), ...rest, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n      CollectionViewIcon,\n      {\n        className: \"notion-collection-view-type-icon\",\n        type\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"notion-collection-view-type-title\", children: name }),\n    children\n  ] });\n}\n\n//# sourceMappingURL=collection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3Qtbm90aW9uLXgvYnVpbGQvdGhpcmQtcGFydHkvY29sbGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsNkRBQTZEO0FBQzNJO0FBQ0EsMkRBQTJELGFBQWE7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0RkFBNEY7QUFDekg7QUFDQTtBQUNBO0FBQ0EsbUdBQW1HO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLDhCQUE4QjtBQUN2RztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw4QkFBOEI7QUFDeEQ7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNW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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2QkFBNkIsNkJBQTZCO0FBQzFEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsYUFBYTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELGFBQWE7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxhQUFhO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxnQkFBZ0I7QUFDMUU7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsZ0JBQWdCO0FBQzFFO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FB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Q0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLGFBQWE7QUFDdkI7QUFDQTtBQUNBO0FBQ0Es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cGFydHkvY29sbGVjdGlvbi5qcz9mZGM2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2NyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgX19nZXRQcm90b09mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19jb21tb25KUyA9IChjYiwgbW9kKSA9PiBmdW5jdGlvbiBfX3JlcXVpcmUoKSB7XG4gIHJldHVybiBtb2QgfHwgKDAsIGNiW19fZ2V0T3duUHJvcE5hbWVzKGNiKVswXV0pKChtb2QgPSB7IGV4cG9ydHM6IHt9IH0pLmV4cG9ydHMsIG1vZCksIG1vZC5leHBvcnRzO1xufTtcbnZhciBfX2NvcHlQcm9wcyA9ICh0bywgZnJvbSwgZXhjZXB0LCBkZXNjKSA9PiB7XG4gIGlmIChmcm9tICYmIHR5cGVvZiBmcm9tID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmcm9tID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBmb3IgKGxldCBrZXkgb2YgX19nZXRPd25Qcm9wTmFtZXMoZnJvbSkpXG4gICAgICBpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KVxuICAgICAgICBfX2RlZlByb3AodG8sIGtleSwgeyBnZXQ6ICgpID0+IGZyb21ba2V5XSwgZW51bWVyYWJsZTogIShkZXNjID0gX19nZXRPd25Qcm9wRGVzYyhmcm9tLCBrZXkpKSB8fCBkZXNjLmVudW1lcmFibGUgfSk7XG4gIH1cbiAgcmV0dXJuIHRvO1xufTtcbnZhciBfX3RvRVNNID0gKG1vZCwgaXNOb2RlTW9kZSwgdGFyZ2V0KSA9PiAodGFyZ2V0ID0gbW9kICE9IG51bGwgPyBfX2NyZWF0ZShfX2dldFByb3RvT2YobW9kKSkgOiB7fSwgX19jb3B5UHJvcHMoXG4gIC8vIElmIHRoZSBpbXBvcnRlciBpcyBpbiBub2RlIGNvbXBhdGliaWxpdHkgbW9kZSBvciB0aGlzIGlzIG5vdCBhbiBFU01cbiAgLy8gZmlsZSB0aGF0IGhhcyBiZWVuIGNvbnZlcnRlZCB0byBhIENvbW1vbkpTIGZpbGUgdXNpbmcgYSBCYWJlbC1cbiAgLy8gY29tcGF0aWJsZSB0cmFuc2Zvcm0gKGkuZS4gXCJfX2VzTW9kdWxlXCIgaGFzIG5vdCBiZWVuIHNldCksIHRoZW4gc2V0XG4gIC8vIFwiZGVmYXVsdFwiIHRvIHRoZSBDb21tb25KUyBcIm1vZHVsZS5leHBvcnRzXCIgZm9yIG5vZGUgY29tcGF0aWJpbGl0eS5cbiAgaXNOb2RlTW9kZSB8fCAhbW9kIHx8ICFtb2QuX19lc01vZHVsZSA/IF9fZGVmUHJvcCh0YXJnZXQsIFwiZGVmYXVsdFwiLCB7IHZhbHVlOiBtb2QsIGVudW1lcmFibGU6IHRydWUgfSkgOiB0YXJnZXQsXG4gIG1vZFxuKSk7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gudGhyb3R0bGVANC4xLjEvbm9kZV9tb2R1bGVzL2xvZGFzaC50aHJvdHRsZS9pbmRleC5qc1xudmFyIHJlcXVpcmVfbG9kYXNoID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC50aHJvdHRsZUA0LjEuMS9ub2RlX21vZHVsZXMvbG9kYXNoLnRocm90dGxlL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgdmFyIEZVTkNfRVJST1JfVEVYVCA9IFwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiO1xuICAgIHZhciBOQU4gPSAwIC8gMDtcbiAgICB2YXIgc3ltYm9sVGFnID0gXCJbb2JqZWN0IFN5bWJvbF1cIjtcbiAgICB2YXIgcmVUcmltID0gL15cXHMrfFxccyskL2c7XG4gICAgdmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcbiAgICB2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcbiAgICB2YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcbiAgICB2YXIgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG4gICAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09IFwib2JqZWN0XCIgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG4gICAgdmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gXCJvYmplY3RcIiAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcbiAgICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xuICAgIHZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG4gICAgdmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG4gICAgdmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4O1xuICAgIHZhciBuYXRpdmVNaW4gPSBNYXRoLm1pbjtcbiAgICB2YXIgbm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxhc3RBcmdzLCBsYXN0VGhpcywgbWF4V2FpdCwgcmVzdWx0LCB0aW1lcklkLCBsYXN0Q2FsbFRpbWUsIGxhc3RJbnZva2VUaW1lID0gMCwgbGVhZGluZyA9IGZhbHNlLCBtYXhpbmcgPSBmYWxzZSwgdHJhaWxpbmcgPSB0cnVlO1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgICAgIG1heGluZyA9IFwibWF4V2FpdFwiIGluIG9wdGlvbnM7XG4gICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICAgIHRyYWlsaW5nID0gXCJ0cmFpbGluZ1wiIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLCB0aGlzQXJnID0gbGFzdFRoaXM7XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB2b2lkIDA7XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSwgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSwgcmVzdWx0MiA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcbiAgICAgICAgcmV0dXJuIG1heGluZyA/IG5hdGl2ZU1pbihyZXN1bHQyLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSkgOiByZXN1bHQyO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSwgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcbiAgICAgICAgcmV0dXJuIGxhc3RDYWxsVGltZSA9PT0gdm9pZCAwIHx8IHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQgfHwgdGltZVNpbmNlTGFzdENhbGwgPCAwIHx8IG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgICAgICB0aW1lcklkID0gdm9pZCAwO1xuICAgICAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdm9pZCAwO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICBpZiAodGltZXJJZCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB2b2lkIDA7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVySWQgPT09IHZvaWQgMCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCksIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG4gICAgICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG4gICAgICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICAgICAgaWYgKHRpbWVySWQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXJJZCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgICAgIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICAgICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3R0bGUyKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSwgdHJhaWxpbmcgPSB0cnVlO1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9IFwibGVhZGluZ1wiIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gXCJ0cmFpbGluZ1wiIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgICAgIFwibGVhZGluZ1wiOiBsZWFkaW5nLFxuICAgICAgICBcIm1heFdhaXRcIjogd2FpdCxcbiAgICAgICAgXCJ0cmFpbGluZ1wiOiB0cmFpbGluZ1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09IFwib2JqZWN0XCIgfHwgdHlwZSA9PSBcImZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSBcInN5bWJvbFwiIHx8IGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gXCJmdW5jdGlvblwiID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gb3RoZXIgKyBcIlwiIDogb3RoZXI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmVUcmltLCBcIlwiKTtcbiAgICAgIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KSA6IHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWU7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gdGhyb3R0bGUyO1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2Zvcm1hdC1udW1iZXJAMy4wLjAvbm9kZV9tb2R1bGVzL2Zvcm1hdC1udW1iZXIvaW5kZXguanNcbnZhciByZXF1aXJlX2Zvcm1hdF9udW1iZXIgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZm9ybWF0LW51bWJlckAzLjAuMC9ub2RlX21vZHVsZXMvZm9ybWF0LW51bWJlci9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIG1vZHVsZS5leHBvcnRzID0gZm9ybWF0dGVyO1xuICAgIG1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBmb3JtYXR0ZXI7XG4gICAgZnVuY3Rpb24gZm9ybWF0dGVyKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgb3B0aW9ucy5uZWdhdGl2ZVR5cGUgPSBvcHRpb25zLm5lZ2F0aXZlVHlwZSB8fCAob3B0aW9ucy5uZWdhdGl2ZSA9PT0gXCJSXCIgPyBcInJpZ2h0XCIgOiBcImxlZnRcIik7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMubmVnYXRpdmVMZWZ0U3ltYm9sICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHN3aXRjaCAob3B0aW9ucy5uZWdhdGl2ZVR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICAgICAgb3B0aW9ucy5uZWdhdGl2ZUxlZnRTeW1ib2wgPSBcIi1cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJicmFja2V0c1wiOlxuICAgICAgICAgICAgb3B0aW9ucy5uZWdhdGl2ZUxlZnRTeW1ib2wgPSBcIihcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBvcHRpb25zLm5lZ2F0aXZlTGVmdFN5bWJvbCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5uZWdhdGl2ZVJpZ2h0U3ltYm9sICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHN3aXRjaCAob3B0aW9ucy5uZWdhdGl2ZVR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgICAgIG9wdGlvbnMubmVnYXRpdmVSaWdodFN5bWJvbCA9IFwiLVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImJyYWNrZXRzXCI6XG4gICAgICAgICAgICBvcHRpb25zLm5lZ2F0aXZlUmlnaHRTeW1ib2wgPSBcIilcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBvcHRpb25zLm5lZ2F0aXZlUmlnaHRTeW1ib2wgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMubmVnYXRpdmVMZWZ0T3V0ICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICBvcHRpb25zLm5lZ2F0aXZlTGVmdE91dCA9IG9wdGlvbnMubmVnYXRpdmVPdXQgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm5lZ2F0aXZlUmlnaHRPdXQgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIG9wdGlvbnMubmVnYXRpdmVSaWdodE91dCA9IG9wdGlvbnMubmVnYXRpdmVPdXQgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgb3B0aW9ucy5wcmVmaXggPSBvcHRpb25zLnByZWZpeCB8fCBcIlwiO1xuICAgICAgb3B0aW9ucy5zdWZmaXggPSBvcHRpb25zLnN1ZmZpeCB8fCBcIlwiO1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmludGVnZXJTZXBhcmF0b3IgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgb3B0aW9ucy5pbnRlZ2VyU2VwYXJhdG9yID0gdHlwZW9mIG9wdGlvbnMuc2VwYXJhdG9yID09PSBcInN0cmluZ1wiID8gb3B0aW9ucy5zZXBhcmF0b3IgOiBcIixcIjtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMuZGVjaW1hbHNTZXBhcmF0b3IgPSB0eXBlb2Ygb3B0aW9ucy5kZWNpbWFsc1NlcGFyYXRvciA9PT0gXCJzdHJpbmdcIiA/IG9wdGlvbnMuZGVjaW1hbHNTZXBhcmF0b3IgOiBcIlwiO1xuICAgICAgb3B0aW9ucy5kZWNpbWFsID0gb3B0aW9ucy5kZWNpbWFsIHx8IFwiLlwiO1xuICAgICAgb3B0aW9ucy5wYWRMZWZ0ID0gb3B0aW9ucy5wYWRMZWZ0IHx8IC0xO1xuICAgICAgb3B0aW9ucy5wYWRSaWdodCA9IG9wdGlvbnMucGFkUmlnaHQgfHwgLTE7XG4gICAgICBmdW5jdGlvbiBmb3JtYXQyKG51bWJlciwgb3ZlcnJpZGVPcHRpb25zKSB7XG4gICAgICAgIG92ZXJyaWRlT3B0aW9ucyA9IG92ZXJyaWRlT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgaWYgKG51bWJlciB8fCBudW1iZXIgPT09IDApIHtcbiAgICAgICAgICBudW1iZXIgPSBcIlwiICsgbnVtYmVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICAgICAgdmFyIG5lZ2F0aXZlID0gbnVtYmVyLmNoYXJBdCgwKSA9PT0gXCItXCI7XG4gICAgICAgIG51bWJlciA9IG51bWJlci5yZXBsYWNlKC9eXFwtL2csIFwiXCIpO1xuICAgICAgICBpZiAoIW9wdGlvbnMubmVnYXRpdmVMZWZ0T3V0ICYmICFvdmVycmlkZU9wdGlvbnMubm9Vbml0cykge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMucHJlZml4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmVnYXRpdmUpIHtcbiAgICAgICAgICBvdXRwdXQucHVzaChvcHRpb25zLm5lZ2F0aXZlTGVmdFN5bWJvbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubmVnYXRpdmVMZWZ0T3V0ICYmICFvdmVycmlkZU9wdGlvbnMubm9Vbml0cykge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMucHJlZml4KTtcbiAgICAgICAgfVxuICAgICAgICBudW1iZXIgPSBudW1iZXIuc3BsaXQoXCIuXCIpO1xuICAgICAgICBpZiAob3B0aW9ucy5yb3VuZCAhPSBudWxsKSByb3VuZChudW1iZXIsIG9wdGlvbnMucm91bmQpO1xuICAgICAgICBpZiAob3B0aW9ucy50cnVuY2F0ZSAhPSBudWxsKSBudW1iZXJbMV0gPSB0cnVuY2F0ZShudW1iZXJbMV0sIG9wdGlvbnMudHJ1bmNhdGUpO1xuICAgICAgICBpZiAob3B0aW9ucy5wYWRMZWZ0ID4gMCkgbnVtYmVyWzBdID0gcGFkTGVmdChudW1iZXJbMF0sIG9wdGlvbnMucGFkTGVmdCk7XG4gICAgICAgIGlmIChvcHRpb25zLnBhZFJpZ2h0ID4gMCkgbnVtYmVyWzFdID0gcGFkUmlnaHQobnVtYmVyWzFdLCBvcHRpb25zLnBhZFJpZ2h0KTtcbiAgICAgICAgaWYgKCFvdmVycmlkZU9wdGlvbnMubm9TZXBhcmF0b3IgJiYgbnVtYmVyWzFdKSBudW1iZXJbMV0gPSBhZGREZWNpbWFsU2VwYXJhdG9ycyhudW1iZXJbMV0sIG9wdGlvbnMuZGVjaW1hbHNTZXBhcmF0b3IpO1xuICAgICAgICBpZiAoIW92ZXJyaWRlT3B0aW9ucy5ub1NlcGFyYXRvciAmJiBudW1iZXJbMF0pIG51bWJlclswXSA9IGFkZEludGVnZXJTZXBhcmF0b3JzKG51bWJlclswXSwgb3B0aW9ucy5pbnRlZ2VyU2VwYXJhdG9yKTtcbiAgICAgICAgb3V0cHV0LnB1c2gobnVtYmVyWzBdKTtcbiAgICAgICAgaWYgKG51bWJlclsxXSkge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMuZGVjaW1hbCk7XG4gICAgICAgICAgb3V0cHV0LnB1c2gobnVtYmVyWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5uZWdhdGl2ZVJpZ2h0T3V0ICYmICFvdmVycmlkZU9wdGlvbnMubm9Vbml0cykge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMuc3VmZml4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmVnYXRpdmUpIHtcbiAgICAgICAgICBvdXRwdXQucHVzaChvcHRpb25zLm5lZ2F0aXZlUmlnaHRTeW1ib2wpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3B0aW9ucy5uZWdhdGl2ZVJpZ2h0T3V0ICYmICFvdmVycmlkZU9wdGlvbnMubm9Vbml0cykge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMuc3VmZml4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0LmpvaW4oXCJcIik7XG4gICAgICB9XG4gICAgICBmb3JtYXQyLm5lZ2F0aXZlID0gb3B0aW9ucy5uZWdhdGl2ZTtcbiAgICAgIGZvcm1hdDIubmVnYXRpdmVPdXQgPSBvcHRpb25zLm5lZ2F0aXZlT3V0O1xuICAgICAgZm9ybWF0Mi5uZWdhdGl2ZVR5cGUgPSBvcHRpb25zLm5lZ2F0aXZlVHlwZTtcbiAgICAgIGZvcm1hdDIubmVnYXRpdmVMZWZ0T3V0ID0gb3B0aW9ucy5uZWdhdGl2ZUxlZnRPdXQ7XG4gICAgICBmb3JtYXQyLm5lZ2F0aXZlTGVmdFN5bWJvbCA9IG9wdGlvbnMubmVnYXRpdmVMZWZ0U3ltYm9sO1xuICAgICAgZm9ybWF0Mi5uZWdhdGl2ZVJpZ2h0T3V0ID0gb3B0aW9ucy5uZWdhdGl2ZVJpZ2h0T3V0O1xuICAgICAgZm9ybWF0Mi5uZWdhdGl2ZVJpZ2h0U3ltYm9sID0gb3B0aW9ucy5uZWdhdGl2ZVJpZ2h0U3ltYm9sO1xuICAgICAgZm9ybWF0Mi5wcmVmaXggPSBvcHRpb25zLnByZWZpeDtcbiAgICAgIGZvcm1hdDIuc3VmZml4ID0gb3B0aW9ucy5zdWZmaXg7XG4gICAgICBmb3JtYXQyLnNlcGFyYXRlID0gb3B0aW9ucy5zZXBhcmF0ZTtcbiAgICAgIGZvcm1hdDIuaW50ZWdlclNlcGFyYXRvciA9IG9wdGlvbnMuaW50ZWdlclNlcGFyYXRvcjtcbiAgICAgIGZvcm1hdDIuZGVjaW1hbHNTZXBhcmF0b3IgPSBvcHRpb25zLmRlY2ltYWxzU2VwYXJhdG9yO1xuICAgICAgZm9ybWF0Mi5kZWNpbWFsID0gb3B0aW9ucy5kZWNpbWFsO1xuICAgICAgZm9ybWF0Mi5wYWRMZWZ0ID0gb3B0aW9ucy5wYWRMZWZ0O1xuICAgICAgZm9ybWF0Mi5wYWRSaWdodCA9IG9wdGlvbnMucGFkUmlnaHQ7XG4gICAgICBmb3JtYXQyLnRydW5jYXRlID0gb3B0aW9ucy50cnVuY2F0ZTtcbiAgICAgIGZvcm1hdDIucm91bmQgPSBvcHRpb25zLnJvdW5kO1xuICAgICAgZnVuY3Rpb24gdW5mb3JtYXQobnVtYmVyLCBhbGxvd2VkU2VwYXJhdG9ycykge1xuICAgICAgICBhbGxvd2VkU2VwYXJhdG9ycyA9IGFsbG93ZWRTZXBhcmF0b3JzIHx8IFtdO1xuICAgICAgICBpZiAob3B0aW9ucy5hbGxvd2VkU2VwYXJhdG9ycykge1xuICAgICAgICAgIG9wdGlvbnMuYWxsb3dlZFNlcGFyYXRvcnMuZm9yRWFjaChmdW5jdGlvbihzKSB7XG4gICAgICAgICAgICBhbGxvd2VkU2VwYXJhdG9ycy5wdXNoKHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGFsbG93ZWRTZXBhcmF0b3JzLnB1c2gob3B0aW9ucy5pbnRlZ2VyU2VwYXJhdG9yKTtcbiAgICAgICAgYWxsb3dlZFNlcGFyYXRvcnMucHVzaChvcHRpb25zLmRlY2ltYWxzU2VwYXJhdG9yKTtcbiAgICAgICAgbnVtYmVyID0gbnVtYmVyLnJlcGxhY2Uob3B0aW9ucy5wcmVmaXgsIFwiXCIpO1xuICAgICAgICBudW1iZXIgPSBudW1iZXIucmVwbGFjZShvcHRpb25zLnN1ZmZpeCwgXCJcIik7XG4gICAgICAgIHZhciBuZXdOdW1iZXIgPSBudW1iZXI7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBudW1iZXIgPSBuZXdOdW1iZXI7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxvd2VkU2VwYXJhdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbmV3TnVtYmVyID0gbmV3TnVtYmVyLnJlcGxhY2UoYWxsb3dlZFNlcGFyYXRvcnNbaV0sIFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAobmV3TnVtYmVyICE9IG51bWJlcik7XG4gICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgICB9XG4gICAgICBmb3JtYXQyLnVuZm9ybWF0ID0gdW5mb3JtYXQ7XG4gICAgICBmdW5jdGlvbiB2YWxpZGF0ZShudW1iZXIsIGFsbG93ZWRTZXBhcmF0b3JzKSB7XG4gICAgICAgIG51bWJlciA9IHVuZm9ybWF0KG51bWJlciwgYWxsb3dlZFNlcGFyYXRvcnMpO1xuICAgICAgICBudW1iZXIgPSBudW1iZXIuc3BsaXQob3B0aW9ucy5kZWNpbWFsKTtcbiAgICAgICAgaWYgKG51bWJlci5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudHJ1bmNhdGUgIT0gbnVsbCAmJiBudW1iZXJbMV0gJiYgbnVtYmVyWzFdLmxlbmd0aCA+IG9wdGlvbnMudHJ1bmNhdGUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5yb3VuZCAhPSBudWxsICYmIG51bWJlclsxXSAmJiBudW1iZXJbMV0ubGVuZ3RoID4gb3B0aW9ucy5yb3VuZCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gL14tP1xcZCtcXC4/XFxkKiQvLnRlc3QobnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZvcm1hdDI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEludGVnZXJTZXBhcmF0b3JzKHgsIHNlcGFyYXRvcikge1xuICAgICAgeCArPSBcIlwiO1xuICAgICAgaWYgKCFzZXBhcmF0b3IpIHJldHVybiB4O1xuICAgICAgdmFyIHJneCA9IC8oXFxkKykoXFxkezN9KS87XG4gICAgICB3aGlsZSAocmd4LnRlc3QoeCkpIHtcbiAgICAgICAgeCA9IHgucmVwbGFjZShyZ3gsIFwiJDFcIiArIHNlcGFyYXRvciArIFwiJDJcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4geDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkRGVjaW1hbFNlcGFyYXRvcnMoeCwgc2VwYXJhdG9yKSB7XG4gICAgICB4ICs9IFwiXCI7XG4gICAgICBpZiAoIXNlcGFyYXRvcikgcmV0dXJuIHg7XG4gICAgICB2YXIgcmd4ID0gLyhcXGR7M30pKFxcZCspLztcbiAgICAgIHdoaWxlIChyZ3gudGVzdCh4KSkge1xuICAgICAgICB4ID0geC5yZXBsYWNlKHJneCwgXCIkMVwiICsgc2VwYXJhdG9yICsgXCIkMlwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYWRMZWZ0KHgsIHBhZGRpbmcpIHtcbiAgICAgIHggPSB4ICsgXCJcIjtcbiAgICAgIHZhciBidWYgPSBbXTtcbiAgICAgIHdoaWxlIChidWYubGVuZ3RoICsgeC5sZW5ndGggPCBwYWRkaW5nKSB7XG4gICAgICAgIGJ1Zi5wdXNoKFwiMFwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBidWYuam9pbihcIlwiKSArIHg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhZFJpZ2h0KHgsIHBhZGRpbmcpIHtcbiAgICAgIGlmICh4KSB7XG4gICAgICAgIHggKz0gXCJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHggPSBcIlwiO1xuICAgICAgfVxuICAgICAgdmFyIGJ1ZiA9IFtdO1xuICAgICAgd2hpbGUgKGJ1Zi5sZW5ndGggKyB4Lmxlbmd0aCA8IHBhZGRpbmcpIHtcbiAgICAgICAgYnVmLnB1c2goXCIwXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHggKyBidWYuam9pbihcIlwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJ1bmNhdGUoeCwgbGVuZ3RoKSB7XG4gICAgICBpZiAoeCkge1xuICAgICAgICB4ICs9IFwiXCI7XG4gICAgICB9XG4gICAgICBpZiAoeCAmJiB4Lmxlbmd0aCA+IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4geC5zdWJzdHIoMCwgbGVuZ3RoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByb3VuZChudW1iZXIsIHBsYWNlcykge1xuICAgICAgaWYgKG51bWJlclsxXSAmJiBwbGFjZXMgPj0gMCAmJiBudW1iZXJbMV0ubGVuZ3RoID4gcGxhY2VzKSB7XG4gICAgICAgIHZhciBkZWNpbSA9IG51bWJlclsxXS5zbGljZSgwLCBwbGFjZXMpO1xuICAgICAgICBpZiAoK251bWJlclsxXS5zdWJzdHIocGxhY2VzLCAxKSA+PSA1KSB7XG4gICAgICAgICAgdmFyIGxlYWRpbmd6ZXJvcyA9IFwiXCI7XG4gICAgICAgICAgd2hpbGUgKGRlY2ltLmNoYXJBdCgwKSA9PT0gXCIwXCIpIHtcbiAgICAgICAgICAgIGxlYWRpbmd6ZXJvcyA9IGxlYWRpbmd6ZXJvcyArIFwiMFwiO1xuICAgICAgICAgICAgZGVjaW0gPSBkZWNpbS5zdWJzdHIoMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlY2ltID0gK2RlY2ltICsgMSArIFwiXCI7XG4gICAgICAgICAgZGVjaW0gPSBsZWFkaW5nemVyb3MgKyBkZWNpbTtcbiAgICAgICAgICBpZiAoZGVjaW0ubGVuZ3RoID4gcGxhY2VzKSB7XG4gICAgICAgICAgICBudW1iZXJbMF0gPSArbnVtYmVyWzBdICsgK2RlY2ltLmNoYXJBdCgwKSArIFwiXCI7XG4gICAgICAgICAgICBkZWNpbSA9IGRlY2ltLnN1YnN0cmluZygxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbnVtYmVyWzFdID0gZGVjaW07XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cbiAgfVxufSk7XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLnRzeFxuaW1wb3J0IHtcbiAgZ2V0QmxvY2tDb2xsZWN0aW9uSWQsXG4gIGdldEJsb2NrUGFyZW50UGFnZSBhcyBnZXRCbG9ja1BhcmVudFBhZ2UyLFxuICBnZXRUZXh0Q29udGVudCBhcyBnZXRUZXh0Q29udGVudDRcbn0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuaW1wb3J0IFJlYWN0MjAgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhZ2UtaWNvbi50c3hcbmltcG9ydCBcIm5vdGlvbi10eXBlc1wiO1xuaW1wb3J0IHsgZ2V0QmxvY2tJY29uLCBnZXRCbG9ja1RpdGxlIGFzIGdldEJsb2NrVGl0bGUzIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuaW1wb3J0IFJlYWN0MTUgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9jb250ZXh0LnRzeFxuaW1wb3J0IFwibm90aW9uLXR5cGVzXCI7XG5pbXBvcnQgeyBkZWZhdWx0TWFwSW1hZ2VVcmwsIGRlZmF1bHRNYXBQYWdlVXJsIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuaW1wb3J0IFJlYWN0MTMgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Fzc2V0LXdyYXBwZXIudHN4XG5pbXBvcnQgXCJub3Rpb24tdHlwZXNcIjtcbmltcG9ydCB7IHBhcnNlUGFnZUlkIGFzIHBhcnNlUGFnZUlkMiB9IGZyb20gXCJub3Rpb24tdXRpbHNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvaGVhZGVyLnRzeFxuaW1wb3J0IHsgZ2V0UGFnZUJyZWFkY3J1bWJzIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuaW1wb3J0IFJlYWN0OSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUhvdGtleXMgfSBmcm9tIFwicmVhY3QtaG90a2V5cy1ob29rXCI7XG5cbi8vIHNyYy9pY29ucy9zZWFyY2gtaWNvbi50c3hcbmltcG9ydCBcInJlYWN0XCI7XG5cbi8vIHNyYy91dGlscy50c1xuaW1wb3J0IFwibm90aW9uLXR5cGVzXCI7XG5pbXBvcnQgeyBmb3JtYXREYXRlLCBmb3JtYXROb3Rpb25EYXRlVGltZSwgaXNVcmwgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG52YXIgY3MgPSAoLi4uY2xhc3NlcykgPT4gY2xhc3Nlcy5maWx0ZXIoKGEpID0+ICEhYSkuam9pbihcIiBcIik7XG52YXIgZ2V0SGFzaEZyYWdtZW50VmFsdWUgPSAodXJsKSA9PiB7XG4gIHJldHVybiB1cmwuaW5jbHVkZXMoXCIjXCIpID8gdXJsLnJlcGxhY2UoL14uKygjLispJC8sIFwiJDFcIikgOiBcIlwiO1xufTtcbnZhciBpc0Jyb3dzZXIgPSAhIWdsb2JhbFRoaXMud2luZG93O1xudmFyIHlvdXR1YmVEb21haW5zID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1xuICBcInlvdXR1LmJlXCIsXG4gIFwieW91dHViZS5jb21cIixcbiAgXCJ3d3cueW91dHViZS5jb21cIixcbiAgXCJ5b3V0dWJlLW5vY29va2llLmNvbVwiLFxuICBcInd3dy55b3V0dWJlLW5vY29va2llLmNvbVwiXG5dKTtcbnZhciBnZXRZb3V0dWJlSWQgPSAodXJsKSA9PiB7XG4gIHZhciBfYTtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lIH0gPSBuZXcgVVJMKHVybCk7XG4gICAgaWYgKCF5b3V0dWJlRG9tYWlucy5oYXMoaG9zdG5hbWUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcmVnRXhwID0gL14uKih5b3V0dVxcLmJlXFwvfHZcXC98dVxcL1xcd1xcL3xlbWJlZFxcL3x3YXRjaFxcP3Y9fCZ2PSkoW14jJj9dKikuKi9pO1xuICAgIGNvbnN0IG1hdGNoMiA9IHVybC5tYXRjaChyZWdFeHApO1xuICAgIGlmIChtYXRjaDIgJiYgKChfYSA9IG1hdGNoMlsyXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPT09IDExKSB7XG4gICAgICByZXR1cm4gbWF0Y2gyWzJdO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbnZhciBnZXRVcmxQYXJhbXMgPSAodXJsKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwodXJsKTtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBzZWFyY2hQYXJhbXMuZW50cmllcygpKSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgcmV0dXJuO1xufTtcblxuLy8gc3JjL2ljb25zL3NlYXJjaC1pY29uLnRzeFxuaW1wb3J0IHsganN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBTZWFyY2hJY29uKHByb3BzKSB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5yZXN0IH0gPSBwcm9wcztcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzdmdcIiwgeyBjbGFzc05hbWU6IGNzKFwibm90aW9uLWljb25cIiwgY2xhc3NOYW1lKSwgdmlld0JveDogXCIwIDAgMTcgMTdcIiwgLi4ucmVzdCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNNi43ODAyNyAxMy42NzI5QzguMjQ4MDUgMTMuNjcyOSA5LjYwMTU2IDEzLjE5ODIgMTAuNzA5IDEyLjQwNzJMMTQuODc1IDE2LjU3MzJDMTUuMDY4NCAxNi43NjY2IDE1LjMyMzIgMTYuODYzMyAxNS41OTU3IDE2Ljg2MzNDMTYuMTY3IDE2Ljg2MzMgMTYuNTcxMyAxNi40MjM4IDE2LjU3MTMgMTUuODYxM0MxNi41NzEzIDE1LjU5NzcgMTYuNDgzNCAxNS4zNTE2IDE2LjI5IDE1LjE1ODJMMTIuMTUwNCAxMS4wMDk4QzEzLjAyMDUgOS44NjcxOSAxMy41MzkxIDguNDUyMTUgMTMuNTM5MSA2LjkxNDA2QzEzLjUzOTEgMy4xOTYyOSAxMC40OTggMC4xNTUyNzMgNi43ODAyNyAwLjE1NTI3M0MzLjA2MjUgMC4xNTUyNzMgMC4wMjE0ODQ0IDMuMTk2MjkgMC4wMjE0ODQ0IDYuOTE0MDZDMC4wMjE0ODQ0IDEwLjYzMTggMy4wNjI1IDEzLjY3MjkgNi43ODAyNyAxMy42NzI5Wk02Ljc4MDI3IDEyLjIxMzlDMy44Nzk4OCAxMi4yMTM5IDEuNDgwNDcgOS44MTQ0NSAxLjQ4MDQ3IDYuOTE0MDZDMS40ODA0NyA0LjAxMzY3IDMuODc5ODggMS42MTQyNiA2Ljc4MDI3IDEuNjE0MjZDOS42ODA2NiAxLjYxNDI2IDEyLjA4MDEgNC4wMTM2NyAxMi4wODAxIDYuOTE0MDZDMTIuMDgwMSA5LjgxNDQ1IDkuNjgwNjYgMTIuMjEzOSA2Ljc4MDI3IDEyLjIxMzlaXCIgfSkgfSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL3NlYXJjaC1kaWFsb2cudHN4XG52YXIgaW1wb3J0X2xvZGFzaCA9IF9fdG9FU00ocmVxdWlyZV9sb2Rhc2goKSwgMSk7XG5pbXBvcnQgeyBnZXRCbG9ja1BhcmVudFBhZ2UsIGdldEJsb2NrVGl0bGUgYXMgZ2V0QmxvY2tUaXRsZTIgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5pbXBvcnQgUmVhY3Q4IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvaWNvbnMvY2xlYXItaWNvbi50c3hcbmltcG9ydCBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gQ2xlYXJJY29uKHByb3BzKSB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5yZXN0IH0gPSBwcm9wcztcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFwic3ZnXCIsIHsgY2xhc3NOYW1lOiBjcyhcIm5vdGlvbi1pY29uXCIsIGNsYXNzTmFtZSksIC4uLnJlc3QsIHZpZXdCb3g6IFwiMCAwIDMwIDMwXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MihcInBhdGhcIiwgeyBkOiBcIk0xNSwwQzYuNzE2LDAsMCw2LjcxNiwwLDE1czYuNzE2LDE1LDE1LDE1czE1LTYuNzE2LDE1LTE1UzIzLjI4NCwwLDE1LDB6IE0yMiwyMC42TDIwLjYsMjJMMTUsMTYuNEw5LjQsMjJMOCwyMC42bDUuNi01LjYgTDgsOS40TDkuNCw4bDUuNiw1LjZMMjAuNiw4TDIyLDkuNEwxNi40LDE1TDIyLDIwLjZ6XCIgfSkgfSk7XG59XG5cbi8vIHNyYy9pY29ucy9sb2FkaW5nLWljb24udHN4XG5pbXBvcnQgXCJyZWFjdFwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDMsIGpzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIExvYWRpbmdJY29uKHByb3BzKSB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5yZXN0IH0gPSBwcm9wcztcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwic3ZnXCIsIHsgY2xhc3NOYW1lOiBjcyhcIm5vdGlvbi1pY29uXCIsIGNsYXNzTmFtZSksIC4uLnJlc3QsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDMoXCJkZWZzXCIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgICAgXCJsaW5lYXJHcmFkaWVudFwiLFxuICAgICAge1xuICAgICAgICB4MTogXCIyOC4xNTQyOTY5JVwiLFxuICAgICAgICB5MTogXCI2My43NDAyMzQ0JVwiLFxuICAgICAgICB4MjogXCI3NC42Mjg5MDYyJVwiLFxuICAgICAgICB5MjogXCIxNy43ODMyMDMxJVwiLFxuICAgICAgICBpZDogXCJsaW5lYXJHcmFkaWVudC0xXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDMoXCJzdG9wXCIsIHsgc3RvcENvbG9yOiBcInJnYmEoMTY0LCAxNjQsIDE2NCwgMSlcIiwgb2Zmc2V0OiBcIjAlXCIgfSksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDMoXG4gICAgICAgICAgICBcInN0b3BcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RvcENvbG9yOiBcInJnYmEoMTY0LCAxNjQsIDE2NCwgMClcIixcbiAgICAgICAgICAgICAgc3RvcE9wYWNpdHk6IFwiMFwiLFxuICAgICAgICAgICAgICBvZmZzZXQ6IFwiMTAwJVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICBdXG4gICAgICB9XG4gICAgKSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4MyhcImdcIiwgeyBpZDogXCJQYWdlLTFcIiwgc3Ryb2tlOiBcIm5vbmVcIiwgc3Ryb2tlV2lkdGg6IFwiMVwiLCBmaWxsOiBcIm5vbmVcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gzKFwiZ1wiLCB7IHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTIzNi4wMDAwMDAsIC0yODYuMDAwMDAwKVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoXCJnXCIsIHsgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgyMzguMDAwMDAwLCAyODYuMDAwMDAwKVwiLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDMoXG4gICAgICAgIFwiY2lyY2xlXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogXCJPdmFsLTJcIixcbiAgICAgICAgICBzdHJva2U6IFwidXJsKCNsaW5lYXJHcmFkaWVudC0xKVwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiBcIjRcIixcbiAgICAgICAgICBjeDogXCIxMFwiLFxuICAgICAgICAgIGN5OiBcIjEyXCIsXG4gICAgICAgICAgcjogXCIxMFwiXG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4MyhcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMCwyIEM0LjQ3NzE1MjUsMiAwLDYuNDc3MTUyNSAwLDEyXCIsXG4gICAgICAgICAgaWQ6IFwiT3ZhbC0yXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcInJnYmEoMTY0LCAxNjQsIDE2NCwgMSlcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogXCI0XCJcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gzKFxuICAgICAgICBcInJlY3RcIixcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBcIlJlY3RhbmdsZS0xXCIsXG4gICAgICAgICAgZmlsbDogXCJyZ2JhKDE2NCwgMTY0LCAxNjQsIDEpXCIsXG4gICAgICAgICAgeDogXCI4XCIsXG4gICAgICAgICAgeTogXCIwXCIsXG4gICAgICAgICAgd2lkdGg6IFwiNFwiLFxuICAgICAgICAgIGhlaWdodDogXCI0XCIsXG4gICAgICAgICAgcng6IFwiOFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICBdIH0pIH0pIH0pXG4gIF0gfSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhZ2UtdGl0bGUudHN4XG5pbXBvcnQgXCJub3Rpb24tdHlwZXNcIjtcbmltcG9ydCB7IGdldEJsb2NrVGl0bGUgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5pbXBvcnQgUmVhY3Q3IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvY29tcG9uZW50cy90ZXh0LnRzeFxuaW1wb3J0IFwibm90aW9uLXR5cGVzXCI7XG5pbXBvcnQgeyBwYXJzZVBhZ2VJZCB9IGZyb20gXCJub3Rpb24tdXRpbHNcIjtcbmltcG9ydCBSZWFjdDYgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2VvaS50c3hcbmltcG9ydCBcIm5vdGlvbi10eXBlc1wiO1xuXG4vLyBzcmMvaWNvbnMvdHlwZS1naXRodWIudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4NCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gU3ZnVHlwZUdpdEh1Yihwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQoXCJzdmdcIiwgeyB2aWV3Qm94OiBcIjAgMCAyNjAgMjYwXCIsIC4uLnByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQoXCJnXCIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g0KFxuICAgIFwicGF0aFwiLFxuICAgIHtcbiAgICAgIGQ6IFwiTTEyOC4wMDEwNiwwIEM1Ny4zMTcyOTI2LDAgMCw1Ny4zMDY2OTQyIDAsMTI4LjAwMTA2IEMwLDE4NC41NTUyODEgMzYuNjc2MTk5NywyMzIuNTM1NTQyIDg3LjUzNDkzNywyNDkuNDYwODk5IEM5My45MzIwMjIzLDI1MC42NDU3NzkgOTYuMjgwNTg4LDI0Ni42ODQxNjUgOTYuMjgwNTg4LDI0My4zMDMzMzMgQzk2LjI4MDU4OCwyNDAuMjUxMDQ1IDk2LjE2MTg4NzgsMjMwLjE2Nzg5OSA5Ni4xMDY3NzcsMjE5LjQ3MjE3NiBDNjAuNDk2NzU4NSwyMjcuMjE1MjM1IDUyLjk4MjYyMDcsMjA0LjM2OTcxMiA1Mi45ODI2MjA3LDIwNC4zNjk3MTIgQzQ3LjE1OTk1ODQsMTg5LjU3NDU5OCAzOC43NzA0MDgsMTg1LjY0MDUzOCAzOC43NzA0MDgsMTg1LjY0MDUzOCBDMjcuMTU2ODc4NSwxNzcuNjk2MTEzIDM5LjY0NTgyMDYsMTc3Ljg1OTMyNSAzOS42NDU4MjA2LDE3Ny44NTkzMjUgQzUyLjQ5OTM0MTksMTc4Ljc2MjI5MyA1OS4yNjczNjUsMTkxLjA0OTg3IDU5LjI2NzM2NSwxOTEuMDQ5ODcgQzcwLjY4Mzc2NzUsMjEwLjYxODQyMyA4OS4yMTE1NzUzLDIwNC45NjEwOTMgOTYuNTE1ODY4NSwyMDEuNjkwNDgyIEM5Ny42NjQ3MTU1LDE5My40MTc1MTIgMTAwLjk4MTk1OSwxODcuNzcwNzggMTA0LjY0MjU4MywxODQuNTc0MzU3IEM3Ni4yMTE3OTksMTgxLjMzNzY2IDQ2LjMyNDgxOSwxNzAuMzYyMTQ0IDQ2LjMyNDgxOSwxMjEuMzE1NzAyIEM0Ni4zMjQ4MTksMTA3LjM0MDg4OSA1MS4zMjUwNTg4LDk1LjkyMjM2ODIgNTkuNTEzMjQzNyw4Ni45NTgzOTM3IEM1OC4xODQyMjY4LDgzLjczNDQxNTIgNTMuODAyOTIyOSw3MC43MTU1NjIgNjAuNzUzMjM1NCw1My4wODQzNjM2IEM2MC43NTMyMzU0LDUzLjA4NDM2MzYgNzEuNTAxOTUwMSw0OS42NDQxODEzIDk1Ljk2MjY0MTIsNjYuMjA0OTU5NSBDMTA2LjE3Mjk2Nyw2My4zNjg4NzYgMTE3LjEyMzA0Nyw2MS45NDY1OTQ5IDEyOC4wMDEwNiw2MS44OTc4NDMyIEMxMzguODc5MDczLDYxLjk0NjU5NDkgMTQ5LjgzNzYzMiw2My4zNjg4NzYgMTYwLjA2NzAzMyw2Ni4yMDQ5NTk1IEMxODQuNDk4MDUsNDkuNjQ0MTgxMyAxOTUuMjMxOTI2LDUzLjA4NDM2MzYgMTk1LjIzMTkyNiw1My4wODQzNjM2IEMyMDIuMTk5MTk3LDcwLjcxNTU2MiAxOTcuODE1NzczLDgzLjczNDQxNTIgMTk2LjQ4Njc1Niw4Ni45NTgzOTM3IEMyMDQuNjk0MDE4LDk1LjkyMjM2ODIgMjA5LjY2MDM0MywxMDcuMzQwODg5IDIwOS42NjAzNDMsMTIxLjMxNTcwMiBDMjA5LjY2MDM0MywxNzAuNDc4NzI1IDE3OS43MTYxMzMsMTgxLjMwMzc0NyAxNTEuMjEzMjgxLDE4NC40NzI2MTQgQzE1NS44MDQ0MywxODguNDQ0ODI4IDE1OS44OTUzNDIsMTk2LjIzNDUxOCAxNTkuODk1MzQyLDIwOC4xNzY1OTMgQzE1OS44OTUzNDIsMjI1LjMwMzMxNyAxNTkuNzQ2OTY4LDIzOS4wODczNjEgMTU5Ljc0Njk2OCwyNDMuMzAzMzMzIEMxNTkuNzQ2OTY4LDI0Ni43MDk2MDEgMTYyLjA1MTAyLDI1MC43MDA4OSAxNjguNTM5MjUsMjQ5LjQ0Mzk0MSBDMjE5LjM3MDQzMiwyMzIuNDk5NTA3IDI1NiwxODQuNTM2MjA0IDI1NiwxMjguMDAxMDYgQzI1Niw1Ny4zMDY2OTQyIDE5OC42OTExODcsMCAxMjguMDAxMDYsMCBaIE00Ny45NDA1NTkzLDE4Mi4zNDAyMTIgQzQ3LjY1ODY0NjUsMTgyLjk3NjEwNSA0Ni42NTgxNzQ1LDE4My4xNjY4NzMgNDUuNzQ2NzI3NywxODIuNzMwMjI3IEM0NC44MTgzMjM1LDE4Mi4zMTI2NTYgNDQuMjk2ODkxNCwxODEuNDQ1NzIyIDQ0LjU5Nzg4MDgsMTgwLjgwNzcxIEM0NC44NzM0MzQ0LDE4MC4xNTI3MzkgNDUuODc2MDI2LDE3OS45NzA0NSA0Ni44MDIzMTAzLDE4MC40MDkyMTYgQzQ3LjczMjgzNDIsMTgwLjgyNjc4NiA0OC4yNjI3NDUxLDE4MS43MDIxOTkgNDcuOTQwNTU5MywxODIuMzQwMjEyIFogTTU0LjIzNjc4OTIsMTg3Ljk1ODI1NCBDNTMuNjI2MzMxOCwxODguNTI0MTk5IDUyLjQzMjk3MjMsMTg4LjI2MTM2MyA1MS42MjMyNjgyLDE4Ny4zNjY4NzQgQzUwLjc4NjAwODgsMTg2LjQ3NDUwNCA1MC42MjkxNTUzLDE4NS4yODExNDQgNTEuMjQ4MDkxMiwxODQuNzA2NzIgQzUxLjg3NzYyNTQsMTg0LjE0MDc3NSA1My4wMzQ5NTEyLDE4NC40MDU3MzEgNTMuODc0MzMwMiwxODUuMjk4MTAxIEM1NC43MTE1ODkyLDE4Ni4yMDEwNjkgNTQuODc0ODAxOSwxODcuMzg1OTUgNTQuMjM2Nzg5MiwxODcuOTU4MjU0IFogTTU4LjU1NjI0MTMsMTk1LjE0NjM0NyBDNTcuNzcxOTczMiwxOTUuNjkxMDk2IDU2LjQ4OTU4ODYsMTk1LjE4MDI2MSA1NS42OTY4NDE3LDE5NC4wNDIwMTMgQzU0LjkxMjU3MzMsMTkyLjkwMzc2NCA1NC45MTI1NzMzLDE5MS41Mzg3MTMgNTUuNzEzNzk5LDE5MC45OTE4NDUgQzU2LjUwODY2NTEsMTkwLjQ0NDk3NyA1Ny43NzE5NzMyLDE5MC45MzY3MzUgNTguNTc1MzE4MSwxOTIuMDY2NTA1IEM1OS4zNTc0NjY5LDE5My4yMjM4MyA1OS4zNTc0NjY5LDE5NC41ODg4OCA1OC41NTYyNDEzLDE5NS4xNDYzNDcgWiBNNjUuODYxMzU5MiwyMDMuNDcxMTc0IEM2NS4xNTk3NTcxLDIwNC4yNDQ4NDYgNjMuNjY1NDA4MywyMDQuMDM3MTIgNjIuNTcxNjcxNywyMDIuOTgxNTM4IEM2MS40NTI0OTk5LDIwMS45NDkyNyA2MS4xNDA5MTIyLDIwMC40ODQ1OTYgNjEuODQ0NjM0MSwxOTkuNzEwOTI2IEM2Mi41NTQ3MTQ2LDE5OC45MzUxMzcgNjQuMDU3NTQyMiwxOTkuMTUzNDYgNjUuMTU5NzU3MSwyMDAuMjAwNTY0IEM2Ni4yNzA0NTA2LDIwMS4yMzA3MTIgNjYuNjA5NTkzNiwyMDIuNzA1OTg0IDY1Ljg2MTM1OTIsMjAzLjQ3MTE3NCBaIE03NS4zMDI1MTUxLDIwNi4yODE1NDIgQzc0Ljk5MzA0NzQsMjA3LjI4NDEzNCA3My41NTM4MDksMjA3LjczOTg1NyA3Mi4xMDM5NzI0LDIwNy4zMTM4MDkgQzcwLjY1NjI1NTYsMjA2Ljg3NTA0MyA2OS43MDg3NzQ4LDIwNS43MDA3NjEgNzAuMDAxMjg1NywyMDQuNjg3NTcxIEM3MC4zMDIyNzUsMjAzLjY3ODYyMSA3MS43NDc4NzIxLDIwMy4yMDM4MiA3My4yMDgzMDY5LDIwMy42NTk1NDMgQzc0LjY1MzkwNDEsMjA0LjA5NjE5IDc1LjYwMzUwNDgsMjA1LjI2MTk5NCA3NS4zMDI1MTUxLDIwNi4yODE1NDIgWiBNODYuMDQ2OTQ3LDIwNy40NzM2MjcgQzg2LjA4Mjk4MDYsMjA4LjUyOTIwOSA4NC44NTM1ODcxLDIwOS40MDQ2MjIgODMuMzMxNjgyOSwyMDkuNDIzNyBDODEuODAxMywyMDkuNDU3NjE0IDgwLjU2MzQyOCwyMDguNjAzMzk4IDgwLjU0NjQ3MDgsMjA3LjU2NDc3MiBDODAuNTQ2NDcwOCwyMDYuNDk4NTkxIDgxLjc0ODMwODgsMjA1LjYzMTY1NyA4My4yNzg2OTE3LDIwNS42MDYyMjEgQzg0LjgwMDU5NjIsMjA1LjU3NjU0NiA4Ni4wNDY5NDcsMjA2LjQyNDQwMyA4Ni4wNDY5NDcsMjA3LjQ3MzYyNyBaIE05Ni42MDIxNDcxLDIwNy4wNjkwMjMgQzk2Ljc4NDQzNjYsMjA4LjA5OTE3MSA5NS43MjY3MzQxLDIwOS4xNTY4NzIgOTQuMjE1NDI4LDIwOS40Mzg3ODUgQzkyLjcyOTU1NzcsMjA5LjcxMDA5OSA5MS4zNTM5MDg2LDIwOS4wNzQyMDYgOTEuMTY1MjYwMywyMDguMDUyNTM4IEM5MC45ODA4NTE1LDIwNi45OTY5NTUgOTIuMDU3NjMwNiwyMDUuOTM5MjUzIDkzLjU0MTM4MTMsMjA1LjY2NTgyIEM5NS4wNTQ4MDcsMjA1LjQwMjk4NCA5Ni40MDkyNTk2LDIwNi4wMjE5MTkgOTYuNjAyMTQ3MSwyMDcuMDY5MDIzIFpcIixcbiAgICAgIGZpbGw6IFwiIzE2MTYxNFwiXG4gICAgfVxuICApIH0pIH0pO1xufVxudmFyIHR5cGVfZ2l0aHViX2RlZmF1bHQgPSBTdmdUeXBlR2l0SHViO1xuXG4vLyBzcmMvY29tcG9uZW50cy9tZW50aW9uLXByZXZpZXctY2FyZC50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3g1LCBqc3hzIGFzIGpzeHMyIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBjYXBpdGFsaXplRmlyc3RMZXR0ZXIoc3RyKSB7XG4gIGlmICghc3RyKSByZXR1cm4gXCJcIjtcbiAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKTtcbn1cbmZ1bmN0aW9uIE1lbnRpb25QcmV2aWV3Q2FyZCh7XG4gIG93bmVyLFxuICBsYXN0VXBkYXRlZCxcbiAgZXh0ZXJuYWxJbWFnZSxcbiAgdGl0bGUsXG4gIGRvbWFpblxufSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMyKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1leHRlcm5hbC1zdWJ0aXRsZVwiLCBjaGlsZHJlbjogW1xuICAgIGV4dGVybmFsSW1hZ2UgJiYgLyogQF9fUFVSRV9fICovIGpzeHMyKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1wcmV2aWV3LWNhcmQtZG9tYWluLXdhcnBcIiwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1wcmV2aWV3LWNhcmQtbG9nb1wiLCBjaGlsZHJlbjogZXh0ZXJuYWxJbWFnZSB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1wcmV2aWV3LWNhcmQtZG9tYWluXCIsIGNoaWxkcmVuOiBjYXBpdGFsaXplRmlyc3RMZXR0ZXIoZG9tYWluLnNwbGl0KFwiLlwiKVswXSkgfSlcbiAgICBdIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1wcmV2aWV3LWNhcmQtdGl0bGVcIiwgY2hpbGRyZW46IHRpdGxlIH0pLFxuICAgIG93bmVyICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzMihcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tZXh0ZXJuYWwtc3VidGl0bGUtaXRlbVwiLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDUoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWV4dGVybmFsLXN1YnRpdGxlLWl0ZW0tbmFtZVwiLCBjaGlsZHJlbjogXCJPd25lclwiIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDUoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1leHRlcm5hbC1zdWJ0aXRsZS1pdGVtLWRlc2NcIiwgY2hpbGRyZW46IG93bmVyIH0pXG4gICAgXSB9KSxcbiAgICBsYXN0VXBkYXRlZCAmJiAvKiBAX19QVVJFX18gKi8ganN4czIoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWV4dGVybmFsLXN1YnRpdGxlLWl0ZW1cIiwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1leHRlcm5hbC1zdWJ0aXRsZS1pdGVtLW5hbWVcIiwgY2hpbGRyZW46IFwiVXBkYXRlZFwiIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDUoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1leHRlcm5hbC1zdWJ0aXRsZS1pdGVtLWRlc2NcIiwgY2hpbGRyZW46IGxhc3RVcGRhdGVkIH0pXG4gICAgXSB9KSxcbiAgICBkb21haW4gPT09IFwiZ2l0aHViLmNvbVwiICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzMihcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tcHJldmlldy1jYXJkLWdpdGh1Yi1zaGllbGRzXCIsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4NShcbiAgICAgICAgXCJpbWdcIixcbiAgICAgICAge1xuICAgICAgICAgIHNyYzogYGh0dHBzOi8vaW1nLnNoaWVsZHMuaW8vZ2l0aHViL3N0YXJzLyR7b3duZXJ9LyR7dGl0bGV9P2xvZ289Z2l0aHViYCxcbiAgICAgICAgICBhbHQ6IFwiXCJcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g1KFxuICAgICAgICBcImltZ1wiLFxuICAgICAgICB7XG4gICAgICAgICAgc3JjOiBgaHR0cHM6Ly9pbWcuc2hpZWxkcy5pby9naXRodWIvbGFzdC1jb21taXQvJHtvd25lcn0vJHt0aXRsZX1gLFxuICAgICAgICAgIGFsdDogXCJcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgXSB9KVxuICBdIH0pO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9lb2kudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4NiwganN4cyBhcyBqc3hzMyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gRU9JKHtcbiAgYmxvY2ssXG4gIGlubGluZSxcbiAgY2xhc3NOYW1lXG59KSB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCB7IGNvbXBvbmVudHMgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3QgeyBvcmlnaW5hbF91cmwsIGF0dHJpYnV0ZXMsIGRvbWFpbiB9ID0gKGJsb2NrID09IG51bGwgPyB2b2lkIDAgOiBibG9jay5mb3JtYXQpIHx8IHt9O1xuICBpZiAoIW9yaWdpbmFsX3VybCB8fCAhYXR0cmlidXRlcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHRpdGxlID0gKF9hID0gYXR0cmlidXRlcy5maW5kKChhdHRyKSA9PiBhdHRyLmlkID09PSBcInRpdGxlXCIpKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWVzWzBdO1xuICBsZXQgb3duZXIgPSAoX2IgPSBhdHRyaWJ1dGVzLmZpbmQoKGF0dHIpID0+IGF0dHIuaWQgPT09IFwib3duZXJcIikpID09IG51bGwgPyB2b2lkIDAgOiBfYi52YWx1ZXNbMF07XG4gIGNvbnN0IGxhc3RVcGRhdGVkQXQgPSAoX2MgPSBhdHRyaWJ1dGVzLmZpbmQoKGF0dHIpID0+IGF0dHIuaWQgPT09IFwidXBkYXRlZF9hdFwiKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnZhbHVlc1swXTtcbiAgY29uc3QgbGFzdFVwZGF0ZWQgPSBsYXN0VXBkYXRlZEF0ID8gZm9ybWF0Tm90aW9uRGF0ZVRpbWUobGFzdFVwZGF0ZWRBdCkgOiBudWxsO1xuICBsZXQgZXh0ZXJuYWxJbWFnZTtcbiAgc3dpdGNoIChkb21haW4pIHtcbiAgICBjYXNlIFwiZ2l0aHViLmNvbVwiOlxuICAgICAgZXh0ZXJuYWxJbWFnZSA9IC8qIEBfX1BVUkVfXyAqLyBqc3g2KHR5cGVfZ2l0aHViX2RlZmF1bHQsIHt9KTtcbiAgICAgIGlmIChvd25lcikge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IG93bmVyLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgb3duZXIgPSBwYXJ0cy5hdCgtMSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKHRydWUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgYFVuc3VwcG9ydGVkIGV4dGVybmFsX29iamVjdF9pbnN0YW5jZSBkb21haW4gXCIke2RvbWFpbn1cImAsXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoYmxvY2ssIG51bGwsIDIpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMzKFxuICAgIGNvbXBvbmVudHMuTGluayxcbiAgICB7XG4gICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiLFxuICAgICAgaHJlZjogb3JpZ2luYWxfdXJsLFxuICAgICAgY2xhc3NOYW1lOiBjcyhcbiAgICAgICAgXCJub3Rpb24tZXh0ZXJuYWxcIixcbiAgICAgICAgaW5saW5lID8gXCJub3Rpb24tZXh0ZXJuYWwtbWVudGlvblwiIDogXCJub3Rpb24tZXh0ZXJuYWwtYmxvY2sgbm90aW9uLXJvd1wiLFxuICAgICAgICBjbGFzc05hbWVcbiAgICAgICksXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICBleHRlcm5hbEltYWdlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3g2KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1leHRlcm5hbC1pbWFnZVwiLCBjaGlsZHJlbjogZXh0ZXJuYWxJbWFnZSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1leHRlcm5hbC1kZXNjcmlwdGlvblwiLCBjaGlsZHJlbjogW1xuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g2KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1leHRlcm5hbC10aXRsZVwiLCBjaGlsZHJlbjogdGl0bGUgfSksXG4gICAgICAgICAgIWlubGluZSAmJiBvd25lciA/IC8qIEBfX1BVUkVfXyAqLyBqc3hzMyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tZXh0ZXJuYWwtYmxvY2stZGVzY1wiLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgb3duZXIsXG4gICAgICAgICAgICBsYXN0VXBkYXRlZCAmJiAvKiBAX19QVVJFX18gKi8ganN4NihcInNwYW5cIiwgeyBjaGlsZHJlbjogXCIgXFx1MjAyMiBcIiB9KSxcbiAgICAgICAgICAgIGxhc3RVcGRhdGVkICYmIGBVcGRhdGVkICR7bGFzdFVwZGF0ZWR9YFxuICAgICAgICAgIF0gfSkgOiBudWxsLFxuICAgICAgICAgIGlubGluZSAmJiAob3duZXIgfHwgbGFzdFVwZGF0ZWQpICYmIC8qIEBfX1BVUkVfXyAqLyBqc3g2KFxuICAgICAgICAgICAgTWVudGlvblByZXZpZXdDYXJkLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgICAgb3duZXIsXG4gICAgICAgICAgICAgIGxhc3RVcGRhdGVkLFxuICAgICAgICAgICAgICBkb21haW4sXG4gICAgICAgICAgICAgIGV4dGVybmFsSW1hZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIF0gfSlcbiAgICAgIF1cbiAgICB9XG4gICk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL2dyYWNlZnVsLWltYWdlLnRzeFxuaW1wb3J0IFwicmVhY3RcIjtcbmltcG9ydCB7IEltZyB9IGZyb20gXCJyZWFjdC1pbWFnZVwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDcgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIEdyYWNlZnVsSW1hZ2UocHJvcHMpIHtcbiAgaWYgKGlzQnJvd3Nlcikge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NyhJbWcsIHsgLi4ucHJvcHMgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g3KFwiaW1nXCIsIHsgLi4ucHJvcHMgfSk7XG4gIH1cbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvbGluay1tZW50aW9uLnRzeFxuaW1wb3J0IFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3g4LCBqc3hzIGFzIGpzeHM0IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBMaW5rTWVudGlvbih7IG1ldGFkYXRhIH0pIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzNChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWxpbmstbWVudGlvblwiLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g4KExpbmtNZW50aW9uSW5saW5lLCB7IG1ldGFkYXRhIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g4KExpbmtNZW50aW9uUHJldmlldywgeyBtZXRhZGF0YSB9KVxuICBdIH0pO1xufVxuZnVuY3Rpb24gTGlua01lbnRpb25JbmxpbmUoeyBtZXRhZGF0YSB9KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czQoXG4gICAgXCJhXCIsXG4gICAge1xuICAgICAgaHJlZjogbWV0YWRhdGEuaHJlZixcbiAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsXG4gICAgICBjbGFzc05hbWU6IFwibm90aW9uLWxpbmstbWVudGlvbi1saW5rXCIsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4OChcbiAgICAgICAgICBcImltZ1wiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGluay1tZW50aW9uLWljb25cIixcbiAgICAgICAgICAgIHNyYzogbWV0YWRhdGEuaWNvbl91cmwsXG4gICAgICAgICAgICBhbHQ6IG1ldGFkYXRhLmxpbmtfcHJvdmlkZXJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIG1ldGFkYXRhLmxpbmtfcHJvdmlkZXIgJiYgLyogQF9fUFVSRV9fICovIGpzeDgoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1saW5rLW1lbnRpb24tcHJvdmlkZXJcIiwgY2hpbGRyZW46IG1ldGFkYXRhLmxpbmtfcHJvdmlkZXIgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tbGluay1tZW50aW9uLXRpdGxlXCIsIGNoaWxkcmVuOiBtZXRhZGF0YS50aXRsZSB9KVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIExpbmtNZW50aW9uUHJldmlldyh7IG1ldGFkYXRhIH0pIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1saW5rLW1lbnRpb24tcHJldmlld1wiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHM0KFwiYXJ0aWNsZVwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tbGluay1tZW50aW9uLWNhcmRcIiwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4OChcbiAgICAgIFwiaW1nXCIsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGluay1tZW50aW9uLXByZXZpZXctdGh1bWJuYWlsXCIsXG4gICAgICAgIHNyYzogbWV0YWRhdGEudGh1bWJuYWlsX3VybCxcbiAgICAgICAgYWx0OiBtZXRhZGF0YS50aXRsZSxcbiAgICAgICAgcmVmZXJyZXJQb2xpY3k6IFwic2FtZS1vcmlnaW5cIlxuICAgICAgfVxuICAgICksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHM0KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1saW5rLW1lbnRpb24tcHJldmlldy1jb250ZW50XCIsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4OChcInBcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWxpbmstbWVudGlvbi1wcmV2aWV3LXRpdGxlXCIsIGNoaWxkcmVuOiBtZXRhZGF0YS50aXRsZSB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tbGluay1tZW50aW9uLXByZXZpZXctZGVzY3JpcHRpb25cIiwgY2hpbGRyZW46IG1ldGFkYXRhLmRlc2NyaXB0aW9uIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeHM0KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1saW5rLW1lbnRpb24tcHJldmlldy1mb290ZXJcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDgoXG4gICAgICAgICAgXCJpbWdcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLWxpbmstbWVudGlvbi1wcmV2aWV3LWljb25cIixcbiAgICAgICAgICAgIHNyYzogbWV0YWRhdGEuaWNvbl91cmwsXG4gICAgICAgICAgICBhbHQ6IG1ldGFkYXRhLmxpbmtfcHJvdmlkZXIsXG4gICAgICAgICAgICByZWZlcnJlclBvbGljeTogXCJzYW1lLW9yaWdpblwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4OChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWxpbmstbWVudGlvbi1wcmV2aWV3LXByb3ZpZGVyXCIsIGNoaWxkcmVuOiBtZXRhZGF0YS5saW5rX3Byb3ZpZGVyIH0pXG4gICAgICBdIH0pXG4gICAgXSB9KVxuICBdIH0pIH0pO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy90ZXh0LnRzeFxuaW1wb3J0IHsgRnJhZ21lbnQsIGpzeCBhcyBqc3g5IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBUZXh0KHtcbiAgdmFsdWUsXG4gIGJsb2NrLFxuICBsaW5rUHJvcHMsXG4gIGxpbmtQcm90b2NvbFxufSkge1xuICBjb25zdCB7IGNvbXBvbmVudHMsIHJlY29yZE1hcCwgbWFwUGFnZVVybCwgbWFwSW1hZ2VVcmwsIHJvb3REb21haW4gfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g5KFJlYWN0Ni5GcmFnbWVudCwgeyBjaGlsZHJlbjogdmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLm1hcCgoW3RleHQsIGRlY29yYXRpb25zXSwgaW5kZXgpID0+IHtcbiAgICBpZiAoIWRlY29yYXRpb25zKSB7XG4gICAgICBpZiAodGV4dCA9PT0gXCIsXCIpIHtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g5KFwic3BhblwiLCB7IHN0eWxlOiB7IHBhZGRpbmc6IFwiMC41ZW1cIiB9IH0sIGluZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4OShSZWFjdDYuRnJhZ21lbnQsIHsgY2hpbGRyZW46IHRleHQgfSwgaW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBmb3JtYXR0ZWQgPSBkZWNvcmF0aW9ucy5yZWR1Y2UoXG4gICAgICAoZWxlbWVudCwgZGVjb3JhdG9yKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgIHN3aXRjaCAoZGVjb3JhdG9yWzBdKSB7XG4gICAgICAgICAgY2FzZSBcInBcIjoge1xuICAgICAgICAgICAgY29uc3QgYmxvY2tJZCA9IGRlY29yYXRvclsxXTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtlZEJsb2NrID0gKF9hID0gcmVjb3JkTWFwLmJsb2NrW2Jsb2NrSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWU7XG4gICAgICAgICAgICBpZiAoIWxpbmtlZEJsb2NrKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdcInBcIiBtaXNzaW5nIGJsb2NrJywgYmxvY2tJZCk7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g5KFxuICAgICAgICAgICAgICBjb21wb25lbnRzLlBhZ2VMaW5rLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1saW5rXCIsXG4gICAgICAgICAgICAgICAgaHJlZjogbWFwUGFnZVVybChibG9ja0lkKSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDkoUGFnZVRpdGxlLCB7IGJsb2NrOiBsaW5rZWRCbG9jayB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiXFx1MjAyM1wiOiB7XG4gICAgICAgICAgICBjb25zdCBsaW5rVHlwZSA9IGRlY29yYXRvclsxXVswXTtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZGVjb3JhdG9yWzFdWzFdO1xuICAgICAgICAgICAgc3dpdGNoIChsaW5rVHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwidVwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IChfYiA9IHJlY29yZE1hcC5ub3Rpb25fdXNlcltpZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYi52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdcIlxcdTIwMjNcIiBtaXNzaW5nIHVzZXInLCBpZCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc3JjID0gbWFwSW1hZ2VVcmwodXNlci5wcm9maWxlX3Bob3RvLCBibG9jayk7XG4gICAgICAgICAgICAgICAgaWYgKCFzcmMpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBbdXNlci5naXZlbl9uYW1lLCB1c2VyLmZhbWlseV9uYW1lXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g5KFxuICAgICAgICAgICAgICAgICAgR3JhY2VmdWxJbWFnZSxcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi11c2VyXCIsXG4gICAgICAgICAgICAgICAgICAgIHNyYyxcbiAgICAgICAgICAgICAgICAgICAgYWx0OiBuYW1lXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGlua2VkQmxvY2sgPSAoX2MgPSByZWNvcmRNYXAuYmxvY2tbaWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCFsaW5rZWRCbG9jaykge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1wiXFx1MjAyM1wiIG1pc3NpbmcgYmxvY2snLCBsaW5rVHlwZSwgaWQpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4OShcbiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHMuUGFnZUxpbmssXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGlua1wiLFxuICAgICAgICAgICAgICAgICAgICBocmVmOiBtYXBQYWdlVXJsKGlkKSxcbiAgICAgICAgICAgICAgICAgICAgLi4ubGlua1Byb3BzLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4OShQYWdlVGl0bGUsIHsgYmxvY2s6IGxpbmtlZEJsb2NrIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiaFwiOlxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g5KFwic3BhblwiLCB7IGNsYXNzTmFtZTogYG5vdGlvbi0ke2RlY29yYXRvclsxXX1gLCBjaGlsZHJlbjogZWxlbWVudCB9KTtcbiAgICAgICAgICBjYXNlIFwiY1wiOlxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g5KFwiY29kZVwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24taW5saW5lLWNvZGVcIiwgY2hpbGRyZW46IGVsZW1lbnQgfSk7XG4gICAgICAgICAgY2FzZSBcImJcIjpcbiAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4OShcImJcIiwgeyBjaGlsZHJlbjogZWxlbWVudCB9KTtcbiAgICAgICAgICBjYXNlIFwiaVwiOlxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g5KFwiZW1cIiwgeyBjaGlsZHJlbjogZWxlbWVudCB9KTtcbiAgICAgICAgICBjYXNlIFwic1wiOlxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g5KFwic1wiLCB7IGNoaWxkcmVuOiBlbGVtZW50IH0pO1xuICAgICAgICAgIGNhc2UgXCJfXCI6XG4gICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDkoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1pbmxpbmUtdW5kZXJzY29yZVwiLCBjaGlsZHJlbjogZWxlbWVudCB9KTtcbiAgICAgICAgICBjYXNlIFwiZVwiOlxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g5KGNvbXBvbmVudHMuRXF1YXRpb24sIHsgbWF0aDogZGVjb3JhdG9yWzFdLCBpbmxpbmU6IHRydWUgfSk7XG4gICAgICAgICAgY2FzZSBcIm1cIjpcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgIC8vc3RpbGwgbmVlZCB0byByZXR1cm4gdGhlIGJhc2UgZWxlbWVudFxuICAgICAgICAgIGNhc2UgXCJhXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBkZWNvcmF0b3JbMV07XG4gICAgICAgICAgICBjb25zdCBwYXRobmFtZSA9IHYuc2xpY2UoMSk7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHBhcnNlUGFnZUlkKHBhdGhuYW1lLCB7IHV1aWQ6IHRydWUgfSk7XG4gICAgICAgICAgICBpZiAocm9vdERvbWFpbiAmJiB2LmluY2x1ZGVzKHJvb3REb21haW4pIHx8IGlkICYmIHZbMF0gPT09IFwiL1wiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGhyZWYgPSByb290RG9tYWluICYmIHYuaW5jbHVkZXMocm9vdERvbWFpbikgPyB2IDogYCR7bWFwUGFnZVVybChpZCl9JHtnZXRIYXNoRnJhZ21lbnRWYWx1ZSh2KX1gO1xuICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDkoXG4gICAgICAgICAgICAgICAgY29tcG9uZW50cy5QYWdlTGluayxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLWxpbmtcIixcbiAgICAgICAgICAgICAgICAgIGhyZWYsXG4gICAgICAgICAgICAgICAgICAuLi5saW5rUHJvcHMsXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogZWxlbWVudFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4OShcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzLkxpbmssXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1saW5rXCIsXG4gICAgICAgICAgICAgICAgICBocmVmOiBsaW5rUHJvdG9jb2wgPyBgJHtsaW5rUHJvdG9jb2x9OiR7ZGVjb3JhdG9yWzFdfWAgOiBkZWNvcmF0b3JbMV0sXG4gICAgICAgICAgICAgICAgICAuLi5saW5rUHJvcHMsXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogZWxlbWVudFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcImRcIjoge1xuICAgICAgICAgICAgY29uc3QgdiA9IGRlY29yYXRvclsxXTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB2ID09IG51bGwgPyB2b2lkIDAgOiB2LnR5cGU7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJkYXRlXCIpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gdi5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0RGF0ZShzdGFydERhdGUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcImRhdGV0aW1lXCIpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gdi5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICBjb25zdCBzdGFydFRpbWUgPSB2LnN0YXJ0X3RpbWU7XG4gICAgICAgICAgICAgIHJldHVybiBgJHtmb3JtYXREYXRlKHN0YXJ0RGF0ZSl9ICR7c3RhcnRUaW1lfWA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiZGF0ZXJhbmdlXCIpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gdi5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICBjb25zdCBlbmREYXRlID0gdi5lbmRfZGF0ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIGAke2Zvcm1hdERhdGUoc3RhcnREYXRlKX0gXFx1MjE5MiAke2Zvcm1hdERhdGUoZW5kRGF0ZSl9YDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwidVwiOiB7XG4gICAgICAgICAgICBjb25zdCB1c2VySWQgPSBkZWNvcmF0b3JbMV07XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gKF9kID0gcmVjb3JkTWFwLm5vdGlvbl91c2VyW3VzZXJJZF0pID09IG51bGwgPyB2b2lkIDAgOiBfZC52YWx1ZTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm1pc3NpbmcgdXNlclwiLCB1c2VySWQpO1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNyYyA9IG1hcEltYWdlVXJsKHVzZXIucHJvZmlsZV9waG90bywgYmxvY2spO1xuICAgICAgICAgICAgaWYgKCFzcmMpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IFt1c2VyLmdpdmVuX25hbWUsIHVzZXIuZmFtaWx5X25hbWVdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKTtcbiAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4OShHcmFjZWZ1bEltYWdlLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tdXNlclwiLCBzcmMsIGFsdDogbmFtZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcImxtXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gZGVjb3JhdG9yWzFdO1xuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g5KExpbmtNZW50aW9uLCB7IG1ldGFkYXRhIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiZW9pXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IGJsb2NrSWQgPSBkZWNvcmF0b3JbMV07XG4gICAgICAgICAgICBjb25zdCBleHRlcm5hbE9iamVjdEluc3RhbmNlID0gKF9lID0gcmVjb3JkTWFwLmJsb2NrW2Jsb2NrSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2UudmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDkoRU9JLCB7IGJsb2NrOiBleHRlcm5hbE9iamVjdEluc3RhbmNlLCBpbmxpbmU6IHRydWUgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJzaVwiOlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICh0cnVlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidW5zdXBwb3J0ZWQgdGV4dCBmb3JtYXRcIiwgZGVjb3JhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDkoRnJhZ21lbnQsIHsgY2hpbGRyZW46IHRleHQgfSlcbiAgICApO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4OShSZWFjdDYuRnJhZ21lbnQsIHsgY2hpbGRyZW46IGZvcm1hdHRlZCB9LCBpbmRleCk7XG4gIH0pIH0pO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9wYWdlLXRpdGxlLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDEwLCBqc3hzIGFzIGpzeHM1IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBQYWdlVGl0bGVJbXBsKHtcbiAgYmxvY2ssXG4gIGNsYXNzTmFtZSxcbiAgZGVmYXVsdEljb24sXG4gIC4uLnJlc3Rcbn0pIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgeyByZWNvcmRNYXAgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgaWYgKCFibG9jaykgcmV0dXJuIG51bGw7XG4gIGlmIChibG9jay50eXBlID09PSBcImNvbGxlY3Rpb25fdmlld19wYWdlXCIgfHwgYmxvY2sudHlwZSA9PT0gXCJjb2xsZWN0aW9uX3ZpZXdcIikge1xuICAgIGNvbnN0IHRpdGxlID0gZ2V0QmxvY2tUaXRsZShibG9jaywgcmVjb3JkTWFwKTtcbiAgICBpZiAoIXRpdGxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgdGl0bGVEZWNvcmF0aW9uID0gW1t0aXRsZV1dO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czUoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBjcyhcIm5vdGlvbi1wYWdlLXRpdGxlXCIsIGNsYXNzTmFtZSksIC4uLnJlc3QsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4MTAoXG4gICAgICAgIFBhZ2VJY29uLFxuICAgICAgICB7XG4gICAgICAgICAgYmxvY2ssXG4gICAgICAgICAgZGVmYXVsdEljb24sXG4gICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wYWdlLXRpdGxlLWljb25cIlxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDEwKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tcGFnZS10aXRsZS10ZXh0XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTAoVGV4dCwgeyB2YWx1ZTogdGl0bGVEZWNvcmF0aW9uLCBibG9jayB9KSB9KVxuICAgIF0gfSk7XG4gIH1cbiAgaWYgKCEoKF9hID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnRpdGxlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czUoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBjcyhcIm5vdGlvbi1wYWdlLXRpdGxlXCIsIGNsYXNzTmFtZSksIC4uLnJlc3QsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDEwKFxuICAgICAgUGFnZUljb24sXG4gICAgICB7XG4gICAgICAgIGJsb2NrLFxuICAgICAgICBkZWZhdWx0SWNvbixcbiAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wYWdlLXRpdGxlLWljb25cIlxuICAgICAgfVxuICAgICksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDEwKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tcGFnZS10aXRsZS10ZXh0XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTAoVGV4dCwgeyB2YWx1ZTogKF9iID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnRpdGxlLCBibG9jayB9KSB9KVxuICBdIH0pO1xufVxudmFyIFBhZ2VUaXRsZSA9IFJlYWN0Ny5tZW1vKFBhZ2VUaXRsZUltcGwpO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zZWFyY2gtZGlhbG9nLnRzeFxuaW1wb3J0IHsgRnJhZ21lbnQgYXMgRnJhZ21lbnQyLCBqc3ggYXMganN4MTEsIGpzeHMgYXMganN4czYgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBTZWFyY2hEaWFsb2cgPSBjbGFzcyBleHRlbmRzIFJlYWN0OC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RhdGVcIiwge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIHF1ZXJ5OiBcIlwiLFxuICAgICAgc2VhcmNoUmVzdWx0OiBudWxsLFxuICAgICAgc2VhcmNoRXJyb3I6IG51bGxcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX2lucHV0UmVmXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfc2VhcmNoXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfb25BZnRlck9wZW5cIiwgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2lucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdGhpcy5faW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfb25DaGFuZ2VRdWVyeVwiLCAoZSkgPT4ge1xuICAgICAgY29uc3QgcXVlcnkgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBxdWVyeSB9KTtcbiAgICAgIGlmICghcXVlcnkudHJpbSgpKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlLCBzZWFyY2hSZXN1bHQ6IG51bGwsIHNlYXJjaEVycm9yOiBudWxsIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZWFyY2goKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX29uQ2xlYXJRdWVyeVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9vbkNoYW5nZVF1ZXJ5KHsgdGFyZ2V0OiB7IHZhbHVlOiBcIlwiIH0gfSk7XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl93YXJtdXBTZWFyY2hcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBzZWFyY2hOb3Rpb24sIHJvb3RCbG9ja0lkIH0gPSB0aGlzLnByb3BzO1xuICAgICAgYXdhaXQgc2VhcmNoTm90aW9uKHtcbiAgICAgICAgcXVlcnk6IFwiXCIsXG4gICAgICAgIGFuY2VzdG9ySWQ6IHJvb3RCbG9ja0lkXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX3NlYXJjaEltcGxcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBzZWFyY2hOb3Rpb24sIHJvb3RCbG9ja0lkIH0gPSB0aGlzLnByb3BzO1xuICAgICAgY29uc3QgeyBxdWVyeSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgIGlmICghcXVlcnkudHJpbSgpKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlLCBzZWFyY2hSZXN1bHQ6IG51bGwsIHNlYXJjaEVycm9yOiBudWxsIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiB0cnVlIH0pO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoTm90aW9uKHtcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGFuY2VzdG9ySWQ6IHJvb3RCbG9ja0lkXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKFwic2VhcmNoXCIsIHF1ZXJ5LCByZXN1bHQpO1xuICAgICAgbGV0IHNlYXJjaFJlc3VsdCA9IG51bGw7XG4gICAgICBsZXQgc2VhcmNoRXJyb3IgPSBudWxsO1xuICAgICAgaWYgKHJlc3VsdC5lcnJvciB8fCByZXN1bHQuZXJyb3JJZCkge1xuICAgICAgICBzZWFyY2hFcnJvciA9IHJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlYXJjaFJlc3VsdCA9IHsgLi4ucmVzdWx0IH07XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBzZWFyY2hSZXN1bHQucmVzdWx0cy5tYXAoKHJlc3VsdDIpID0+IHtcbiAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgIGNvbnN0IGJsb2NrID0gKF9hID0gc2VhcmNoUmVzdWx0LnJlY29yZE1hcC5ibG9ja1tyZXN1bHQyLmlkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnZhbHVlO1xuICAgICAgICAgIGlmICghYmxvY2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCB0aXRsZSA9IGdldEJsb2NrVGl0bGUyKGJsb2NrLCBzZWFyY2hSZXN1bHQucmVjb3JkTWFwKTtcbiAgICAgICAgICBpZiAoIXRpdGxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdDIudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgICByZXN1bHQyLmJsb2NrID0gYmxvY2s7XG4gICAgICAgICAgcmVzdWx0Mi5yZWNvcmRNYXAgPSBzZWFyY2hSZXN1bHQucmVjb3JkTWFwO1xuICAgICAgICAgIHJlc3VsdDIucGFnZSA9IGdldEJsb2NrUGFyZW50UGFnZShibG9jaywgc2VhcmNoUmVzdWx0LnJlY29yZE1hcCwge1xuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlXG4gICAgICAgICAgfSkgfHwgYmxvY2s7XG4gICAgICAgICAgaWYgKCFyZXN1bHQyLnBhZ2UuaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKChfYiA9IHJlc3VsdDIuaGlnaGxpZ2h0KSA9PSBudWxsID8gdm9pZCAwIDogX2IudGV4dCkge1xuICAgICAgICAgICAgcmVzdWx0Mi5oaWdobGlnaHQuaHRtbCA9IHJlc3VsdDIuaGlnaGxpZ2h0LnRleHQucmVwbGFjZUFsbCgvPGd6a25mb3V1Pi9naSwgXCI8Yj5cIikucmVwbGFjZUFsbCgvPFxcL2d6a25mb3V1Pi9naSwgXCI8L2I+XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0MjtcbiAgICAgICAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCBzZWFyY2hSZXN1bHRzTWFwID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgIHJlc3VsdHMubWFwKChyZXN1bHQyKSA9PiBbcmVzdWx0Mi5wYWdlLmlkLCByZXN1bHQyXSlcbiAgICAgICAgKTtcbiAgICAgICAgc2VhcmNoUmVzdWx0LnJlc3VsdHMgPSBPYmplY3QudmFsdWVzKHNlYXJjaFJlc3VsdHNNYXApO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3RhdGUucXVlcnkgPT09IHF1ZXJ5KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlLCBzZWFyY2hSZXN1bHQsIHNlYXJjaEVycm9yIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX2lucHV0UmVmID0gUmVhY3Q4LmNyZWF0ZVJlZigpO1xuICB9XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuX3NlYXJjaCA9ICgwLCBpbXBvcnRfbG9kYXNoLmRlZmF1bHQpKHRoaXMuX3NlYXJjaEltcGwuYmluZCh0aGlzKSwgMWUzKTtcbiAgICB2b2lkIHRoaXMuX3dhcm11cFNlYXJjaCgpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGlzT3Blbiwgb25DbG9zZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IGlzTG9hZGluZywgcXVlcnksIHNlYXJjaFJlc3VsdCwgc2VhcmNoRXJyb3IgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgaGFzUXVlcnkgPSAhIXF1ZXJ5LnRyaW0oKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDExKE5vdGlvbkNvbnRleHRDb25zdW1lciwgeyBjaGlsZHJlbjogKGN0eDIpID0+IHtcbiAgICAgIGNvbnN0IHsgY29tcG9uZW50cywgZGVmYXVsdFBhZ2VJY29uLCBtYXBQYWdlVXJsIH0gPSBjdHgyO1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxMShcbiAgICAgICAgY29tcG9uZW50cy5Nb2RhbCxcbiAgICAgICAge1xuICAgICAgICAgIGlzT3BlbixcbiAgICAgICAgICBjb250ZW50TGFiZWw6IFwiU2VhcmNoXCIsXG4gICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1zZWFyY2hcIixcbiAgICAgICAgICBvdmVybGF5Q2xhc3NOYW1lOiBcIm5vdGlvbi1zZWFyY2gtb3ZlcmxheVwiLFxuICAgICAgICAgIG9uUmVxdWVzdENsb3NlOiBvbkNsb3NlLFxuICAgICAgICAgIG9uQWZ0ZXJPcGVuOiB0aGlzLl9vbkFmdGVyT3BlbixcbiAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHM2KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInF1aWNrRmluZE1lbnVcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzNihcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzZWFyY2hCYXJcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDExKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImlubGluZUljb25cIiwgY2hpbGRyZW46IGlzTG9hZGluZyA/IC8qIEBfX1BVUkVfXyAqLyBqc3gxMShMb2FkaW5nSWNvbiwgeyBjbGFzc05hbWU6IFwibG9hZGluZ0ljb25cIiB9KSA6IC8qIEBfX1BVUkVfXyAqLyBqc3gxMShTZWFyY2hJY29uLCB7fSkgfSksXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMShcbiAgICAgICAgICAgICAgICBcImlucHV0XCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcInNlYXJjaElucHV0XCIsXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJTZWFyY2hcIixcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBxdWVyeSxcbiAgICAgICAgICAgICAgICAgIHJlZjogdGhpcy5faW5wdXRSZWYsXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5fb25DaGFuZ2VRdWVyeVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgcXVlcnkgJiYgLyogQF9fUFVSRV9fICovIGpzeDExKFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjbGVhckJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5fb25DbGVhclF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxMShDbGVhckljb24sIHsgY2xhc3NOYW1lOiBcImNsZWFySWNvblwiIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICBdIH0pLFxuICAgICAgICAgICAgaGFzUXVlcnkgJiYgc2VhcmNoUmVzdWx0ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gxMShGcmFnbWVudDIsIHsgY2hpbGRyZW46IHNlYXJjaFJlc3VsdC5yZXN1bHRzLmxlbmd0aCA/IC8qIEBfX1BVUkVfXyAqLyBqc3hzNihcbiAgICAgICAgICAgICAgTm90aW9uQ29udGV4dFByb3ZpZGVyLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLi4uY3R4MixcbiAgICAgICAgICAgICAgICByZWNvcmRNYXA6IHNlYXJjaFJlc3VsdC5yZWNvcmRNYXAsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJyZXN1bHRzUGFuZVwiLCBjaGlsZHJlbjogc2VhcmNoUmVzdWx0LnJlc3VsdHMubWFwKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHM2KFxuICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHMuUGFnZUxpbmssXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjcyhcInJlc3VsdFwiLCBcIm5vdGlvbi1wYWdlLWxpbmtcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmOiBtYXBQYWdlVXJsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucGFnZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHQucmVjb3JkTWFwXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDExKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhZ2VUaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jazogcmVzdWx0LnBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0SWNvbjogZGVmYXVsdFBhZ2VJY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoKF9hID0gcmVzdWx0LmhpZ2hsaWdodCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmh0bWwpICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gxMShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tc2VhcmNoLXJlc3VsdC1oaWdobGlnaHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9faHRtbDogcmVzdWx0LmhpZ2hsaWdodC5odG1sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaWRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pIH0pLFxuICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDExKFwiZm9vdGVyXCIsIHsgY2xhc3NOYW1lOiBcInJlc3VsdHNGb290ZXJcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzNihcImRpdlwiLCB7IGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMShcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwicmVzdWx0c0NvdW50XCIsIGNoaWxkcmVuOiBzZWFyY2hSZXN1bHQudG90YWwgfSksXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdC50b3RhbCA9PT0gMSA/IFwiIHJlc3VsdFwiIDogXCIgcmVzdWx0c1wiXG4gICAgICAgICAgICAgICAgICBdIH0pIH0pXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApIDogLyogQF9fUFVSRV9fICovIGpzeHM2KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vUmVzdWx0c1BhbmVcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDExKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vUmVzdWx0c1wiLCBjaGlsZHJlbjogXCJObyByZXN1bHRzXCIgfSksXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub1Jlc3VsdHNEZXRhaWxcIiwgY2hpbGRyZW46IFwiVHJ5IGRpZmZlcmVudCBzZWFyY2ggdGVybXNcIiB9KVxuICAgICAgICAgICAgXSB9KSB9KSxcbiAgICAgICAgICAgIGhhc1F1ZXJ5ICYmICFzZWFyY2hSZXN1bHQgJiYgc2VhcmNoRXJyb3IgJiYgLyogQF9fUFVSRV9fICovIGpzeDExKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vUmVzdWx0c1BhbmVcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxMShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub1Jlc3VsdHNcIiwgY2hpbGRyZW46IFwiU2VhcmNoIGVycm9yXCIgfSkgfSlcbiAgICAgICAgICBdIH0pXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSB9KTtcbiAgfVxufTtcblxuLy8gc3JjL2NvbXBvbmVudHMvaGVhZGVyLnRzeFxuaW1wb3J0IHsgRnJhZ21lbnQgYXMgRnJhZ21lbnQzLCBqc3ggYXMganN4MTIsIGpzeHMgYXMganN4czcgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIEhlYWRlcih7XG4gIGJsb2NrXG59KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTIoXCJoZWFkZXJcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWhlYWRlclwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHM3KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1uYXYtaGVhZGVyXCIsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDEyKEJyZWFkY3J1bWJzLCB7IGJsb2NrIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMihTZWFyY2gsIHsgYmxvY2sgfSlcbiAgXSB9KSB9KTtcbn1cbmZ1bmN0aW9uIEJyZWFkY3J1bWJzKHtcbiAgYmxvY2ssXG4gIHJvb3RPbmx5ID0gZmFsc2Vcbn0pIHtcbiAgY29uc3QgeyByZWNvcmRNYXAsIG1hcFBhZ2VVcmwsIGNvbXBvbmVudHMgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3QgYnJlYWRjcnVtYnMgPSBSZWFjdDkudXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgdGVtcEJyZWFkY3J1bWJzID0gZ2V0UGFnZUJyZWFkY3J1bWJzKHJlY29yZE1hcCwgYmxvY2suaWQpO1xuICAgIGlmIChyb290T25seSkge1xuICAgICAgcmV0dXJuIFt0ZW1wQnJlYWRjcnVtYnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRlbXBCcmVhZGNydW1ic1swXV0uZmlsdGVyKEJvb2xlYW4pO1xuICAgIH1cbiAgICByZXR1cm4gdGVtcEJyZWFkY3J1bWJzO1xuICB9LCBbcmVjb3JkTWFwLCBibG9jay5pZCwgcm9vdE9ubHldKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxMihcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJicmVhZGNydW1ic1wiLCBjaGlsZHJlbjogYnJlYWRjcnVtYnMgPT0gbnVsbCA/IHZvaWQgMCA6IGJyZWFkY3J1bWJzLm1hcCgoYnJlYWRjcnVtYiwgaW5kZXgpID0+IHtcbiAgICBpZiAoIWJyZWFkY3J1bWIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYWdlTGlua1Byb3BzID0ge307XG4gICAgY29uc3QgY29tcG9uZW50TWFwID0ge1xuICAgICAgcGFnZUxpbms6IGNvbXBvbmVudHMuUGFnZUxpbmtcbiAgICB9O1xuICAgIGlmIChicmVhZGNydW1iLmFjdGl2ZSkge1xuICAgICAgY29tcG9uZW50TWFwLnBhZ2VMaW5rID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8ganN4MTIoXCJkaXZcIiwgeyAuLi5wcm9wcyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFnZUxpbmtQcm9wcy5ocmVmID0gbWFwUGFnZVVybChicmVhZGNydW1iLnBhZ2VJZCk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czcoUmVhY3Q5LkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4czcoXG4gICAgICAgIGNvbXBvbmVudE1hcC5wYWdlTGluayxcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogY3MoXCJicmVhZGNydW1iXCIsIGJyZWFkY3J1bWIuYWN0aXZlICYmIFwiYWN0aXZlXCIpLFxuICAgICAgICAgIC4uLnBhZ2VMaW5rUHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIGJyZWFkY3J1bWIuaWNvbiAmJiAvKiBAX19QVVJFX18gKi8ganN4MTIoUGFnZUljb24sIHsgY2xhc3NOYW1lOiBcImljb25cIiwgYmxvY2s6IGJyZWFkY3J1bWIuYmxvY2sgfSksXG4gICAgICAgICAgICBicmVhZGNydW1iLnRpdGxlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gxMihcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGl0bGVcIiwgY2hpbGRyZW46IGJyZWFkY3J1bWIudGl0bGUgfSlcbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICBpbmRleCA8IGJyZWFkY3J1bWJzLmxlbmd0aCAtIDEgJiYgLyogQF9fUFVSRV9fICovIGpzeDEyKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzcGFjZXJcIiwgY2hpbGRyZW46IFwiL1wiIH0pXG4gICAgXSB9LCBicmVhZGNydW1iLnBhZ2VJZCk7XG4gIH0pIH0sIFwiYnJlYWRjcnVtYnNcIik7XG59XG5mdW5jdGlvbiBTZWFyY2goe1xuICBibG9jayxcbiAgc2VhcmNoLFxuICB0aXRsZSA9IFwiU2VhcmNoXCJcbn0pIHtcbiAgY29uc3QgeyBzZWFyY2hOb3Rpb24sIHJvb3RQYWdlSWQsIGlzU2hvd2luZ1NlYXJjaCwgb25IaWRlU2VhcmNoIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIGNvbnN0IG9uU2VhcmNoTm90aW9uID0gc2VhcmNoIHx8IHNlYXJjaE5vdGlvbjtcbiAgY29uc3QgW2lzU2VhcmNoT3Blbiwgc2V0SXNTZWFyY2hPcGVuXSA9IFJlYWN0OS51c2VTdGF0ZShpc1Nob3dpbmdTZWFyY2gpO1xuICBSZWFjdDkudXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRJc1NlYXJjaE9wZW4oaXNTaG93aW5nU2VhcmNoKTtcbiAgfSwgW2lzU2hvd2luZ1NlYXJjaF0pO1xuICBjb25zdCBvbk9wZW5TZWFyY2ggPSBSZWFjdDkudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldElzU2VhcmNoT3Blbih0cnVlKTtcbiAgfSwgW10pO1xuICBjb25zdCBvbkNsb3NlU2VhcmNoID0gUmVhY3Q5LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRJc1NlYXJjaE9wZW4oZmFsc2UpO1xuICAgIGlmIChvbkhpZGVTZWFyY2gpIHtcbiAgICAgIG9uSGlkZVNlYXJjaCgpO1xuICAgIH1cbiAgfSwgW29uSGlkZVNlYXJjaF0pO1xuICB1c2VIb3RrZXlzKFwiY21kK3BcIiwgKGV2ZW50KSA9PiB7XG4gICAgb25PcGVuU2VhcmNoKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG4gIHVzZUhvdGtleXMoXCJjbWQra1wiLCAoZXZlbnQpID0+IHtcbiAgICBvbk9wZW5TZWFyY2goKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KTtcbiAgY29uc3QgaGFzU2VhcmNoID0gISFvblNlYXJjaE5vdGlvbjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzNyhGcmFnbWVudDMsIHsgY2hpbGRyZW46IFtcbiAgICBoYXNTZWFyY2ggJiYgLyogQF9fUFVSRV9fICovIGpzeHM3KFxuICAgICAgXCJkaXZcIixcbiAgICAgIHtcbiAgICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBjcyhcImJyZWFkY3J1bWJcIiwgXCJidXR0b25cIiwgXCJub3Rpb24tc2VhcmNoLWJ1dHRvblwiKSxcbiAgICAgICAgb25DbGljazogb25PcGVuU2VhcmNoLFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMihTZWFyY2hJY29uLCB7IGNsYXNzTmFtZTogXCJzZWFyY2hJY29uXCIgfSksXG4gICAgICAgICAgdGl0bGUgJiYgLyogQF9fUFVSRV9fICovIGpzeDEyKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJ0aXRsZVwiLCBjaGlsZHJlbjogdGl0bGUgfSlcbiAgICAgICAgXVxuICAgICAgfVxuICAgICksXG4gICAgaXNTZWFyY2hPcGVuICYmIGhhc1NlYXJjaCAmJiAvKiBAX19QVVJFX18gKi8ganN4MTIoXG4gICAgICBTZWFyY2hEaWFsb2csXG4gICAgICB7XG4gICAgICAgIGlzT3BlbjogaXNTZWFyY2hPcGVuLFxuICAgICAgICByb290QmxvY2tJZDogcm9vdFBhZ2VJZCB8fCAoYmxvY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrLmlkKSxcbiAgICAgICAgb25DbG9zZTogb25DbG9zZVNlYXJjaCxcbiAgICAgICAgc2VhcmNoTm90aW9uOiBvblNlYXJjaE5vdGlvblxuICAgICAgfVxuICAgIClcbiAgXSB9KTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvbGF6eS1pbWFnZS50c3hcbmltcG9ydCB7IG5vcm1hbGl6ZVVybCB9IGZyb20gXCJub3Rpb24tdXRpbHNcIjtcbmltcG9ydCBSZWFjdDEwIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgSW1hZ2VTdGF0ZSwgTGF6eUltYWdlRnVsbCB9IGZyb20gXCJyZWFjdC1sYXp5LWltYWdlc1wiO1xuaW1wb3J0IHsganN4IGFzIGpzeDEzLCBqc3hzIGFzIGpzeHM4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBMYXp5SW1hZ2Uoe1xuICBzcmMsXG4gIGFsdCxcbiAgY2xhc3NOYW1lLFxuICBzdHlsZSxcbiAgem9vbWFibGUgPSBmYWxzZSxcbiAgcHJpb3JpdHkgPSBmYWxzZSxcbiAgaGVpZ2h0LFxuICAuLi5yZXN0XG59KSB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCB7IHJlY29yZE1hcCwgem9vbSwgcHJldmlld0ltYWdlcywgZm9yY2VDdXN0b21JbWFnZXMsIGNvbXBvbmVudHMgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3Qgem9vbVJlZiA9IFJlYWN0MTAudXNlUmVmKHpvb20gPyB6b29tLmNsb25lKCkgOiBudWxsKTtcbiAgY29uc3QgcHJldmlld0ltYWdlID0gcHJldmlld0ltYWdlcyA/IChfYyA9IChfYSA9IHJlY29yZE1hcCA9PSBudWxsID8gdm9pZCAwIDogcmVjb3JkTWFwLnByZXZpZXdfaW1hZ2VzKSA9PSBudWxsID8gdm9pZCAwIDogX2Fbc3JjXSkgIT0gbnVsbCA/IF9jIDogKF9iID0gcmVjb3JkTWFwID09IG51bGwgPyB2b2lkIDAgOiByZWNvcmRNYXAucHJldmlld19pbWFnZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYltub3JtYWxpemVVcmwoc3JjKV0gOiBudWxsO1xuICBjb25zdCBvbkxvYWQgPSBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIChlKSA9PiB7XG4gICAgICBpZiAoem9vbWFibGUgJiYgKGUudGFyZ2V0LnNyYyB8fCBlLnRhcmdldC5zcmNzZXQpKSB7XG4gICAgICAgIGlmICh6b29tUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICA7XG4gICAgICAgICAgem9vbVJlZi5jdXJyZW50LmF0dGFjaChlLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFt6b29tUmVmLCB6b29tYWJsZV1cbiAgKTtcbiAgY29uc3QgYXR0YWNoWm9vbSA9IFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgKGltYWdlKSA9PiB7XG4gICAgICBpZiAoem9vbVJlZi5jdXJyZW50ICYmIGltYWdlKSB7XG4gICAgICAgIDtcbiAgICAgICAgem9vbVJlZi5jdXJyZW50LmF0dGFjaChpbWFnZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbem9vbVJlZl1cbiAgKTtcbiAgY29uc3QgYXR0YWNoWm9vbVJlZiA9IFJlYWN0MTAudXNlTWVtbyhcbiAgICAoKSA9PiB6b29tYWJsZSA/IGF0dGFjaFpvb20gOiB2b2lkIDAsXG4gICAgW3pvb21hYmxlLCBhdHRhY2hab29tXVxuICApO1xuICBpZiAocHJldmlld0ltYWdlKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSBwcmV2aWV3SW1hZ2Uub3JpZ2luYWxIZWlnaHQgLyBwcmV2aWV3SW1hZ2Uub3JpZ2luYWxXaWR0aDtcbiAgICBpZiAoY29tcG9uZW50cy5JbWFnZSkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxMyhcbiAgICAgICAgY29tcG9uZW50cy5JbWFnZSxcbiAgICAgICAge1xuICAgICAgICAgIHNyYyxcbiAgICAgICAgICBhbHQsXG4gICAgICAgICAgc3R5bGUsXG4gICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgIHdpZHRoOiBwcmV2aWV3SW1hZ2Uub3JpZ2luYWxXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHByZXZpZXdJbWFnZS5vcmlnaW5hbEhlaWdodCxcbiAgICAgICAgICBibHVyRGF0YVVSTDogcHJldmlld0ltYWdlLmRhdGFVUklCYXNlNjQsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IFwiYmx1clwiLFxuICAgICAgICAgIHByaW9yaXR5LFxuICAgICAgICAgIG9uTG9hZFxuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBMYXp5SW1hZ2UgdHlwZXMgYXJlIG91dC1vZi1kYXRlLlxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDEzKExhenlJbWFnZUZ1bGwsIHsgc3JjLCAuLi5yZXN0LCBleHBlcmltZW50YWxEZWNvZGU6IHRydWUsIGNoaWxkcmVuOiAoeyBpbWFnZVN0YXRlLCByZWYgfSkgPT4ge1xuICAgICAgICBjb25zdCBpc0xvYWRlZCA9IGltYWdlU3RhdGUgPT09IEltYWdlU3RhdGUuTG9hZFN1Y2Nlc3M7XG4gICAgICAgIGNvbnN0IHdyYXBwZXJTdHlsZSA9IHtcbiAgICAgICAgICB3aWR0aDogXCIxMDAlXCJcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW1nU3R5bGUgPSB7fTtcbiAgICAgICAgaWYgKGhlaWdodCkge1xuICAgICAgICAgIHdyYXBwZXJTdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW1nU3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgd3JhcHBlclN0eWxlLnBhZGRpbmdCb3R0b20gPSBgJHthc3BlY3RSYXRpbyAqIDEwMH0lYDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHM4KFxuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBjcyhcbiAgICAgICAgICAgICAgXCJsYXp5LWltYWdlLXdyYXBwZXJcIixcbiAgICAgICAgICAgICAgaXNMb2FkZWQgJiYgXCJsYXp5LWltYWdlLWxvYWRlZFwiLFxuICAgICAgICAgICAgICBjbGFzc05hbWVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBzdHlsZTogd3JhcHBlclN0eWxlLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDEzKFxuICAgICAgICAgICAgICAgIFwiaW1nXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImxhenktaW1hZ2UtcHJldmlld1wiLFxuICAgICAgICAgICAgICAgICAgc3JjOiBwcmV2aWV3SW1hZ2UuZGF0YVVSSUJhc2U2NCxcbiAgICAgICAgICAgICAgICAgIGFsdCxcbiAgICAgICAgICAgICAgICAgIHJlZixcbiAgICAgICAgICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgICAgICAgICAgZGVjb2Rpbmc6IFwiYXN5bmNcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDEzKFxuICAgICAgICAgICAgICAgIFwiaW1nXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImxhenktaW1hZ2UtcmVhbFwiLFxuICAgICAgICAgICAgICAgICAgc3JjLFxuICAgICAgICAgICAgICAgICAgYWx0LFxuICAgICAgICAgICAgICAgICAgcmVmOiBhdHRhY2hab29tUmVmLFxuICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgICAgICAgICAgICAgIC4uLmltZ1N0eWxlXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgd2lkdGg6IHByZXZpZXdJbWFnZS5vcmlnaW5hbFdpZHRoLFxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBwcmV2aWV3SW1hZ2Uub3JpZ2luYWxIZWlnaHQsXG4gICAgICAgICAgICAgICAgICBkZWNvZGluZzogXCJhc3luY1wiLFxuICAgICAgICAgICAgICAgICAgbG9hZGluZzogXCJsYXp5XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9IH0pXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoY29tcG9uZW50cy5JbWFnZSAmJiBmb3JjZUN1c3RvbUltYWdlcykge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxMyhcbiAgICAgICAgY29tcG9uZW50cy5JbWFnZSxcbiAgICAgICAge1xuICAgICAgICAgIHNyYyxcbiAgICAgICAgICBhbHQsXG4gICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgIHdpZHRoOiBudWxsLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0IHx8IG51bGwsXG4gICAgICAgICAgcHJpb3JpdHksXG4gICAgICAgICAgb25Mb2FkXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTMoXG4gICAgICBcImltZ1wiLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICBzcmMsXG4gICAgICAgIGFsdCxcbiAgICAgICAgcmVmOiBhdHRhY2hab29tUmVmLFxuICAgICAgICBsb2FkaW5nOiBcImxhenlcIixcbiAgICAgICAgZGVjb2Rpbmc6IFwiYXN5bmNcIixcbiAgICAgICAgLi4ucmVzdFxuICAgICAgfVxuICAgICk7XG4gIH1cbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvYXNzZXQudHN4XG5pbXBvcnQgXCJub3Rpb24tdHlwZXNcIjtcbmltcG9ydCB7IGdldFRleHRDb250ZW50IH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9saXRlLXlvdXR1YmUtZW1iZWQudHN4XG5pbXBvcnQgUmVhY3QxMSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEZyYWdtZW50IGFzIEZyYWdtZW50NCwganN4IGFzIGpzeDE0LCBqc3hzIGFzIGpzeHM5IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgcXMgPSAocGFyYW1zKSA9PiB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhwYXJhbXMpLm1hcChcbiAgICAoa2V5KSA9PiBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX09JHtlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW2tleV0pfWBcbiAgKS5qb2luKFwiJlwiKTtcbn07XG52YXIgcmVzb2x1dGlvbnMgPSBbMTIwLCAzMjAsIDQ4MCwgNjQwLCAxMjgwXTtcbnZhciByZXNvbHV0aW9uTWFwID0ge1xuICAxMjA6IFwiZGVmYXVsdFwiLFxuICAzMjA6IFwibXFkZWZhdWx0XCIsXG4gIDQ4MDogXCJocWRlZmF1bHRcIixcbiAgNjQwOiBcInNkZGVmYXVsdFwiLFxuICAxMjgwOiBcIm1heHJlc2RlZmF1bHRcIlxuICAvLyAyaywgNGssIDhrIGltYWdlcyBkb24ndCBzZWVtIHRvIGJlIGF2YWlsYWJsZVxuICAvLyBTb3VyY2U6IGh0dHBzOi8vbG9uZ3plcm8uY29tL2FydGljbGVzL3lvdXR1YmUtdGh1bWJuYWlsLXNpemVzLXVybC9cbn07XG52YXIgcmVzb2x1dGlvblNpemVzID0gcmVzb2x1dGlvbnMubWFwKChyZXNvbHV0aW9uKSA9PiBgKG1heC13aWR0aDogJHtyZXNvbHV0aW9ufXB4KSAke3Jlc29sdXRpb259cHhgKS5qb2luKFwiLCBcIik7XG5mdW5jdGlvbiBnZXRQb3N0ZXJVcmwoaWQsIHJlc29sdXRpb24gPSA0ODAsIHR5cGUgPSBcImpwZ1wiKSB7XG4gIGlmICh0eXBlID09PSBcIndlYnBcIikge1xuICAgIHJldHVybiBgaHR0cHM6Ly9pLnl0aW1nLmNvbS92aV93ZWJwLyR7aWR9LyR7cmVzb2x1dGlvbk1hcFtyZXNvbHV0aW9uXX0ud2VicGA7XG4gIH1cbiAgcmV0dXJuIGBodHRwczovL2kueXRpbWcuY29tL3ZpLyR7aWR9LyR7cmVzb2x1dGlvbk1hcFtyZXNvbHV0aW9uXX0uanBnYDtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlU3JjU2V0KGlkLCB0eXBlID0gXCJqcGdcIikge1xuICByZXR1cm4gcmVzb2x1dGlvbnMubWFwKChyZXNvbHV0aW9uKSA9PiBgJHtnZXRQb3N0ZXJVcmwoaWQsIHJlc29sdXRpb24sIHR5cGUpfSAke3Jlc29sdXRpb259d2ApLmpvaW4oXCIsIFwiKTtcbn1cbmZ1bmN0aW9uIExpdGVZb3VUdWJlRW1iZWQoe1xuICBpZCxcbiAgZGVmYXVsdFBsYXkgPSBmYWxzZSxcbiAgbXV0ZSA9IGZhbHNlLFxuICBsYXp5SW1hZ2UgPSBmYWxzZSxcbiAgaWZyYW1lVGl0bGUgPSBcIllvdVR1YmUgdmlkZW9cIixcbiAgYWx0ID0gXCJWaWRlbyBwcmV2aWV3XCIsXG4gIHBhcmFtcyA9IHt9LFxuICBhZExpbmtzUHJlY29ubmVjdCA9IHRydWUsXG4gIHN0eWxlLFxuICBjbGFzc05hbWVcbn0pIHtcbiAgY29uc3QgbXV0ZVBhcmFtID0gbXV0ZSB8fCBkZWZhdWx0UGxheSA/IFwiMVwiIDogXCIwXCI7XG4gIGNvbnN0IHF1ZXJ5U3RyaW5nID0gUmVhY3QxMS51c2VNZW1vKFxuICAgICgpID0+IHFzKHsgYXV0b3BsYXk6IFwiMVwiLCBtdXRlOiBtdXRlUGFyYW0sIC4uLnBhcmFtcyB9KSxcbiAgICBbbXV0ZVBhcmFtLCBwYXJhbXNdXG4gICk7XG4gIGNvbnN0IHl0VXJsID0gXCJodHRwczovL3d3dy55b3V0dWJlLW5vY29va2llLmNvbVwiO1xuICBjb25zdCBpZnJhbWVTcmMgPSBgJHt5dFVybH0vZW1iZWQvJHtpZH0/JHtxdWVyeVN0cmluZ31gO1xuICBjb25zdCBbaXNQcmVjb25uZWN0ZWQsIHNldElzUHJlY29ubmVjdGVkXSA9IFJlYWN0MTEudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaWZyYW1lSW5pdGlhbGl6ZWQsIHNldElmcmFtZUluaXRpYWxpemVkXSA9IFJlYWN0MTEudXNlU3RhdGUoZGVmYXVsdFBsYXkpO1xuICBjb25zdCBbaXNJZnJhbWVMb2FkZWQsIHNldElzSWZyYW1lTG9hZGVkXSA9IFJlYWN0MTEudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB3YXJtQ29ubmVjdGlvbnMgPSBSZWFjdDExLnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoaXNQcmVjb25uZWN0ZWQpIHJldHVybjtcbiAgICBzZXRJc1ByZWNvbm5lY3RlZCh0cnVlKTtcbiAgfSwgW2lzUHJlY29ubmVjdGVkXSk7XG4gIGNvbnN0IG9uTG9hZElmcmFtZSA9IFJlYWN0MTEudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChpZnJhbWVJbml0aWFsaXplZCkgcmV0dXJuO1xuICAgIHNldElmcmFtZUluaXRpYWxpemVkKHRydWUpO1xuICB9LCBbaWZyYW1lSW5pdGlhbGl6ZWRdKTtcbiAgY29uc3Qgb25JZnJhbWVMb2FkZWQgPSBSZWFjdDExLnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRJc0lmcmFtZUxvYWRlZCh0cnVlKTtcbiAgfSwgW10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHM5KEZyYWdtZW50NCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxNChcbiAgICAgIFwibGlua1wiLFxuICAgICAge1xuICAgICAgICByZWw6IFwicHJlbG9hZFwiLFxuICAgICAgICBhczogXCJpbWFnZVwiLFxuICAgICAgICBocmVmOiBnZXRQb3N0ZXJVcmwoaWQpLFxuICAgICAgICBpbWFnZVNyY1NldDogZ2VuZXJhdGVTcmNTZXQoaWQsIFwid2VicFwiKSxcbiAgICAgICAgaW1hZ2VTaXplczogcmVzb2x1dGlvblNpemVzXG4gICAgICB9XG4gICAgKSxcbiAgICBpc1ByZWNvbm5lY3RlZCAmJiAvKiBAX19QVVJFX18gKi8ganN4czkoRnJhZ21lbnQ0LCB7IGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4MTQoXCJsaW5rXCIsIHsgcmVsOiBcInByZWNvbm5lY3RcIiwgaHJlZjogeXRVcmwgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4MTQoXCJsaW5rXCIsIHsgcmVsOiBcInByZWNvbm5lY3RcIiwgaHJlZjogXCJodHRwczovL3d3dy5nb29nbGUuY29tXCIgfSlcbiAgICBdIH0pLFxuICAgIGlzUHJlY29ubmVjdGVkICYmIGFkTGlua3NQcmVjb25uZWN0ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzOShGcmFnbWVudDQsIHsgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxNChcImxpbmtcIiwgeyByZWw6IFwicHJlY29ubmVjdFwiLCBocmVmOiBcImh0dHBzOi8vc3RhdGljLmRvdWJsZWNsaWNrLm5ldFwiIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDE0KFwibGlua1wiLCB7IHJlbDogXCJwcmVjb25uZWN0XCIsIGhyZWY6IFwiaHR0cHM6Ly9nb29nbGVhZHMuZy5kb3VibGVjbGljay5uZXRcIiB9KVxuICAgIF0gfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHM5KFxuICAgICAgXCJkaXZcIixcbiAgICAgIHtcbiAgICAgICAgb25DbGljazogb25Mb2FkSWZyYW1lLFxuICAgICAgICBvblBvaW50ZXJPdmVyOiB3YXJtQ29ubmVjdGlvbnMsXG4gICAgICAgIGNsYXNzTmFtZTogY3MoXG4gICAgICAgICAgXCJub3Rpb24teXQtbGl0ZVwiLFxuICAgICAgICAgIGlzSWZyYW1lTG9hZGVkICYmIFwibm90aW9uLXl0LWxvYWRlZFwiLFxuICAgICAgICAgIGlmcmFtZUluaXRpYWxpemVkICYmIFwibm90aW9uLXl0LWluaXRpYWxpemVkXCIsXG4gICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICksXG4gICAgICAgIHN0eWxlLFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzOShcInBpY3R1cmVcIiwgeyBjaGlsZHJlbjogW1xuICAgICAgICAgICAgcmVzb2x1dGlvbnMubWFwKChyZXNvbHV0aW9uKSA9PiAvKiBAX19QVVJFX18gKi8ganN4MTQoXG4gICAgICAgICAgICAgIFwic291cmNlXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzcmNTZXQ6IGAke2dldFBvc3RlclVybChpZCwgcmVzb2x1dGlvbiwgXCJ3ZWJwXCIpfSAke3Jlc29sdXRpb259d2AsXG4gICAgICAgICAgICAgICAgbWVkaWE6IGAobWF4LXdpZHRoOiAke3Jlc29sdXRpb259cHgpYCxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImltYWdlL3dlYnBcIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICByZXNvbHV0aW9uXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxNChcbiAgICAgICAgICAgICAgXCJpbWdcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNyYzogZ2V0UG9zdGVyVXJsKGlkKSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLXl0LXRodW1ibmFpbFwiLFxuICAgICAgICAgICAgICAgIGxvYWRpbmc6IGxhenlJbWFnZSA/IFwibGF6eVwiIDogdm9pZCAwLFxuICAgICAgICAgICAgICAgIGFsdFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgXSB9KSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MTQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLXl0LXBsYXlidG5cIiB9KSxcbiAgICAgICAgICBpZnJhbWVJbml0aWFsaXplZCAmJiAvKiBAX19QVVJFX18gKi8ganN4MTQoXG4gICAgICAgICAgICBcImlmcmFtZVwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB3aWR0aDogXCI1NjBcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjMxNVwiLFxuICAgICAgICAgICAgICBmcmFtZUJvcmRlcjogXCIwXCIsXG4gICAgICAgICAgICAgIGFsbG93OiBcImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlXCIsXG4gICAgICAgICAgICAgIGFsbG93RnVsbFNjcmVlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgdGl0bGU6IGlmcmFtZVRpdGxlLFxuICAgICAgICAgICAgICBzcmM6IGlmcmFtZVNyYyxcbiAgICAgICAgICAgICAgb25Mb2FkOiBvbklmcmFtZUxvYWRlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgXVxuICAgICAgfVxuICAgIClcbiAgXSB9KTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvYXNzZXQudHN4XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBGcmFnbWVudDUsIGpzeCBhcyBqc3gxNSwganN4cyBhcyBqc3hzMTAgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBpc1NlcnZlciA9ICFnbG9iYWxUaGlzLndpbmRvdztcbnZhciBzdXBwb3J0ZWRBc3NldFR5cGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1xuICBcInJlcGxpdFwiLFxuICBcInZpZGVvXCIsXG4gIFwiaW1hZ2VcIixcbiAgXCJlbWJlZFwiLFxuICBcImZpZ21hXCIsXG4gIFwidHlwZWZvcm1cIixcbiAgXCJleGNhbGlkcmF3XCIsXG4gIFwibWFwc1wiLFxuICBcInR3ZWV0XCIsXG4gIFwicGRmXCIsXG4gIFwiZ2lzdFwiLFxuICBcImNvZGVwZW5cIixcbiAgXCJkcml2ZVwiXG5dKTtcbmZ1bmN0aW9uIEFzc2V0KHtcbiAgYmxvY2ssXG4gIHpvb21hYmxlID0gdHJ1ZSxcbiAgY2hpbGRyZW5cbn0pIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2ksIF9qLCBfaywgX2w7XG4gIGNvbnN0IHsgcmVjb3JkTWFwLCBtYXBJbWFnZVVybCwgY29tcG9uZW50cyB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBpZiAoIWJsb2NrIHx8ICFzdXBwb3J0ZWRBc3NldFR5cGVzLmhhcyhibG9jay50eXBlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHN0eWxlID0ge1xuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgYWxpZ25TZWxmOiBcImNlbnRlclwiLFxuICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICBtYXhXaWR0aDogXCIxMDAlXCIsXG4gICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIlxuICB9O1xuICBjb25zdCBhc3NldFN0eWxlID0ge307XG4gIGlmIChibG9jay5mb3JtYXQpIHtcbiAgICBjb25zdCB7XG4gICAgICBibG9ja19hc3BlY3RfcmF0aW8sXG4gICAgICBibG9ja19oZWlnaHQsXG4gICAgICBibG9ja193aWR0aCxcbiAgICAgIGJsb2NrX2Z1bGxfd2lkdGgsXG4gICAgICBibG9ja19wYWdlX3dpZHRoLFxuICAgICAgYmxvY2tfcHJlc2VydmVfc2NhbGVcbiAgICB9ID0gYmxvY2suZm9ybWF0O1xuICAgIGlmIChibG9ja19mdWxsX3dpZHRoIHx8IGJsb2NrX3BhZ2Vfd2lkdGgpIHtcbiAgICAgIGlmIChibG9ja19mdWxsX3dpZHRoKSB7XG4gICAgICAgIHN0eWxlLndpZHRoID0gXCIxMDB2d1wiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgIH1cbiAgICAgIGlmIChibG9jay50eXBlID09PSBcInZpZGVvXCIpIHtcbiAgICAgICAgaWYgKGJsb2NrX2hlaWdodCkge1xuICAgICAgICAgIHN0eWxlLmhlaWdodCA9IGJsb2NrX2hlaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChibG9ja19hc3BlY3RfcmF0aW8pIHtcbiAgICAgICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gYCR7YmxvY2tfYXNwZWN0X3JhdGlvICogMTAwfSVgO1xuICAgICAgICB9IGVsc2UgaWYgKGJsb2NrX3ByZXNlcnZlX3NjYWxlKSB7XG4gICAgICAgICAgc3R5bGUub2JqZWN0Rml0ID0gXCJjb250YWluXCI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYmxvY2tfYXNwZWN0X3JhdGlvICYmIGJsb2NrLnR5cGUgIT09IFwiaW1hZ2VcIikge1xuICAgICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gYCR7YmxvY2tfYXNwZWN0X3JhdGlvICogMTAwfSVgO1xuICAgICAgfSBlbHNlIGlmIChibG9ja19oZWlnaHQpIHtcbiAgICAgICAgc3R5bGUuaGVpZ2h0ID0gYmxvY2tfaGVpZ2h0O1xuICAgICAgfSBlbHNlIGlmIChibG9ja19wcmVzZXJ2ZV9zY2FsZSkge1xuICAgICAgICBpZiAoYmxvY2sudHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICAgICAgc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3R5bGUucGFkZGluZ0JvdHRvbSA9IFwiNzUlXCI7XG4gICAgICAgICAgc3R5bGUubWluSGVpZ2h0ID0gMTAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXRjaCAoKF9hID0gYmxvY2suZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuYmxvY2tfYWxpZ25tZW50KSB7XG4gICAgICAgIGNhc2UgXCJjZW50ZXJcIjpcbiAgICAgICAgICBzdHlsZS5hbGlnblNlbGYgPSBcImNlbnRlclwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICAgIHN0eWxlLmFsaWduU2VsZiA9IFwic3RhcnRcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgc3R5bGUuYWxpZ25TZWxmID0gXCJlbmRcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja193aWR0aCkge1xuICAgICAgICBzdHlsZS53aWR0aCA9IGJsb2NrX3dpZHRoO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrX3ByZXNlcnZlX3NjYWxlICYmIGJsb2NrLnR5cGUgIT09IFwiaW1hZ2VcIikge1xuICAgICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gXCI1MCVcIjtcbiAgICAgICAgc3R5bGUubWluSGVpZ2h0ID0gMTAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGJsb2NrX2hlaWdodCAmJiBibG9jay50eXBlICE9PSBcImltYWdlXCIpIHtcbiAgICAgICAgICBzdHlsZS5oZWlnaHQgPSBibG9ja19oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJsb2NrLnR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgICAgYXNzZXRTdHlsZS5vYmplY3RGaXQgPSBcImNvdmVyXCI7XG4gICAgfSBlbHNlIGlmIChibG9ja19wcmVzZXJ2ZV9zY2FsZSkge1xuICAgICAgYXNzZXRTdHlsZS5vYmplY3RGaXQgPSBcImNvbnRhaW5cIjtcbiAgICB9XG4gIH1cbiAgbGV0IHNvdXJjZSA9ICgoX2IgPSByZWNvcmRNYXAuc2lnbmVkX3VybHMpID09IG51bGwgPyB2b2lkIDAgOiBfYltibG9jay5pZF0pIHx8ICgoX2UgPSAoX2QgPSAoX2MgPSBibG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2Muc291cmNlKSA9PSBudWxsID8gdm9pZCAwIDogX2RbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfZVswXSk7XG4gIGlmICghc291cmNlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGJsb2NrLnNwYWNlX2lkKSB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChzb3VyY2UpO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwic3BhY2VJZFwiLCBibG9jay5zcGFjZV9pZCk7XG4gICAgc291cmNlID0gdXJsLnRvU3RyaW5nKCk7XG4gIH1cbiAgbGV0IGNvbnRlbnQgPSBudWxsO1xuICBpZiAoYmxvY2sudHlwZSA9PT0gXCJ0d2VldFwiKSB7XG4gICAgY29uc3Qgc3JjID0gc291cmNlO1xuICAgIGlmICghc3JjKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBpZCA9IChfZyA9IChfZiA9IHNyYy5zcGxpdChcIj9cIikpID09IG51bGwgPyB2b2lkIDAgOiBfZlswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9nLnNwbGl0KFwiL1wiKS5wb3AoKTtcbiAgICBpZiAoIWlkKSByZXR1cm4gbnVsbDtcbiAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIGpzeDE1KFxuICAgICAgXCJkaXZcIixcbiAgICAgIHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAuLi5hc3NldFN0eWxlLFxuICAgICAgICAgIG1heFdpZHRoOiA0MjAsXG4gICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiYXV0b1wiLFxuICAgICAgICAgIG1hcmdpblJpZ2h0OiBcImF1dG9cIlxuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDE1KGNvbXBvbmVudHMuVHdlZXQsIHsgaWQgfSlcbiAgICAgIH1cbiAgICApO1xuICB9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwicGRmXCIpIHtcbiAgICBzdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xuICAgIHN0eWxlLmJhY2tncm91bmQgPSBcInJnYigyMjYsIDIyNiwgMjI2KVwiO1xuICAgIHN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgaWYgKCFzdHlsZS5wYWRkaW5nKSB7XG4gICAgICBzdHlsZS5wYWRkaW5nID0gXCI4cHggMTZweFwiO1xuICAgIH1cbiAgICBpZiAoIWlzU2VydmVyKSB7XG4gICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIGpzeDE1KGNvbXBvbmVudHMuUGRmLCB7IGZpbGU6IHNvdXJjZSB9KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYmxvY2sudHlwZSA9PT0gXCJlbWJlZFwiIHx8IGJsb2NrLnR5cGUgPT09IFwidmlkZW9cIiB8fCBibG9jay50eXBlID09PSBcImZpZ21hXCIgfHwgYmxvY2sudHlwZSA9PT0gXCJ0eXBlZm9ybVwiIHx8IGJsb2NrLnR5cGUgPT09IFwiZ2lzdFwiIHx8IGJsb2NrLnR5cGUgPT09IFwibWFwc1wiIHx8IGJsb2NrLnR5cGUgPT09IFwiZXhjYWxpZHJhd1wiIHx8IGJsb2NrLnR5cGUgPT09IFwiY29kZXBlblwiIHx8IGJsb2NrLnR5cGUgPT09IFwiZHJpdmVcIiB8fCBibG9jay50eXBlID09PSBcInJlcGxpdFwiKSB7XG4gICAgaWYgKGJsb2NrLnR5cGUgPT09IFwidmlkZW9cIiAmJiBzb3VyY2UgJiYgIXNvdXJjZS5pbmNsdWRlcyhcInlvdXR1YmVcIikgJiYgIXNvdXJjZS5pbmNsdWRlcyhcInlvdXR1LmJlXCIpICYmICFzb3VyY2UuaW5jbHVkZXMoXCJ2aW1lb1wiKSAmJiAhc291cmNlLmluY2x1ZGVzKFwid2lzdGlhXCIpICYmICFzb3VyY2UuaW5jbHVkZXMoXCJsb29tXCIpICYmICFzb3VyY2UuaW5jbHVkZXMoXCJ2aWRlb2Fza1wiKSAmJiAhc291cmNlLmluY2x1ZGVzKFwiZ2V0Y2xvdWRhcHBcIikgJiYgIXNvdXJjZS5pbmNsdWRlcyhcInRlbGxhXCIpKSB7XG4gICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gdm9pZCAwO1xuICAgICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBqc3gxNShcbiAgICAgICAgXCJ2aWRlb1wiLFxuICAgICAgICB7XG4gICAgICAgICAgcGxheXNJbmxpbmU6IHRydWUsXG4gICAgICAgICAgY29udHJvbHM6IHRydWUsXG4gICAgICAgICAgcHJlbG9hZDogXCJtZXRhZGF0YVwiLFxuICAgICAgICAgIHN0eWxlOiBhc3NldFN0eWxlLFxuICAgICAgICAgIHNyYzogc291cmNlLFxuICAgICAgICAgIHRpdGxlOiBibG9jay50eXBlXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBzcmMgPSAoKF9oID0gYmxvY2suZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2guZGlzcGxheV9zb3VyY2UpIHx8IHNvdXJjZTtcbiAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgY29uc3QgeW91dHViZVZpZGVvSWQgPSBibG9jay50eXBlID09PSBcInZpZGVvXCIgPyBnZXRZb3V0dWJlSWQoc3JjKSA6IG51bGw7XG4gICAgICAgIGlmICh5b3V0dWJlVmlkZW9JZCkge1xuICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IGdldFVybFBhcmFtcyhzcmMpO1xuICAgICAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4MTUoXG4gICAgICAgICAgICBMaXRlWW91VHViZUVtYmVkLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogeW91dHViZVZpZGVvSWQsXG4gICAgICAgICAgICAgIHN0eWxlOiBhc3NldFN0eWxlLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLWFzc2V0LW9iamVjdC1maXRcIixcbiAgICAgICAgICAgICAgcGFyYW1zXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChibG9jay50eXBlID09PSBcImdpc3RcIikge1xuICAgICAgICAgIGlmICghc3JjLmVuZHNXaXRoKFwiLnBpYmJcIikpIHtcbiAgICAgICAgICAgIHNyYyA9IGAke3NyY30ucGliYmA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFzc2V0U3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gXCI1MCVcIjtcbiAgICAgICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIGpzeDE1KFxuICAgICAgICAgICAgXCJpZnJhbWVcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3R5bGU6IGFzc2V0U3R5bGUsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYXNzZXQtb2JqZWN0LWZpdFwiLFxuICAgICAgICAgICAgICBzcmMsXG4gICAgICAgICAgICAgIHRpdGxlOiBcIkdpdEh1YiBHaXN0XCIsXG4gICAgICAgICAgICAgIGZyYW1lQm9yZGVyOiBcIjBcIixcbiAgICAgICAgICAgICAgbG9hZGluZzogXCJsYXp5XCIsXG4gICAgICAgICAgICAgIHNjcm9sbGluZzogXCJhdXRvXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNyYyArPSBibG9jay50eXBlID09PSBcInR5cGVmb3JtXCIgPyBcIiZkaXNhYmxlLWF1dG8tZm9jdXM9dHJ1ZVwiIDogXCJcIjtcbiAgICAgICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIGpzeDE1KFxuICAgICAgICAgICAgXCJpZnJhbWVcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1hc3NldC1vYmplY3QtZml0XCIsXG4gICAgICAgICAgICAgIHN0eWxlOiBhc3NldFN0eWxlLFxuICAgICAgICAgICAgICBzcmMsXG4gICAgICAgICAgICAgIHRpdGxlOiBgaWZyYW1lICR7YmxvY2sudHlwZX1gLFxuICAgICAgICAgICAgICBmcmFtZUJvcmRlcjogXCIwXCIsXG4gICAgICAgICAgICAgIGFsbG93RnVsbFNjcmVlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgbG9hZGluZzogXCJsYXp5XCIsXG4gICAgICAgICAgICAgIHNjcm9sbGluZzogXCJhdXRvXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgIGlmIChzb3VyY2UuaW5jbHVkZXMoXCJmaWxlLm5vdGlvbi5zb1wiKSkge1xuICAgICAgc291cmNlID0gKF9rID0gKF9qID0gKF9pID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9pLnNvdXJjZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9qWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2tbMF07XG4gICAgfVxuICAgIGNvbnN0IHNyYyA9IG1hcEltYWdlVXJsKHNvdXJjZSwgYmxvY2spO1xuICAgIGNvbnN0IGNhcHRpb24gPSBnZXRUZXh0Q29udGVudCgoX2wgPSBibG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2wuY2FwdGlvbik7XG4gICAgY29uc3QgYWx0ID0gY2FwdGlvbiB8fCBcIm5vdGlvbiBpbWFnZVwiO1xuICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4MTUoXG4gICAgICBMYXp5SW1hZ2UsXG4gICAgICB7XG4gICAgICAgIHNyYyxcbiAgICAgICAgYWx0LFxuICAgICAgICB6b29tYWJsZSxcbiAgICAgICAgaGVpZ2h0OiBzdHlsZS5oZWlnaHQsXG4gICAgICAgIHN0eWxlOiBhc3NldFN0eWxlXG4gICAgICB9XG4gICAgKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxMChGcmFnbWVudDUsIHsgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4czEwKFwiZGl2XCIsIHsgc3R5bGUsIGNoaWxkcmVuOiBbXG4gICAgICBjb250ZW50LFxuICAgICAgYmxvY2sudHlwZSA9PT0gXCJpbWFnZVwiICYmIGNoaWxkcmVuXG4gICAgXSB9KSxcbiAgICBibG9jay50eXBlICE9PSBcImltYWdlXCIgJiYgY2hpbGRyZW5cbiAgXSB9KTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvYXNzZXQtd3JhcHBlci50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gxNiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIHVybFN0eWxlID0geyB3aWR0aDogXCIxMDAlXCIgfTtcbmZ1bmN0aW9uIEFzc2V0V3JhcHBlcih7XG4gIGJsb2NrSWQsXG4gIGJsb2NrXG59KSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2g7XG4gIGNvbnN0IHZhbHVlID0gYmxvY2s7XG4gIGNvbnN0IHsgY29tcG9uZW50cywgbWFwUGFnZVVybCwgcm9vdERvbWFpbiwgem9vbSB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBsZXQgaXNVUkwgPSBmYWxzZTtcbiAgaWYgKGJsb2NrLnR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgIGNvbnN0IGNhcHRpb24gPSAoX2MgPSAoX2IgPSAoX2EgPSB2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhcHRpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYlswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jWzBdO1xuICAgIGlmIChjYXB0aW9uKSB7XG4gICAgICBjb25zdCBpZCA9IHBhcnNlUGFnZUlkMihjYXB0aW9uLCB7IHV1aWQ6IHRydWUgfSk7XG4gICAgICBjb25zdCBpc1BhZ2UgPSBjYXB0aW9uLmNoYXJBdCgwKSA9PT0gXCIvXCIgJiYgaWQ7XG4gICAgICBpZiAoaXNQYWdlIHx8IGlzVmFsaWRVUkwoY2FwdGlvbikpIHtcbiAgICAgICAgaXNVUkwgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBmaWd1cmUgPSAvKiBAX19QVVJFX18gKi8ganN4MTYoXG4gICAgXCJmaWd1cmVcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IGNzKFxuICAgICAgICBcIm5vdGlvbi1hc3NldC13cmFwcGVyXCIsXG4gICAgICAgIGBub3Rpb24tYXNzZXQtd3JhcHBlci0ke2Jsb2NrLnR5cGV9YCxcbiAgICAgICAgKChfZCA9IHZhbHVlLmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmJsb2NrX2Z1bGxfd2lkdGgpICYmIFwibm90aW9uLWFzc2V0LXdyYXBwZXItZnVsbFwiLFxuICAgICAgICBibG9ja0lkXG4gICAgICApLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxNihBc3NldCwgeyBibG9jazogdmFsdWUsIHpvb21hYmxlOiB6b29tICYmICFpc1VSTCwgY2hpbGRyZW46ICgoX2UgPSB2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLmNhcHRpb24pICYmICFpc1VSTCAmJiAvKiBAX19QVVJFX18gKi8ganN4MTYoXCJmaWdjYXB0aW9uXCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1hc3NldC1jYXB0aW9uXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTYoVGV4dCwgeyB2YWx1ZTogdmFsdWUucHJvcGVydGllcy5jYXB0aW9uLCBibG9jayB9KSB9KSB9KVxuICAgIH1cbiAgKTtcbiAgaWYgKGlzVVJMKSB7XG4gICAgY29uc3QgY2FwdGlvbiA9IChfaCA9IChfZyA9IChfZiA9IHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZS5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2YuY2FwdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9nWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2hbMF07XG4gICAgY29uc3QgaWQgPSBwYXJzZVBhZ2VJZDIoY2FwdGlvbiwgeyB1dWlkOiB0cnVlIH0pO1xuICAgIGNvbnN0IGlzUGFnZSA9IChjYXB0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjYXB0aW9uLmNoYXJBdCgwKSkgPT09IFwiL1wiICYmIGlkO1xuICAgIGNvbnN0IGNhcHRpb25Ib3N0bmFtZSA9IGV4dHJhY3RIb3N0bmFtZShjYXB0aW9uKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDE2KFxuICAgICAgY29tcG9uZW50cy5QYWdlTGluayxcbiAgICAgIHtcbiAgICAgICAgc3R5bGU6IHVybFN0eWxlLFxuICAgICAgICBocmVmOiBpc1BhZ2UgPyBtYXBQYWdlVXJsKGlkKSA6IGNhcHRpb24sXG4gICAgICAgIHRhcmdldDogY2FwdGlvbkhvc3RuYW1lICYmIGNhcHRpb25Ib3N0bmFtZSAhPT0gcm9vdERvbWFpbiAmJiAhKGNhcHRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNhcHRpb24uc3RhcnRzV2l0aChcIi9cIikpID8gXCJibGFua19cIiA6IG51bGwsXG4gICAgICAgIGNoaWxkcmVuOiBmaWd1cmVcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIHJldHVybiBmaWd1cmU7XG59XG5mdW5jdGlvbiBpc1ZhbGlkVVJMKHN0cikge1xuICBjb25zdCBwYXR0ZXJuID0gbmV3IFJlZ0V4cChcbiAgICBcIl4oaHR0cHM/OlxcXFwvXFxcXC8pPygoKFthLXpcXFxcZF0oW2EtelxcXFxkLV0qW2EtelxcXFxkXSkqKVxcXFwuKStbYS16XXsyLH18KChcXFxcZHsxLDN9XFxcXC4pezN9XFxcXGR7MSwzfSkpKFxcXFw6XFxcXGQrKT8oXFxcXC9bLWEtelxcXFxkJV8ufitdKikqKFxcXFw/WzsmYS16XFxcXGQlXy5+Kz0tXSopPyhcXFxcI1stYS16XFxcXGRfXSopPyRcIixcbiAgICBcImlcIlxuICApO1xuICByZXR1cm4gISFwYXR0ZXJuLnRlc3Qoc3RyKTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RIb3N0bmFtZSh1cmwpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBob3N0bmFtZSA9IG5ldyBVUkwodXJsKS5ob3N0bmFtZTtcbiAgICByZXR1cm4gaG9zdG5hbWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxufVxuXG4vLyBzcmMvaWNvbnMvY2hlY2sudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MTcgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIFN2Z0NoZWNrKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTcoXCJzdmdcIiwgeyB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiLCAuLi5wcm9wcywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxNyhcInBhdGhcIiwgeyBkOiBcIk01LjUgMTJMMTQgMy41IDEyLjUgMmwtNyA3LTQtNC4wMDNMMCA2LjQ5OXpcIiB9KSB9KTtcbn1cbnZhciBjaGVja19kZWZhdWx0ID0gU3ZnQ2hlY2s7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NoZWNrYm94LnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDE4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBDaGVja2JveCh7XG4gIGlzQ2hlY2tlZFxufSkge1xuICBsZXQgY29udGVudCA9IG51bGw7XG4gIGlmIChpc0NoZWNrZWQpIHtcbiAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIGpzeDE4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1wcm9wZXJ0eS1jaGVja2JveC1jaGVja2VkXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTgoY2hlY2tfZGVmYXVsdCwge30pIH0pO1xuICB9IGVsc2Uge1xuICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4MTgoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLXByb3BlcnR5LWNoZWNrYm94LXVuY2hlY2tlZFwiIH0pO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTgoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1wcm9wZXJ0eSBub3Rpb24tcHJvcGVydHktY2hlY2tib3hcIiwgY2hpbGRyZW46IGNvbnRlbnQgfSk7XG59XG5cbi8vIHNyYy9uZXh0LnRzeFxuaW1wb3J0IFJlYWN0MTIgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgaXNFcXVhbCBmcm9tIFwicmVhY3QtZmFzdC1jb21wYXJlXCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MTkgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciB3cmFwTmV4dEltYWdlID0gKE5leHRJbWFnZSkgPT4ge1xuICByZXR1cm4gUmVhY3QxMi5tZW1vKGZ1bmN0aW9uIFJlYWN0Tm90aW9uWE5leHRJbWFnZSh7XG4gICAgc3JjLFxuICAgIGFsdCxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgY2xhc3NOYW1lLFxuICAgIGZpbGwsXG4gICAgLi4ucmVzdFxuICB9KSB7XG4gICAgaWYgKGZpbGwgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGZpbGwgPSAhKHdpZHRoICYmIGhlaWdodCk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTkoXG4gICAgICBOZXh0SW1hZ2UsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgc3JjLFxuICAgICAgICBhbHQsXG4gICAgICAgIHdpZHRoOiAhZmlsbCAmJiB3aWR0aCAmJiBoZWlnaHQgPyB3aWR0aCA6IHZvaWQgMCxcbiAgICAgICAgaGVpZ2h0OiAhZmlsbCAmJiB3aWR0aCAmJiBoZWlnaHQgPyBoZWlnaHQgOiB2b2lkIDAsXG4gICAgICAgIGZpbGwsXG4gICAgICAgIC4uLnJlc3RcbiAgICAgIH1cbiAgICApO1xuICB9LCBpc0VxdWFsKTtcbn07XG52YXIgd3JhcE5leHRMZWdhY3lJbWFnZSA9IChOZXh0TGVnYWN5SW1hZ2UpID0+IHtcbiAgcmV0dXJuIFJlYWN0MTIubWVtbyhmdW5jdGlvbiBSZWFjdE5vdGlvblhOZXh0TGVnYWN5SW1hZ2Uoe1xuICAgIHNyYyxcbiAgICBhbHQsXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIGNsYXNzTmFtZSxcbiAgICBzdHlsZSxcbiAgICBsYXlvdXQsXG4gICAgLi4ucmVzdFxuICB9KSB7XG4gICAgaWYgKCFsYXlvdXQpIHtcbiAgICAgIGxheW91dCA9IHdpZHRoICYmIGhlaWdodCA/IFwiaW50cmluc2ljXCIgOiBcImZpbGxcIjtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxOShcbiAgICAgIE5leHRMZWdhY3lJbWFnZSxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICBzcmMsXG4gICAgICAgIGFsdCxcbiAgICAgICAgd2lkdGg6IGxheW91dCA9PT0gXCJpbnRyaW5zaWNcIiAmJiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBsYXlvdXQgPT09IFwiaW50cmluc2ljXCIgJiYgaGVpZ2h0LFxuICAgICAgICBvYmplY3RGaXQ6IHN0eWxlID09IG51bGwgPyB2b2lkIDAgOiBzdHlsZS5vYmplY3RGaXQsXG4gICAgICAgIG9iamVjdFBvc2l0aW9uOiBzdHlsZSA9PSBudWxsID8gdm9pZCAwIDogc3R5bGUub2JqZWN0UG9zaXRpb24sXG4gICAgICAgIGxheW91dCxcbiAgICAgICAgLi4ucmVzdFxuICAgICAgfVxuICAgICk7XG4gIH0sIGlzRXF1YWwpO1xufTtcbmZ1bmN0aW9uIHdyYXBOZXh0TGluayhOZXh0TGluaykge1xuICByZXR1cm4gKHtcbiAgICBocmVmLFxuICAgIGFzLFxuICAgIHBhc3NIcmVmLFxuICAgIHByZWZldGNoLFxuICAgIHJlcGxhY2UsXG4gICAgc2Nyb2xsLFxuICAgIHNoYWxsb3csXG4gICAgbG9jYWxlLFxuICAgIC4uLmxpbmtQcm9wc1xuICB9KSA9PiB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxOShcbiAgICAgIE5leHRMaW5rLFxuICAgICAge1xuICAgICAgICBocmVmLFxuICAgICAgICBhcyxcbiAgICAgICAgcGFzc0hyZWYsXG4gICAgICAgIHByZWZldGNoLFxuICAgICAgICByZXBsYWNlLFxuICAgICAgICBzY3JvbGwsXG4gICAgICAgIHNoYWxsb3csXG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgbGVnYWN5QmVoYXZpb3I6IHRydWUsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTkoXCJhXCIsIHsgLi4ubGlua1Byb3BzIH0pXG4gICAgICB9XG4gICAgKTtcbiAgfTtcbn1cblxuLy8gc3JjL2NvbnRleHQudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MjAgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIERlZmF1bHRMaW5rKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjAoXCJhXCIsIHsgdGFyZ2V0OiBcIl9ibGFua1wiLCByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiLCAuLi5wcm9wcyB9KTtcbn1cbnZhciBEZWZhdWx0TGlua01lbW8gPSBSZWFjdDEzLm1lbW8oRGVmYXVsdExpbmspO1xuZnVuY3Rpb24gRGVmYXVsdFBhZ2VMaW5rKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjAoXCJhXCIsIHsgLi4ucHJvcHMgfSk7XG59XG52YXIgRGVmYXVsdFBhZ2VMaW5rTWVtbyA9IFJlYWN0MTMubWVtbyhEZWZhdWx0UGFnZUxpbmspO1xuZnVuY3Rpb24gRGVmYXVsdEVtYmVkKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjAoQXNzZXRXcmFwcGVyLCB7IC4uLnByb3BzIH0pO1xufVxudmFyIERlZmF1bHRIZWFkZXIgPSBIZWFkZXI7XG5mdW5jdGlvbiBkdW1teUxpbmsoeyBocmVmLCByZWwsIHRhcmdldCwgdGl0bGUsIC4uLnJlc3QgfSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIwKFwic3BhblwiLCB7IC4uLnJlc3QgfSk7XG59XG52YXIgZHVtbXlDb21wb25lbnQgPSAobmFtZSkgPT4gKCkgPT4ge1xuICBjb25zb2xlLndhcm4oXG4gICAgYFdhcm5pbmc6IHVzaW5nIGVtcHR5IGNvbXBvbmVudCBcIiR7bmFtZX1cIiAoeW91IHNob3VsZCBvdmVycmlkZSB0aGlzIGluIE5vdGlvblJlbmRlcmVyLmNvbXBvbmVudHMpYFxuICApO1xuICByZXR1cm4gbnVsbDtcbn07XG52YXIgZHVtbXlPdmVycmlkZUZuID0gKF8sIGRlZmF1bHRWYWx1ZUZuKSA9PiBkZWZhdWx0VmFsdWVGbigpO1xudmFyIGRlZmF1bHRDb21wb25lbnRzID0ge1xuICBJbWFnZTogbnVsbCxcbiAgLy8gZGlzYWJsZSBjdXN0b20gaW1hZ2VzIGJ5IGRlZmF1bHRcbiAgTGluazogRGVmYXVsdExpbmtNZW1vLFxuICBQYWdlTGluazogRGVmYXVsdFBhZ2VMaW5rTWVtbyxcbiAgQ2hlY2tib3gsXG4gIENhbGxvdXQ6IHZvaWQgMCxcbiAgLy8gdXNlIHRoZSBidWlsdC1pbiBjYWxsb3V0IHJlbmRlcmluZyBieSBkZWZhdWx0XG4gIENvZGU6IGR1bW15Q29tcG9uZW50KFwiQ29kZVwiKSxcbiAgRXF1YXRpb246IGR1bW15Q29tcG9uZW50KFwiRXF1YXRpb25cIiksXG4gIENvbGxlY3Rpb246IGR1bW15Q29tcG9uZW50KFwiQ29sbGVjdGlvblwiKSxcbiAgUHJvcGVydHk6IHZvaWQgMCxcbiAgLy8gdXNlIHRoZSBidWlsdC1pbiBwcm9wZXJ0eSByZW5kZXJpbmcgYnkgZGVmYXVsdFxuICBwcm9wZXJ0eVRleHRWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eVNlbGVjdFZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5UmVsYXRpb25WYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eUZvcm11bGFWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eVRpdGxlVmFsdWU6IGR1bW15T3ZlcnJpZGVGbixcbiAgcHJvcGVydHlQZXJzb25WYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eUZpbGVWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eUNoZWNrYm94VmFsdWU6IGR1bW15T3ZlcnJpZGVGbixcbiAgcHJvcGVydHlVcmxWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eUVtYWlsVmFsdWU6IGR1bW15T3ZlcnJpZGVGbixcbiAgcHJvcGVydHlQaG9uZU51bWJlclZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5TnVtYmVyVmFsdWU6IGR1bW15T3ZlcnJpZGVGbixcbiAgcHJvcGVydHlMYXN0RWRpdGVkVGltZVZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5Q3JlYXRlZFRpbWVWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eURhdGVWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eUF1dG9JbmNyZW1lbnRJZFZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIFBkZjogZHVtbXlDb21wb25lbnQoXCJQZGZcIiksXG4gIFR3ZWV0OiBkdW1teUNvbXBvbmVudChcIlR3ZWV0XCIpLFxuICBNb2RhbDogZHVtbXlDb21wb25lbnQoXCJNb2RhbFwiKSxcbiAgSGVhZGVyOiBEZWZhdWx0SGVhZGVyLFxuICBFbWJlZDogRGVmYXVsdEVtYmVkXG59O1xudmFyIGRlZmF1bHROb3Rpb25Db250ZXh0ID0ge1xuICByZWNvcmRNYXA6IHtcbiAgICBibG9jazoge30sXG4gICAgY29sbGVjdGlvbjoge30sXG4gICAgY29sbGVjdGlvbl92aWV3OiB7fSxcbiAgICBjb2xsZWN0aW9uX3F1ZXJ5OiB7fSxcbiAgICBub3Rpb25fdXNlcjoge30sXG4gICAgc2lnbmVkX3VybHM6IHt9XG4gIH0sXG4gIGNvbXBvbmVudHM6IGRlZmF1bHRDb21wb25lbnRzLFxuICBtYXBQYWdlVXJsOiBkZWZhdWx0TWFwUGFnZVVybCgpLFxuICBtYXBJbWFnZVVybDogZGVmYXVsdE1hcEltYWdlVXJsLFxuICBzZWFyY2hOb3Rpb246IHZvaWQgMCxcbiAgaXNTaG93aW5nU2VhcmNoOiBmYWxzZSxcbiAgb25IaWRlU2VhcmNoOiB2b2lkIDAsXG4gIGZ1bGxQYWdlOiBmYWxzZSxcbiAgZGFya01vZGU6IGZhbHNlLFxuICBwcmV2aWV3SW1hZ2VzOiBmYWxzZSxcbiAgZm9yY2VDdXN0b21JbWFnZXM6IGZhbHNlLFxuICBzaG93Q29sbGVjdGlvblZpZXdEcm9wZG93bjogdHJ1ZSxcbiAgbGlua1RhYmxlVGl0bGVQcm9wZXJ0aWVzOiB0cnVlLFxuICBpc0xpbmtDb2xsZWN0aW9uVG9VcmxQcm9wZXJ0eTogZmFsc2UsXG4gIHNob3dUYWJsZU9mQ29udGVudHM6IGZhbHNlLFxuICBtaW5UYWJsZU9mQ29udGVudHNJdGVtczogMyxcbiAgZGVmYXVsdFBhZ2VJY29uOiBudWxsLFxuICBkZWZhdWx0UGFnZUNvdmVyOiBudWxsLFxuICBkZWZhdWx0UGFnZUNvdmVyUG9zaXRpb246IDAuNSxcbiAgem9vbTogbnVsbFxufTtcbnZhciBjdHggPSBSZWFjdDEzLmNyZWF0ZUNvbnRleHQoZGVmYXVsdE5vdGlvbkNvbnRleHQpO1xuZnVuY3Rpb24gTm90aW9uQ29udGV4dFByb3ZpZGVyKHtcbiAgY29tcG9uZW50czogdGhlbWVDb21wb25lbnRzID0ge30sXG4gIGNoaWxkcmVuLFxuICBtYXBQYWdlVXJsLFxuICBtYXBJbWFnZVVybCxcbiAgcm9vdFBhZ2VJZCxcbiAgLi4ucmVzdFxufSkge1xuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhyZXN0KSkge1xuICAgIGlmIChyZXN0W2tleV0gPT09IHZvaWQgMCkge1xuICAgICAgZGVsZXRlIHJlc3Rba2V5XTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgd3JhcHBlZFRoZW1lQ29tcG9uZW50cyA9IFJlYWN0MTMudXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgLi4udGhlbWVDb21wb25lbnRzXG4gICAgfSksXG4gICAgW3RoZW1lQ29tcG9uZW50c11cbiAgKTtcbiAgaWYgKHdyYXBwZWRUaGVtZUNvbXBvbmVudHMubmV4dEltYWdlICYmIHdyYXBwZWRUaGVtZUNvbXBvbmVudHMubmV4dExlZ2FjeUltYWdlKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgXCJZb3Ugc2hvdWxkIG5vdCBwYXNzIGJvdGggbmV4dEltYWdlIGFuZCBuZXh0TGVnYWN5SW1hZ2UuIE9ubHkgbmV4dEltYWdlIGNvbXBvbmVudCB3aWxsIGJlIHVzZWQuXCJcbiAgICApO1xuICAgIHdyYXBwZWRUaGVtZUNvbXBvbmVudHMuSW1hZ2UgPSB3cmFwTmV4dEltYWdlKHRoZW1lQ29tcG9uZW50cy5uZXh0SW1hZ2UpO1xuICB9IGVsc2UgaWYgKHdyYXBwZWRUaGVtZUNvbXBvbmVudHMubmV4dEltYWdlKSB7XG4gICAgd3JhcHBlZFRoZW1lQ29tcG9uZW50cy5JbWFnZSA9IHdyYXBOZXh0SW1hZ2UodGhlbWVDb21wb25lbnRzLm5leHRJbWFnZSk7XG4gIH0gZWxzZSBpZiAod3JhcHBlZFRoZW1lQ29tcG9uZW50cy5uZXh0TGVnYWN5SW1hZ2UpIHtcbiAgICB3cmFwcGVkVGhlbWVDb21wb25lbnRzLkltYWdlID0gd3JhcE5leHRMZWdhY3lJbWFnZShcbiAgICAgIHRoZW1lQ29tcG9uZW50cy5uZXh0TGVnYWN5SW1hZ2VcbiAgICApO1xuICB9XG4gIGlmICh3cmFwcGVkVGhlbWVDb21wb25lbnRzLm5leHRMaW5rKSB7XG4gICAgd3JhcHBlZFRoZW1lQ29tcG9uZW50cy5uZXh0TGluayA9IHdyYXBOZXh0TGluayh0aGVtZUNvbXBvbmVudHMubmV4dExpbmspO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHdyYXBwZWRUaGVtZUNvbXBvbmVudHMpKSB7XG4gICAgaWYgKCF3cmFwcGVkVGhlbWVDb21wb25lbnRzW2tleV0pIHtcbiAgICAgIGRlbGV0ZSB3cmFwcGVkVGhlbWVDb21wb25lbnRzW2tleV07XG4gICAgfVxuICB9XG4gIGNvbnN0IHZhbHVlID0gUmVhY3QxMy51c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICAuLi5kZWZhdWx0Tm90aW9uQ29udGV4dCxcbiAgICAgIC4uLnJlc3QsXG4gICAgICByb290UGFnZUlkLFxuICAgICAgbWFwUGFnZVVybDogbWFwUGFnZVVybCAhPSBudWxsID8gbWFwUGFnZVVybCA6IGRlZmF1bHRNYXBQYWdlVXJsKHJvb3RQYWdlSWQpLFxuICAgICAgbWFwSW1hZ2VVcmw6IG1hcEltYWdlVXJsICE9IG51bGwgPyBtYXBJbWFnZVVybCA6IGRlZmF1bHRNYXBJbWFnZVVybCxcbiAgICAgIGNvbXBvbmVudHM6IHsgLi4uZGVmYXVsdENvbXBvbmVudHMsIC4uLndyYXBwZWRUaGVtZUNvbXBvbmVudHMgfVxuICAgIH0pLFxuICAgIFttYXBJbWFnZVVybCwgbWFwUGFnZVVybCwgd3JhcHBlZFRoZW1lQ29tcG9uZW50cywgcm9vdFBhZ2VJZCwgcmVzdF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyMChjdHguUHJvdmlkZXIsIHsgdmFsdWUsIGNoaWxkcmVuIH0pO1xufVxudmFyIE5vdGlvbkNvbnRleHRDb25zdW1lciA9IGN0eC5Db25zdW1lcjtcbnZhciB1c2VOb3Rpb25Db250ZXh0ID0gKCkgPT4ge1xuICByZXR1cm4gUmVhY3QxMy51c2VDb250ZXh0KGN0eCk7XG59O1xuXG4vLyBzcmMvaWNvbnMvZGVmYXVsdC1wYWdlLWljb24udHN4XG5pbXBvcnQgXCJyZWFjdFwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDIxIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBEZWZhdWx0UGFnZUljb24ocHJvcHMpIHtcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLnJlc3QgfSA9IHByb3BzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIxKFwic3ZnXCIsIHsgY2xhc3NOYW1lLCAuLi5yZXN0LCB2aWV3Qm94OiBcIjAgMCAzMCAzMFwiLCB3aWR0aDogXCIxNlwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIxKFwicGF0aFwiLCB7IGQ6IFwiTTE2LDFINHYyOGgyMlYxMUwxNiwxeiBNMTYsMy44MjhMMjMuMTcyLDExSDE2VjMuODI4eiBNMjQsMjdINlYzaDh2MTBoMTBWMjd6IE04LDE3aDE0di0ySDhWMTd6IE04LDIxaDE0di0ySDhWMjF6IE04LDI1aDE0di0ySDhWMjV6XCIgfSkgfSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhZ2UtaWNvbi50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gyMiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGlzSWNvbkJsb2NrID0gKHZhbHVlKSA9PiB7XG4gIHJldHVybiB2YWx1ZS50eXBlID09PSBcInBhZ2VcIiB8fCB2YWx1ZS50eXBlID09PSBcImNhbGxvdXRcIiB8fCB2YWx1ZS50eXBlID09PSBcImNvbGxlY3Rpb25fdmlld1wiIHx8IHZhbHVlLnR5cGUgPT09IFwiY29sbGVjdGlvbl92aWV3X3BhZ2VcIjtcbn07XG5mdW5jdGlvbiBQYWdlSWNvbkltcGwoe1xuICBibG9jayxcbiAgY2xhc3NOYW1lLFxuICBpbmxpbmUgPSB0cnVlLFxuICBoaWRlRGVmYXVsdEljb24gPSBmYWxzZSxcbiAgZGVmYXVsdEljb25cbn0pIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7IG1hcEltYWdlVXJsLCByZWNvcmRNYXAsIGRhcmtNb2RlIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIGxldCBpc0ltYWdlID0gZmFsc2U7XG4gIGxldCBjb250ZW50ID0gbnVsbDtcbiAgaWYgKGlzSWNvbkJsb2NrKGJsb2NrKSkge1xuICAgIGNvbnN0IGljb24gPSAoKF9hID0gZ2V0QmxvY2tJY29uKGJsb2NrLCByZWNvcmRNYXApKSA9PSBudWxsID8gdm9pZCAwIDogX2EudHJpbSgpKSB8fCBkZWZhdWx0SWNvbjtcbiAgICBjb25zdCB0aXRsZSA9IGdldEJsb2NrVGl0bGUzKGJsb2NrLCByZWNvcmRNYXApO1xuICAgIGlmIChpY29uICYmIGlzVXJsKGljb24pKSB7XG4gICAgICBjb25zdCB1cmwgPSBtYXBJbWFnZVVybChpY29uLCBibG9jayk7XG4gICAgICBpc0ltYWdlID0gdHJ1ZTtcbiAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4MjIoXG4gICAgICAgIExhenlJbWFnZSxcbiAgICAgICAge1xuICAgICAgICAgIHNyYzogdXJsLFxuICAgICAgICAgIGFsdDogdGl0bGUgfHwgXCJwYWdlIGljb25cIixcbiAgICAgICAgICBjbGFzc05hbWU6IGNzKGNsYXNzTmFtZSwgXCJub3Rpb24tcGFnZS1pY29uXCIpXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChpY29uICYmIGljb24uc3RhcnRzV2l0aChcIi9pY29ucy9cIikpIHtcbiAgICAgIGNvbnN0IHVybCA9IFwiaHR0cHM6Ly93d3cubm90aW9uLnNvXCIgKyBpY29uICsgXCI/bW9kZT1cIiArIChkYXJrTW9kZSA/IFwiZGFya1wiIDogXCJsaWdodFwiKTtcbiAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4MjIoXG4gICAgICAgIExhenlJbWFnZSxcbiAgICAgICAge1xuICAgICAgICAgIHNyYzogdXJsLFxuICAgICAgICAgIGFsdDogdGl0bGUgfHwgXCJwYWdlIGljb25cIixcbiAgICAgICAgICBjbGFzc05hbWU6IGNzKGNsYXNzTmFtZSwgXCJub3Rpb24tcGFnZS1pY29uXCIpXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICghaWNvbikge1xuICAgICAgaWYgKCFoaWRlRGVmYXVsdEljb24pIHtcbiAgICAgICAgaXNJbWFnZSA9IHRydWU7XG4gICAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4MjIoXG4gICAgICAgICAgRGVmYXVsdFBhZ2VJY29uLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY3MoY2xhc3NOYW1lLCBcIm5vdGlvbi1wYWdlLWljb25cIiksXG4gICAgICAgICAgICBhbHQ6IHRpdGxlIHx8IFwicGFnZSBpY29uXCJcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlzSW1hZ2UgPSBmYWxzZTtcbiAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4MjIoXG4gICAgICAgIFwic3BhblwiLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjcyhjbGFzc05hbWUsIFwibm90aW9uLXBhZ2UtaWNvblwiKSxcbiAgICAgICAgICByb2xlOiBcImltZ1wiLFxuICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOiBpY29uLFxuICAgICAgICAgIGNoaWxkcmVuOiBpY29uXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGlmICghY29udGVudCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjIoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IGNzKFxuICAgICAgICBpbmxpbmUgPyBcIm5vdGlvbi1wYWdlLWljb24taW5saW5lXCIgOiBcIm5vdGlvbi1wYWdlLWljb24taGVyb1wiLFxuICAgICAgICBpc0ltYWdlID8gXCJub3Rpb24tcGFnZS1pY29uLWltYWdlXCIgOiBcIm5vdGlvbi1wYWdlLWljb24tc3BhblwiXG4gICAgICApLFxuICAgICAgY2hpbGRyZW46IGNvbnRlbnRcbiAgICB9XG4gICk7XG59XG52YXIgUGFnZUljb24gPSBSZWFjdDE1Lm1lbW8oUGFnZUljb25JbXBsKTtcblxuLy8gc3JjL2ljb25zL2NvbGxlY3Rpb24tdmlldy1pY29uLnRzeFxuaW1wb3J0IFwibm90aW9uLXR5cGVzXCI7XG5cbi8vIHNyYy9pY29ucy9jb2xsZWN0aW9uLXZpZXctYm9hcmQudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MjMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIFN2Z0NvbGxlY3Rpb25WaWV3Qm9hcmQocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyMyhcInN2Z1wiLCB7IHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsIC4uLnByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIzKFwicGF0aFwiLCB7IGQ6IFwiTTEyIDEuNUgyYS41LjUgMCAwMC0uNS41djEwYS41LjUgMCAwMC41LjVoMTBhLjUuNSAwIDAwLjUtLjVWMmEuNS41IDAgMDAtLjUtLjV6TTIgMGgxMGEyIDIgMCAwMTIgMnYxMGEyIDIgMCAwMS0yIDJIMmEyIDIgMCAwMS0yLTJWMmEyIDIgMCAwMTItMnptMSAzaDJ2NkgzVjN6bTMgMGgydjhINlYzem0zIDBoMnY0SDlWM3pcIiB9KSB9KTtcbn1cbnZhciBjb2xsZWN0aW9uX3ZpZXdfYm9hcmRfZGVmYXVsdCA9IFN2Z0NvbGxlY3Rpb25WaWV3Qm9hcmQ7XG5cbi8vIHNyYy9pY29ucy9jb2xsZWN0aW9uLXZpZXctY2FsZW5kYXIudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MjQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIFN2Z0NvbGxlY3Rpb25WaWV3Q2FsZW5kYXIocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyNChcInN2Z1wiLCB7IHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsIC4uLnByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDI0KFwicGF0aFwiLCB7IGQ6IFwiTTIuNTY0IDQuMDA0Yy0uNTg2IDAtLjcxLjAyNC0uODMzLjA5YS4zMTkuMzE5IDAgMDAtLjE0MS4xNGMtLjA2Ni4xMjQtLjA5LjI0Ny0uMDkuODM0djYuMzY4YzAgLjU4Ni4wMjQuNzEuMDkuODMzYS4zMTkuMzE5IDAgMDAuMTQuMTQxYy4xMjQuMDY2LjI0OC4wOS44MzQuMDloOC44NzJjLjU4NiAwIC43MS0uMDI0LjgzMy0uMDlhLjMxOS4zMTkgMCAwMC4xNDEtLjE0Yy4wNjYtLjEyNC4wOS0uMjQ4LjA5LS44MzRWNS4wNjhjMC0uNTg3LS4wMjQtLjcxLS4wOS0uODM0YS4zMTkuMzE5IDAgMDAtLjE0LS4xNGMtLjEyNC0uMDY2LS4yNDgtLjA5LS44MzQtLjA5SDIuNTY0em0wLTQuMDA0aDguODcyYy44OTIgMCAxLjIxNS4wOTMgMS41NC4yNjcuMzI3LjE3NC41ODMuNDMuNzU3Ljc1Ni4xNzQuMzI2LjI2Ny42NS4yNjcgMS41NHY4Ljg3M2MwIC44OTItLjA5MyAxLjIxNS0uMjY3IDEuNTQtLjE3NC4zMjctLjQzLjU4My0uNzU2Ljc1Ny0uMzI2LjE3NC0uNjUuMjY3LTEuNTQuMjY3SDIuNTYzYy0uODkyIDAtMS4yMTUtLjA5My0xLjU0LS4yNjdhMS44MTcgMS44MTcgMCAwMS0uNzU3LS43NTZDLjA5MyAxMi42NSAwIDEyLjMyNyAwIDExLjQzN1YyLjU2M2MwLS44OTIuMDkzLTEuMjE1LjI2Ny0xLjU0LjE3NC0uMzI3LjQzLS41ODMuNzU2LS43NTdDMS4zNS4wOTMgMS42NzMgMCAyLjU2MyAwem00LjA0NCA3Ljg4Yy4xNzkuMTEuMzE4LjI1Ni40MTguNDM2LjEuMTguMTQ4LjM5NC4xNDguNjQgMCAuMzA0LS4wOC41OTctLjIzOC44NzYtLjE2LjI4LS4zOTIuNDk4LS42OTIuNjUtLjI5OS4xNS0uNjg1LjIyNC0xLjE2LjIyNC0uNDYgMC0uODI3LS4wNTUtMS4xLS4xNjZhMS42ODcgMS42ODcgMCAwMS0uNjgtLjQ5MiAyLjIyNyAyLjIyNyAwIDAxLS40MDQtLjgwMmwuMDgzLS4xMjcgMS4zNy0uMTgyLjExMi4wOGMuMDUuMjU4LjEyNi40MzEuMjIxLjUyYS41MDcuNTA3IDAgMDAuMzY0LjEzMy40OTUuNDk1IDAgMDAuMzg2LS4xNjljLjEwNS0uMTE1LjE1OC0uMjcuMTU4LS40NzIgMC0uMjA1LS4wNTEtLjM1OC0uMTUtLjQ2M2EuNTI3LjUyNyAwIDAwLS40MDctLjE1NyAxLjY1IDEuNjUgMCAwMC0uNDE3LjA3N2wtLjEyNy0uMTA0LjA3LS45OC4xMTUtLjA5MWMuMDcyLjAxLjEyNy4wMTUuMTY0LjAxNS4xNTQgMCAuMjgtLjA0Ny4zOC0uMTQ0LjEtLjA5Ni4xNS0uMjA1LjE1LS4zMzVhLjM4OC4zODggMCAwMC0uMTA2LS4yOWMtLjA3LS4wNy0uMTY4LS4xMDUtLjMtLjEwNWEuNDQ0LjQ0NCAwIDAwLS4zMjQuMTE4Yy0uMDgzLjA4LS4xNDMuMjMyLS4xNzYuNDU3bC0uMTE3LjA4NC0xLjI5Ny0uMjMzLS4wNzktLjEyM2MuMTE0LS40MzUuMzM0LS43NzIuNjYtMS4wMDYuMzI2LS4yMzQuNzgtLjM0OSAxLjM2LS4zNDkuNjY2IDAgMS4xNTMuMTI2IDEuNDYyLjM4NC4zMS4yNTkuNDY3LjU4OS40NjcuOTgyIDAgLjIzMy0uMDY0LjQ0Ni0uMTkyLjYzNmExLjQzIDEuNDMgMCAwMS0uMzcuMzY1Yy4xLjAzNC4xODIuMDcyLjI0OC4xMTN6bTEuNzQ3LS4xNDVhNS4xODYgNS4xODYgMCAwMS0uODA2LjMxbC0uMTI5LS4wOTdWNi44MjRsLjA3LS4wOTZjLjQ1NS0uMTQ3LjgwNy0uMzIyIDEuMDU1LS41MjQuMjQ2LS4yMDIuNDM5LS40NS41NzktLjc0N2wuMDktLjA1N2gxLjEzNWwuMS4xdjUuMDIxbC0uMS4xSDguOTYxbC0uMS0uMVY3LjQyOGE0LjA1MyA0LjA1MyAwIDAxLS41MDYuMzA3elwiIH0pIH0pO1xufVxudmFyIGNvbGxlY3Rpb25fdmlld19jYWxlbmRhcl9kZWZhdWx0ID0gU3ZnQ29sbGVjdGlvblZpZXdDYWxlbmRhcjtcblxuLy8gc3JjL2ljb25zL2NvbGxlY3Rpb24tdmlldy1nYWxsZXJ5LnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDI1IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBTdmdDb2xsZWN0aW9uVmlld0dhbGxlcnkocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyNShcInN2Z1wiLCB7IHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsIC4uLnByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDI1KFwicGF0aFwiLCB7IGQ6IFwiTTEyIDEuNUgyYS41LjUgMCAwMC0uNS41djEwYS41LjUgMCAwMC41LjVoMTBhLjUuNSAwIDAwLjUtLjVWMmEuNS41IDAgMDAtLjUtLjV6TTIgMGgxMGEyIDIgMCAwMTIgMnYxMGEyIDIgMCAwMS0yIDJIMmEyIDIgMCAwMS0yLTJWMmEyIDIgMCAwMTItMnptMSAzaDMuNXYzLjVIM1Yzem00LjUgMEgxMXYzLjVINy41VjN6TTMgNy41aDMuNVYxMUgzVjcuNXptNC41IDBIMTFWMTFINy41VjcuNXpcIiB9KSB9KTtcbn1cbnZhciBjb2xsZWN0aW9uX3ZpZXdfZ2FsbGVyeV9kZWZhdWx0ID0gU3ZnQ29sbGVjdGlvblZpZXdHYWxsZXJ5O1xuXG4vLyBzcmMvaWNvbnMvY29sbGVjdGlvbi12aWV3LWxpc3QudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MjYgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIFN2Z0NvbGxlY3Rpb25WaWV3TGlzdChwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI2KFwic3ZnXCIsIHsgdmlld0JveDogXCIwIDAgMTQgMTRcIiwgLi4ucHJvcHMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjYoXCJwYXRoXCIsIHsgZDogXCJNMTIgMS41SDJhLjUuNSAwIDAwLS41LjV2MTBhLjUuNSAwIDAwLjUuNWgxMGEuNS41IDAgMDAuNS0uNVYyYS41LjUgMCAwMC0uNS0uNXpNMiAwaDEwYTIgMiAwIDAxMiAydjEwYTIgMiAwIDAxLTIgMkgyYTIgMiAwIDAxLTItMlYyYTIgMiAwIDAxMi0yem0xIDNoNnYxLjVIM1Yzem0wIDIuNWg4VjdIM1Y1LjV6TTMgOGg0djEuNUgzVjh6XCIgfSkgfSk7XG59XG52YXIgY29sbGVjdGlvbl92aWV3X2xpc3RfZGVmYXVsdCA9IFN2Z0NvbGxlY3Rpb25WaWV3TGlzdDtcblxuLy8gc3JjL2ljb25zL2NvbGxlY3Rpb24tdmlldy10YWJsZS50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gyNyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gU3ZnQ29sbGVjdGlvblZpZXdUYWJsZShwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI3KFwic3ZnXCIsIHsgdmlld0JveDogXCIwIDAgMTQgMTRcIiwgLi4ucHJvcHMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjcoXCJwYXRoXCIsIHsgZDogXCJNMiAwaDEwYTIgMiAwIDAxMiAydjEwYTIgMiAwIDAxLTIgMkgyYTIgMiAwIDAxLTItMlYyYTIgMiAwIDAxMi0yem0zLjc1IDUuNjd2Mi42Nmg2Ljc1VjUuNjdINS43NXptMCA0LjE3djIuNjZoNS43NWExIDEgMCAwMDEtMVY5Ljg0SDUuNzV6TTEuNSA1LjY3djIuNjZoMi43NVY1LjY3SDEuNXptMCA0LjE3djEuNjZhMSAxIDAgMDAxIDFoMS43NVY5Ljg0SDEuNXptMS04LjM0YTEgMSAwIDAwLTEgMXYxLjY2aDIuNzVWMS41SDIuNXptMy4yNSAwdjIuNjZoNi43NVYyLjVhMSAxIDAgMDAtMS0xSDUuNzV6XCIgfSkgfSk7XG59XG52YXIgY29sbGVjdGlvbl92aWV3X3RhYmxlX2RlZmF1bHQgPSBTdmdDb2xsZWN0aW9uVmlld1RhYmxlO1xuXG4vLyBzcmMvaWNvbnMvY29sbGVjdGlvbi12aWV3LWljb24udHN4XG52YXIgaWNvbk1hcCA9IHtcbiAgdGFibGU6IGNvbGxlY3Rpb25fdmlld190YWJsZV9kZWZhdWx0LFxuICBib2FyZDogY29sbGVjdGlvbl92aWV3X2JvYXJkX2RlZmF1bHQsXG4gIGdhbGxlcnk6IGNvbGxlY3Rpb25fdmlld19nYWxsZXJ5X2RlZmF1bHQsXG4gIGxpc3Q6IGNvbGxlY3Rpb25fdmlld19saXN0X2RlZmF1bHQsXG4gIGNhbGVuZGFyOiBjb2xsZWN0aW9uX3ZpZXdfY2FsZW5kYXJfZGVmYXVsdFxufTtcbmZ1bmN0aW9uIENvbGxlY3Rpb25WaWV3SWNvbih7IHR5cGUsIC4uLnJlc3QgfSkge1xuICBjb25zdCBpY29uID0gaWNvbk1hcFt0eXBlXTtcbiAgaWYgKCFpY29uKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGljb24ocmVzdCk7XG59XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXJvdy50c3hcbmltcG9ydCBcIm5vdGlvbi10eXBlc1wiO1xuXG4vLyBzcmMvdGhpcmQtcGFydHkvY29sbGVjdGlvbi1jb2x1bW4tdGl0bGUudHN4XG5pbXBvcnQgXCJub3Rpb24tdHlwZXNcIjtcblxuLy8gc3JjL2ljb25zL3Byb3BlcnR5LWljb24udHN4XG5pbXBvcnQgXCJub3Rpb24tdHlwZXNcIjtcblxuLy8gc3JjL2ljb25zL3R5cGUtYXV0by1pbmNyZW1lbnQtaWQudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MjggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVBdXRvSW5jcmVtZW50SWQocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyOChcInN2Z1wiLCB7IHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsIC4uLnByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDI4KFwicGF0aFwiLCB7IGQ6IFwiTTEyLjI1MiA3LjkyMDlDMTMuNzIxNyA3LjkyMDkgMTQuNzI2NiA2LjkzNjUyIDE0LjcyNjYgNS41MDc4MUMxNC43MjY2IDQuMDc5MSAxMy43MjE3IDMuMTAxNTYgMTIuMjUyIDMuMTAxNTZDMTAuODIzMiAzLjEwMTU2IDkuODQ1NyA0LjA3OTEgOS44NDU3IDUuNTA3ODFDOS44NDU3IDYuOTM2NTIgMTAuODMwMSA3LjkyMDkgMTIuMjUyIDcuOTIwOVpNMi4wMDQ4OCAxMy4xMzY3QzIuNDU2MDUgMTMuMTM2NyAyLjcyOTQ5IDEyLjg0OTYgMi43Mjk0OSAxMi4zODQ4VjUuODM1OTRMNy4zNTA1OSAxMi41OTY3QzcuNjM3NyAxMi45OTMyIDcuODYzMjggMTMuMTM2NyA4LjIwNTA4IDEzLjEzNjdDOC42OTA0MyAxMy4xMzY3IDguOTYzODcgMTIuODM1OSA4Ljk2Mzg3IDEyLjMyMzJWMy44ODc3QzguOTYzODcgMy40MjI4NSA4LjY5MDQzIDMuMTI4OTEgOC4yMzI0MiAzLjEyODkxQzcuNzg4MDkgMy4xMjg5MSA3LjUwNzgxIDMuNDE2MDIgNy41MDc4MSAzLjg4NzdWMTAuNDIyOUwyLjg5MzU1IDMuNjY4OTVDMi42MDY0NSAzLjI1ODc5IDIuNDAxMzcgMy4xMjg5MSAyLjAzOTA2IDMuMTI4OTFDMS41NjczOCAzLjEyODkxIDEuMjczNDQgMy40NTAyIDEuMjczNDQgMy45NDIzOFYxMi4zODQ4QzEuMjczNDQgMTIuODQ5NiAxLjU1MzcxIDEzLjEzNjcgMi4wMDQ4OCAxMy4xMzY3Wk0xMi4yNTIgNi44NDc2NkMxMS41NjE1IDYuODQ3NjYgMTEuMDg5OCA2LjMwNzYyIDExLjA4OTggNS41MDc4MUMxMS4wODk4IDQuNzA4MDEgMTEuNTYxNSA0LjE2Nzk3IDEyLjI1MiA0LjE2Nzk3QzEyLjk5MDIgNC4xNjc5NyAxMy40NzU2IDQuNzA4MDEgMTMuNDc1NiA1LjUwNzgxQzEzLjQ3NTYgNi4zMDc2MiAxMi45ODM0IDYuODQ3NjYgMTIuMjUyIDYuODQ3NjZaTTEwLjYyNSA5Ljc3MzQ0SDEzLjk1NDFDMTQuMzUwNiA5Ljc3MzQ0IDE0LjYyNCA5LjU0MTAyIDE0LjYyNCA5LjE0NDUzQzE0LjYyNCA4Ljc0ODA1IDE0LjM1MDYgOC41MDE5NSAxMy45NTQxIDguNTAxOTVIMTAuNjI1QzEwLjIyODUgOC41MDE5NSA5Ljk2MTkxIDguNzQ4MDUgOS45NjE5MSA5LjE0NDUzQzkuOTYxOTEgOS41NDEwMiAxMC4yMjg1IDkuNzczNDQgMTAuNjI1IDkuNzczNDRaXCIgfSkgfSk7XG59XG52YXIgdHlwZV9hdXRvX2luY3JlbWVudF9pZF9kZWZhdWx0ID0gU3ZnVHlwZUF1dG9JbmNyZW1lbnRJZDtcblxuLy8gc3JjL2ljb25zL3R5cGUtY2hlY2tib3gudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MjkgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVDaGVja2JveChwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI5KFwic3ZnXCIsIHsgdmlld0JveDogXCIwIDAgMTQgMTRcIiwgLi4ucHJvcHMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjkoXCJwYXRoXCIsIHsgZDogXCJNMCAzYTMgMyAwIDAxMy0zaDhhMyAzIDAgMDEzIDN2OGEzIDMgMCAwMS0zIDNIM2EzIDMgMCAwMS0zLTNWM3ptMy0xLjVBMS41IDEuNSAwIDAwMS41IDN2OEExLjUgMS41IDAgMDAzIDEyLjVoOGExLjUgMS41IDAgMDAxLjUtMS41VjNBMS41IDEuNSAwIDAwMTEgMS41SDN6bS0uMTY3IDUuMzE2bC41NjYtLjU0Mi4xNzctLjE3LjM0Ny0uMzMyLjM0Ni4zMzQuMTc2LjE3IDEuMTM5IDEuMDk4IDMuNjk5LTMuNTYzLjE3Ny0uMTcuMzQ3LS4zMzUuMzQ3LjMzNC4xNzcuMTcuNTYzLjU0My4xNzcuMTcxLjM3Mi4zNi0uMzcyLjM2LS4xNzcuMTctNC43ODYgNC42MTUtLjE3Ny4xNzEtLjM0Ny4zMzQtLjM0Ny0uMzM0LS4xNzctLjE3LTIuMjMtMi4xNS0uMTc3LS4xNzItLjM3NS0uMzYxLjM3Ni0uMzYuMTc5LS4xN3pcIiB9KSB9KTtcbn1cbnZhciB0eXBlX2NoZWNrYm94X2RlZmF1bHQgPSBTdmdUeXBlQ2hlY2tib3g7XG5cbi8vIHNyYy9pY29ucy90eXBlLWRhdGUudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MzAgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVEYXRlKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzAoXCJzdmdcIiwgeyB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiLCAuLi5wcm9wcywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcInBhdGhcIiwgeyBkOiBcIk0xMC44ODkgNS41SDMuMTF2MS41NTZoNy43NzhWNS41em0xLjU1NS00LjQ0NGgtLjc3N1YwSDEwLjExdjEuMDU2SDMuODlWMEgyLjMzM3YxLjA1NmgtLjc3N2MtLjg2NCAwLTEuNTQ4LjctMS41NDggMS41NTVMMCAxMi41YzAgLjg1Ni42OTIgMS41IDEuNTU2IDEuNWgxMC44ODhDMTMuMyAxNCAxNCAxMy4zNTYgMTQgMTIuNVYyLjYxMWMwLS44NTUtLjctMS41NTUtMS41NTYtMS41NTV6bTAgMTEuNDQ0SDEuNTU2VjMuOTQ0aDEwLjg4OFYxMi41ek04LjU1NiA4LjYxMUgzLjExdjEuNTU2aDUuNDQ1VjguNjF6XCIgfSkgfSk7XG59XG52YXIgdHlwZV9kYXRlX2RlZmF1bHQgPSBTdmdUeXBlRGF0ZTtcblxuLy8gc3JjL2ljb25zL3R5cGUtZW1haWwudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MzEgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVFbWFpbChwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMxKFwic3ZnXCIsIHsgdmlld0JveDogXCIwIDAgMTQgMTRcIiwgLi4ucHJvcHMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MzEoXCJwYXRoXCIsIHsgZDogXCJNMTQgNi4yMjVjMCAuODIyLS4xMzMgMS41NzQtLjQgMi4yNTYtLjI2Ny42ODMtLjY0NCAxLjIxOC0xLjEzIDEuNjA2LS40ODguMzg4LS45NDYuNi0xLjQ5NC42LS40MjkgMC0uODA4LS4xMDItMS4xMzktLjMwNWExLjc1MyAxLjc1MyAwIDAxLS43MTMtLjhjLS42MTMuNzM2LTEuNTYzIDEuMTA0LTIuNTMxIDEuMTA0LTEuMDI3IDAtMS44MzUtLjMwNC0yLjQyNy0uOTEyLS41OTEtLjYwOC0uODg3LTEuNDQtLjg4Ny0yLjQ5NiAwLTEuMjA0LjM4OS0yLjE3NSAxLjE2Ni0yLjkxMS43NzYtLjczNiAxLjc5MS0xLjEwNSAzLjA0NC0xLjEwNS40OTggMCAyLjAzMi4yMTIgMi4yNTIuMjY4LjUxLjEzLjg2LjU5My44MzUgMS4xMTJsLS4xNTYgMy4yODdjMCAuNzk0LjIyIDEuMTkuNjYgMS4xOS4zNzIgMCAuNjY4LS4yNjcuODg4LS44LjIyLS41MzQuMzMtMS4yMzIuMzMtMi4wOTQgMC0uOTE5LS4xOTQtMS43MzEtLjU4Mi0yLjQzNmEzLjkyNCAzLjkyNCAwIDAwLTEuNjQtMS42MTRjLS43MDQtLjM3MS0xLjUwOS0uNTU3LTIuNDEzLS41NTctMS4xNzIgMC0yLjE5LjIzNy0zLjA1My43MTFhNC43ODUgNC43ODUgMCAwMC0xLjk4OCAyLjA1Yy0uNDYuODk0LS42OTEgMS45MjYtLjY5MSAzLjA5NiAwIDEuNTc2LjQyOCAyLjc4NCAxLjI4MyAzLjYyNy44NTUuODQxIDIuMDk0IDEuMjYyIDMuNzE4IDEuMjYyLjYxNSAwIDEuMjktLjA2NyAyLjAyNy0uMi4yMjUtLjA0Mi41MTgtLjEwOC44NzctLjJhLjg2My44NjMgMCAwMTEuMDI1LjUyNy43Ni43NiAwIDAxLS41MDIuOTkzYy0xLjA1Mi4zMTYtMi4xNy40ODgtMy4zNTcuNTE2LTIuMjA0IDAtMy45MjItLjU3LTUuMTU0LTEuNzEzQy42MTYgMTEuMTQ2IDAgOS41NiAwIDcuNTI3YzAtMS40MS4zMTUtMi42OS45NDQtMy44NEE2Ljc5MiA2Ljc5MiAwIDAxMy42My45OEM0Ljc5NC4zMjcgNi4xMzEgMCA3LjY0NSAwYzEuMjc2IDAgMi41MTQuMjkgMy40MTguNzcuOTA1LjQ4MSAxLjU3NCAxLjIyOCAyLjEyIDIuMTc2LjU0NC45NDcuODE3IDIuMDQuODE3IDMuMjh6bS04LjYxNSAxLjAxYzAgMS4yMDguNDg4IDEuODExIDEuNDY2IDEuODExLjUxMSAwIC45LS4xODEgMS4xNjgtLjU0NS4yNjctLjM2My40MjktLjk1NC40ODYtMS43NzJsLjExLTEuODk2YTQuNjM4IDQuNjM4IDAgMDAtLjk4LS4wOTVjLS43MSAwLTEuMjYzLjIyNC0xLjY1OC42Ny0uMzk1LjQ0Ni0uNTkyIDEuMDU1LS41OTIgMS44Mjh6XCIgfSkgfSk7XG59XG52YXIgdHlwZV9lbWFpbF9kZWZhdWx0ID0gU3ZnVHlwZUVtYWlsO1xuXG4vLyBzcmMvaWNvbnMvdHlwZS1maWxlLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDMyIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBTdmdUeXBlRmlsZShwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMyKFwic3ZnXCIsIHsgdmlld0JveDogXCIwIDAgMTQgMTRcIiwgLi4ucHJvcHMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MzIoXCJwYXRoXCIsIHsgZDogXCJNNS45NDYgMTRhNC45NzUgNC45NzUgMCAwMS0zLjQ5Ny0xLjQxNUE0LjczMSA0LjczMSAwIDAxMSA5LjE3NGMwLTEuMjg4LjUxNS0yLjUgMS40NDktMy40MUw3LjQ1Ni45ODZjMS4zNDUtMS4zMTMgMy43MjItMS4zMTggNS4wOC4wMDdhMy40NTMgMy40NTMgMCAwMTAgNC45NjFMOC4wMyAxMC4yNDFjLS44NjcuODQ3LTIuMjkzLjg0OC0zLjE3LS4wMDZhMi4xNTggMi4xNTggMCAwMTAtMy4xMDJsMS43NDQtMS43MDEgMS4yNzIgMS4yNC0xLjc0NCAxLjcwMWEuNDMuNDMgMCAwMDAgLjYyMWMuMjMuMjIzLjQwNS4yMjMuNjM2IDBsNC41MDMtNC4yODhhMS43MjMgMS43MjMgMCAwMC0uMDA3LTIuNDczYy0uNjgtLjY2My0xLjg2NC0uNjYzLTIuNTQzIDBMMy43MTMgNy4wMTFhMy4wMDYgMy4wMDYgMCAwMC0uOTE1IDIuMTYzYzAgLjgyLjMyOCAxLjU5MS45MjIgMi4xNyAxLjE5IDEuMTYyIDMuMjYyIDEuMTYyIDQuNDUxIDBsMi4yNDgtMi4xOTIgMS4yNzIgMS4yNC0yLjI0OCAyLjE5M0E0Ljk3OCA0Ljk3OCAwIDAxNS45NDYgMTR6XCIgfSkgfSk7XG59XG52YXIgdHlwZV9maWxlX2RlZmF1bHQgPSBTdmdUeXBlRmlsZTtcblxuLy8gc3JjL2ljb25zL3R5cGUtZm9ybXVsYS50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gzMyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gU3ZnVHlwZUZvcm11bGEocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzMyhcInN2Z1wiLCB7IHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsIC4uLnByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDMzKFwicGF0aFwiLCB7IGQ6IFwiTTcuNzc5IDcuMDYzbC0zLjE1NyA0LjIyNGEuNDkuNDkgMCAwMC0uMDcyLjIxOC4zNS4zNSAwIDAwLjM0Ni4zNTdoNi4yNDJjLjQ3NiAwIC44NjIuMzk4Ljg2Mi44ODl2LjM2YzAgLjQ5MS0uMzg2Ljg4OS0uODYyLjg4OUgxLjg2MkEuODc2Ljg3NiAwIDAxMSAxMy4xMTF2LS40MjVhLjgyLjgyIDAgMDEuMTc3LS41NEw0LjM5MyA3LjhhMS4zNjcgMS4zNjcgMCAwMC0uMDA2LTEuNjI1TDEuNCAyLjE5NGEuODIyLjgyMiAwIDAxLS4xOC0uNTQ0Vi44OUMxLjIyLjM5OCAxLjYwNCAwIDIuMDggMGg4LjgzOGMuNDc2IDAgLjg2MS4zOTguODYxLjg4OXYuMzZjMCAuNDkxLS4zODUuODktLjg2Ljg5SDUuMTM1Yy0uMTkgMC0uMzQ1LjE1OS0uMzQ1LjM1NmEuNDg5LjQ4OSAwIDAwLjA3LjIxNmwyLjkyIDMuOTc1Yy4wNDkuMDYyLjA2My4xMDcuMDYuMTg4YS4yNDYuMjQ2IDAgMDEtLjA2Mi4xODl6XCIgfSkgfSk7XG59XG52YXIgdHlwZV9mb3JtdWxhX2RlZmF1bHQgPSBTdmdUeXBlRm9ybXVsYTtcblxuLy8gc3JjL2ljb25zL3R5cGUtbXVsdGktc2VsZWN0LnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDM0IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBTdmdUeXBlTXVsdGlTZWxlY3QocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzNChcInN2Z1wiLCB7IHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsIC4uLnByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDM0KFwicGF0aFwiLCB7IGQ6IFwiTTQgM2ExIDEgMCAwMTEtMWg3YTEgMSAwIDExMCAySDVhMSAxIDAgMDEtMS0xem0wIDRhMSAxIDAgMDExLTFoN2ExIDEgMCAxMTAgMkg1YTEgMSAwIDAxLTEtMXptMCA0YTEgMSAwIDAxMS0xaDdhMSAxIDAgMTEwIDJINWExIDEgMCAwMS0xLTF6TTIgNGExIDEgMCAxMTAtMiAxIDEgMCAwMTAgMnptMCA0YTEgMSAwIDExMC0yIDEgMSAwIDAxMCAyem0wIDRhMSAxIDAgMTEwLTIgMSAxIDAgMDEwIDJ6XCIgfSkgfSk7XG59XG52YXIgdHlwZV9tdWx0aV9zZWxlY3RfZGVmYXVsdCA9IFN2Z1R5cGVNdWx0aVNlbGVjdDtcblxuLy8gc3JjL2ljb25zL3R5cGUtbnVtYmVyLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDM1IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBTdmdUeXBlTnVtYmVyKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzUoXCJzdmdcIiwgeyB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiLCAuLi5wcm9wcywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gzNShcInBhdGhcIiwgeyBkOiBcIk00LjQ2MiAwYy0uNTk1IDAtMS4wNzguNDgyLTEuMDc4IDEuMDc4djIuMzA2SDEuMDc4YTEuMDc4IDEuMDc4IDAgMTAwIDIuMTU1aDIuMzA2djIuOTIySDEuMDc4YTEuMDc4IDEuMDc4IDAgMTAwIDIuMTU1aDIuMzA2djIuMzA2YTEuMDc4IDEuMDc4IDAgMDAyLjE1NSAwdi0yLjMwNkg4LjQ2djIuMzA2YTEuMDc4IDEuMDc4IDAgMDAyLjE1NiAwdi0yLjMwNmgyLjMwNmExLjA3OCAxLjA3OCAwIDEwMC0yLjE1NWgtMi4zMDZWNS41MzloMi4zMDZhMS4wNzggMS4wNzggMCAxMDAtMi4xNTVoLTIuMzA2VjEuMDc4YTEuMDc4IDEuMDc4IDAgMDAtMi4xNTYgMHYyLjMwNkg1LjU0VjEuMDc4QzUuNTQuNDgyIDUuMDU2IDAgNC40NjEgMHptMS4wNzcgOC40NlY1LjU0SDguNDZ2Mi45Mkg1LjU0elwiIH0pIH0pO1xufVxudmFyIHR5cGVfbnVtYmVyX2RlZmF1bHQgPSBTdmdUeXBlTnVtYmVyO1xuXG4vLyBzcmMvaWNvbnMvdHlwZS1wZXJzb24udHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MzYgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVQZXJzb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzNihcInN2Z1wiLCB7IHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsIC4uLnByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDM2KFwicGF0aFwiLCB7IGQ6IFwiTTkuNjI1IDEwLjg0N0M4LjkxMiAxMC4yODkgOC4xMjEgOS45MjYgNyA5LjI2di0uNTRhMy4zMyAzLjMzIDAgMDAuNTM4LS44ODhjLjQwOC0uMS43NzQtLjQ5OC43NzQtLjgzMiAwLS40ODItLjIwMi0uNjczLS40NC0uODI5IDAtLjAxNS4wMDMtLjAzLjAwMy0uMDQ2IDAtLjcxMS0uNDM4LTIuNjI1LTIuNjI1LTIuNjI1LTIuMTg4IDAtMi42MjUgMS45MTUtMi42MjUgMi42MjUgMCAuMDE3LjAwMy4wMy4wMDMuMDQ2LS4yMzguMTU2LS40NC4zNDctLjQ0LjgyOSAwIC4zMzQuMzY2LjczMS43NzQuODMzLjE0Ni4zNDMuMzI2LjY0My41MzguODg2di41NDFjLTEuMTIuNjY1LTEuOTEyIDEuMDI4LTIuNjI1IDEuNTg3Qy4wNDEgMTEuNDk4IDAgMTIuNDY5IDAgMTRoMTAuNWMwLTEuNTMxLS4wNDEtMi41MDItLjg3NS0zLjE1M3ptMy41LTMuNWMtLjcxMy0uNTU4LTEuNTA0LS45MjEtMi42MjUtMS41ODd2LS41NGMuMjEyLS4yNDQuMzkyLS41NDQuNTM4LS44ODguNDA4LS4xLjc3NC0uNDk4Ljc3NC0uODMyIDAtLjQ4Mi0uMjAyLS42NzMtLjQ0LS44MjkgMC0uMDE1LjAwMy0uMDMuMDAzLS4wNDZDMTEuMzc1IDEuOTE0IDEwLjkzNyAwIDguNzUgMCA2LjU2MiAwIDYuMTI1IDEuOTE1IDYuMTI1IDIuNjI1YzAgLjAxNy4wMDMuMDMuMDAzLjA0Ni0uMDE2LjAxMi0uMDMuMDI1LS4wNDcuMDM2IDEuNzUxLjM1OSAyLjUxNiAxLjg0MSAyLjY0NyAzLjA0LjI0OC4yNjIuNDYuNjUuNDYgMS4yNTMgMCAuNjAzLS40MTcgMS4yMDMtMS4wMDQgMS41MTUtLjA1Ny4xMDktLjExNy4yMTQtLjE4MS4zMTVsLjQzNy4yNDVjLjY0LjM1NyAxLjE5NC42NjYgMS43MjQgMS4wODEuMTM4LjEwOC4yNTYuMjI0LjM2NS4zNDNIMTRjMC0xLjUzLS4wNDEtMi41LS44NzUtMy4xNTN6XCIgfSkgfSk7XG59XG52YXIgdHlwZV9wZXJzb25fZGVmYXVsdCA9IFN2Z1R5cGVQZXJzb247XG5cbi8vIHNyYy9pY29ucy90eXBlLXBlcnNvbi0yLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDM3IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBTdmdUeXBlUGVyc29uMihwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDM3KFwic3ZnXCIsIHsgdmlld0JveDogXCIwIDAgMTQgMTRcIiwgLi4ucHJvcHMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MzcoXCJwYXRoXCIsIHsgZDogXCJNMTMuMTI1IDEwLjAzNWMtLjU3MS0uNTUtMi4zMjQtMS41MDQtMy41LTIuMTZ2LS44MzRjLjIyNC0uMzIyLjQyLS42NzEuNTY2LTEuMDU1LjM5NC0uMjQyLjc0Ni0uNzAyLjc0Ni0xLjE3MyAwLS40NTgtLjAwNS0uODctLjQ3LTEuMjA4QzEwLjMwNSAxLjU1OCA5LjQzNiAwIDcgMFMzLjY5NSAxLjU1OCAzLjUzMyAzLjYwNWMtLjQ2NS4zMzgtLjQ3Ljc1LS40NyAxLjIwOCAwIC40NzEuMzUyLjkzLjc0NiAxLjE3My4xNDYuMzg0LjM0Mi43MzMuNTY2IDEuMDU1di44MzRjLTEuMTc2LjY1Ni0yLjkyOSAxLjYxLTMuNSAyLjE2Qy4xNjUgMTAuNzIgMCAxMS44MTIgMCAxNGgxNGMwLTIuMTg4LS4xNjQtMy4yODEtLjg3NS0zLjk2NXpcIiB9KSB9KTtcbn1cbnZhciB0eXBlX3BlcnNvbl8yX2RlZmF1bHQgPSBTdmdUeXBlUGVyc29uMjtcblxuLy8gc3JjL2ljb25zL3R5cGUtcGhvbmUtbnVtYmVyLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDM4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBTdmdUeXBlUGhvbmVOdW1iZXIocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzOChcInN2Z1wiLCB7IHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsIC4uLnByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDM4KFwicGF0aFwiLCB7IGQ6IFwiTTIuMjA3LjAxM2EuNDg3LjQ4NyAwIDAwLS4yOS4wMkMuODcuNDM4LjIxMyAxLjkzLjA1OCAyLjk1NWMtLjQ4NCAzLjMzIDIuMTUgNi4yMTUgNC41NyA4LjExMyAyLjE0OSAxLjY4NCA2LjI3MyA0LjQ1MyA4LjcxMyAxLjc4MS4zMS0uMzI5LjY3OC0uODEzLjY1OC0xLjI5Ny0uMDU4LS44MTMtLjgxMy0xLjM5NC0xLjM5NC0xLjg0LS40NDUtLjMyOS0xLjM3NS0xLjIzOS0xLjk1Ni0xLjIyLS41MjIuMDItLjg1MS41NjItMS4xOC44OTFsLS41ODIuNTgxYy0uMDk2LjA5Ny0xLjMzNi0uNzE2LTEuNDcxLS44MTNhOS44ODEgOS44ODEgMCAwMS0xLjQxNC0xLjEwNEE5LjEzIDkuMTMgMCAwMTQuODYgNi43MzJjLS4wOTctLjEzNi0uODktMS4zMTctLjgxMy0xLjQxNCAwIDAgLjY3Ny0uNzM2Ljg3MS0xLjAyNi40MDctLjYyLjcxNy0xLjEwNC4yNTItMS44NC0uMTc0LS4yNy0uMzg3LS40ODQtLjYyLS43MTYtLjQwNi0uMzg3LS44MTMtLjc5NC0xLjI3OC0xLjEyMy0uMjUxLS4xOTQtLjY3Ny0uNTQyLTEuMDY1LS42elwiIH0pIH0pO1xufVxudmFyIHR5cGVfcGhvbmVfbnVtYmVyX2RlZmF1bHQgPSBTdmdUeXBlUGhvbmVOdW1iZXI7XG5cbi8vIHNyYy9pY29ucy90eXBlLXJlbGF0aW9uLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDM5IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBTdmdUeXBlUmVsYXRpb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzOShcInN2Z1wiLCB7IHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsIC4uLnByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDM5KFwicGF0aFwiLCB7IGQ6IFwiTTQuNSAxdjJoNS4wODZMMSAxMS41ODYgMi40MTQgMTMgMTEgNC40MTRWOS41aDJWMXpcIiB9KSB9KTtcbn1cbnZhciB0eXBlX3JlbGF0aW9uX2RlZmF1bHQgPSBTdmdUeXBlUmVsYXRpb247XG5cbi8vIHNyYy9pY29ucy90eXBlLXNlbGVjdC50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3g0MCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gU3ZnVHlwZVNlbGVjdChwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQwKFwic3ZnXCIsIHsgdmlld0JveDogXCIwIDAgMTQgMTRcIiwgLi4ucHJvcHMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NDAoXCJwYXRoXCIsIHsgZDogXCJNNyAxM0E2IDYgMCAxMDcgMWE2IDYgMCAwMDAgMTJ6TTMuNzUxIDUuMzIzQS4yLjIgMCAwMTMuOTA5IDVoNi4xODJhLjIuMiAwIDAxLjE1OC4zMjNMNy4xNTggOS4yOTdhLjIuMiAwIDAxLS4zMTYgMEwzLjc1MSA1LjMyM3pcIiB9KSB9KTtcbn1cbnZhciB0eXBlX3NlbGVjdF9kZWZhdWx0ID0gU3ZnVHlwZVNlbGVjdDtcblxuLy8gc3JjL2ljb25zL3R5cGUtc3RhdHVzLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDQxIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBTdmdUeXBlU3RhdHVzKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NDEoXCJzdmdcIiwgeyB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLCAuLi5wcm9wcywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g0MShcInBhdGhcIiwgeyBkOiBcIk04Ljc1NDg4IDEuMDIzNDRDOC43NTQ4OCAwLjYxMzI4MSA4LjQxMzA5IDAuMjY0NjQ4IDguMDAyOTMgMC4yNjQ2NDhDNy41OTI3NyAwLjI2NDY0OCA3LjI1MDk4IDAuNjEzMjgxIDcuMjUwOTggMS4wMjM0NFYzLjExNTIzQzcuMjUwOTggMy41MTg1NSA3LjU5Mjc3IDMuODY3MTkgOC4wMDI5MyAzLjg2NzE5QzguNDEzMDkgMy44NjcxOSA4Ljc1NDg4IDMuNTE4NTUgOC43NTQ4OCAzLjExNTIzVjEuMDIzNDRaTTMuOTE1MDQgNS4wMjkzQzQuMjAyMTUgNS4zMTY0MSA0LjY5NDM0IDUuMzIzMjQgNC45NzQ2MSA1LjAzNjEzQzUuMjY4NTUgNC43NDkwMiA1LjI2ODU1IDQuMjU2ODQgNC45ODE0NSAzLjk2OTczTDMuNTM5MDYgMi41MjA1MUMzLjI1MTk1IDIuMjMzNCAyLjc2NjYgMi4yMTk3MyAyLjQ3OTQ5IDIuNTA2ODRDMi4xOTIzOCAyLjc5Mzk1IDIuMTg1NTUgMy4yODYxMyAyLjQ3MjY2IDMuNTczMjRMMy45MTUwNCA1LjAyOTNaTTEwLjk2MjkgNC4wMTc1OEMxMC42ODI2IDQuMzA0NjkgMTAuNjgyNiA0Ljc5Njg4IDEwLjk2OTcgNS4wODM5OEMxMS4yNTY4IDUuMzcxMDkgMTEuNzQ5IDUuMzY0MjYgMTIuMDM2MSA1LjA3NzE1TDEzLjQ4NTQgMy42Mjc5M0MxMy43NzI1IDMuMzQwODIgMTMuNzcyNSAyLjg0ODYzIDEzLjQ3ODUgMi41NTQ2OUMxMy4xOTgyIDIuMjc0NDEgMTIuNzA2MSAyLjI3NDQxIDEyLjQxODkgMi41NjE1MkwxMC45NjI5IDQuMDE3NThaTTE1LjAyMzQgOC43ODkwNkMxNS40MzM2IDguNzg5MDYgMTUuNzgyMiA4LjQ0NzI3IDE1Ljc4MjIgOC4wMzcxMUMxNS43ODIyIDcuNjI2OTUgMTUuNDMzNiA3LjI4NTE2IDE1LjAyMzQgNy4yODUxNkgxMi45Mzg1QzEyLjUyODMgNy4yODUxNiAxMi4xNzk3IDcuNjI2OTUgMTIuMTc5NyA4LjAzNzExQzEyLjE3OTcgOC40NDcyNyAxMi41MjgzIDguNzg5MDYgMTIuOTM4NSA4Ljc4OTA2SDE1LjAyMzRaTTAuOTc1NTg2IDcuMjg1MTZDMC41NjU0MyA3LjI4NTE2IDAuMjIzNjMzIDcuNjI2OTUgMC4yMjM2MzMgOC4wMzcxMUMwLjIyMzYzMyA4LjQ0NzI3IDAuNTY1NDMgOC43ODkwNiAwLjk3NTU4NiA4Ljc4OTA2SDMuMDc0MjJDMy40ODQzOCA4Ljc4OTA2IDMuODMzMDEgOC40NDcyNyAzLjgzMzAxIDguMDM3MTFDMy44MzMwMSA3LjYyNjk1IDMuNDg0MzggNy4yODUxNiAzLjA3NDIyIDcuMjg1MTZIMC45NzU1ODZaTTEyLjAzNjEgMTAuOTkwMkMxMS43NDkgMTAuNzEgMTEuMjU2OCAxMC43MSAxMC45NjI5IDEwLjk5NzFDMTAuNjgyNiAxMS4yODQyIDEwLjY4MjYgMTEuNzc2NCAxMC45Njk3IDEyLjA2MzVMMTIuNDI1OCAxMy41MTI3QzEyLjcxMjkgMTMuNzk5OCAxMy4yMDUxIDEzLjc5MyAxMy40OTIyIDEzLjUwNTlDMTMuNzc5MyAxMy4yMjU2IDEzLjc3MjUgMTIuNzI2NiAxMy40ODU0IDEyLjQzOTVMMTIuMDM2MSAxMC45OTAyWk0yLjUyMDUxIDEyLjQzOTVDMi4yMjY1NiAxMi43MjY2IDIuMjI2NTYgMTMuMjE4OCAyLjUwNjg0IDEzLjUwNTlDMi43OTM5NSAxMy43OTMgMy4yODYxMyAxMy43OTk4IDMuNTczMjQgMTMuNTEyN0w1LjAyMjQ2IDEyLjA3MDNDNS4zMTY0MSAxMS43ODMyIDUuMzE2NDEgMTEuMjkxIDUuMDM2MTMgMTEuMDAzOUM0Ljc0OTAyIDEwLjcxNjggNC4yNTY4NCAxMC43MSAzLjk2OTczIDEwLjk5NzFMMi41MjA1MSAxMi40Mzk1Wk04Ljc1NDg4IDEyLjk2NThDOC43NTQ4OCAxMi41NTU3IDguNDEzMDkgMTIuMjA3IDguMDAyOTMgMTIuMjA3QzcuNTkyNzcgMTIuMjA3IDcuMjUwOTggMTIuNTU1NyA3LjI1MDk4IDEyLjk2NThWMTUuMDU3NkM3LjI1MDk4IDE1LjQ2MDkgNy41OTI3NyAxNS44MDk2IDguMDAyOTMgMTUuODA5NkM4LjQxMzA5IDE1LjgwOTYgOC43NTQ4OCAxNS40NjA5IDguNzU0ODggMTUuMDU3NlYxMi45NjU4WlwiIH0pIH0pO1xufVxudmFyIHR5cGVfc3RhdHVzX2RlZmF1bHQgPSBTdmdUeXBlU3RhdHVzO1xuXG4vLyBzcmMvaWNvbnMvdHlwZS10ZXh0LnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDQyIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBTdmdUeXBlVGV4dChwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQyKFwic3ZnXCIsIHsgdmlld0JveDogXCIwIDAgMTQgMTRcIiwgLi4ucHJvcHMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NDIoXCJwYXRoXCIsIHsgZDogXCJNNyA0LjU2OGEuNS41IDAgMDAtLjUtLjVoLTZhLjUuNSAwIDAwLS41LjV2MS4wNDZhLjUuNSAwIDAwLjUuNWg2YS41LjUgMCAwMC41LS41VjQuNTY4ek0uNSAxYS41LjUgMCAwMC0uNS41djEuMDQ1YS41LjUgMCAwMC41LjVoMTJhLjUuNSAwIDAwLjUtLjVWMS41YS41LjUgMCAwMC0uNS0uNUguNXpNMCA4LjY4MmEuNS41IDAgMDAuNS41aDExYS41LjUgMCAwMC41LS41VjcuNjM2YS41LjUgMCAwMC0uNS0uNUguNWEuNS41IDAgMDAtLjUuNXYxLjA0NnptMCAzLjA2OGEuNS41IDAgMDAuNS41aDlhLjUuNSAwIDAwLjUtLjV2LTEuMDQ1YS41LjUgMCAwMC0uNS0uNWgtOWEuNS41IDAgMDAtLjUuNXYxLjA0NXpcIiB9KSB9KTtcbn1cbnZhciB0eXBlX3RleHRfZGVmYXVsdCA9IFN2Z1R5cGVUZXh0O1xuXG4vLyBzcmMvaWNvbnMvdHlwZS10aW1lc3RhbXAudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4NDMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVUaW1lc3RhbXAocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0MyhcInN2Z1wiLCB7IHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsIC4uLnByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQzKFwicGF0aFwiLCB7IGQ6IFwiTTYuOTg2IDE0Yy0xLjc5IDAtMy41ODItLjY5LTQuOTQ0LTIuMDY4LTIuNzIzLTIuNzItMi43MjMtNy4xNzIgMC05Ljg5MiAyLjcyNS0yLjcyIDcuMTgyLTIuNzIgOS45MDYgMEE2Ljk3MiA2Ljk3MiAwIDAxMTQgNi45OTZjMCAxLjg4LS43MjggMy42MzMtMi4wNTIgNC45NTVBNy4wNTggNy4wNTggMCAwMTYuOTg2IDE0em0zLjI4NS02Ljk5djEuNjQ1SDUuNTI2di01LjQ3aDEuODQxdjMuNjNoMi45MDR2LjE5NHptMS44OS0uMDE0YzAtMS4zNzktLjU0Mi0yLjY3LTEuNTIyLTMuNjQ4LTIuMDA2LTIuMDA1LTUuMjg3LTIuMDA3LTcuMjk3LS4wMDlsLS4wMDkuMDA5YTUuMTY4IDUuMTY4IDAgMDAwIDcuMjk1YzIuMDEgMi4wMDcgNS4yOTcgMi4wMDcgNy4zMDYgMGE1LjExOSA1LjExOSAwIDAwMS41MjEtMy42NDd6XCIgfSkgfSk7XG59XG52YXIgdHlwZV90aW1lc3RhbXBfZGVmYXVsdCA9IFN2Z1R5cGVUaW1lc3RhbXA7XG5cbi8vIHNyYy9pY29ucy90eXBlLXRpdGxlLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDQ0IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBTdmdUeXBlVGl0bGUocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0NChcInN2Z1wiLCB7IHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsIC4uLnByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQ0KFwicGF0aFwiLCB7IGQ6IFwiTTcuNzQgOC42OTdhLjgxLjgxIDAgMDEuMDczLjMwOC44OTQuODk0IDAgMDEtLjkuODg4Ljg2Ny44NjcgMCAwMS0uODI1LS41OTJsLS4zMzMtLjk2MUgyLjA1OGwtLjMzMy45NjFhLjg4Mi44ODIgMCAwMS0uODM4LjU5MkEuODg0Ljg4NCAwIDAxMCA5LjAwNWMwLS4xMS4wMjUtLjIyMi4wNjItLjMwOGwyLjQwMy02LjIxMWMuMjIyLS41OC43NzYtLjk4NiAxLjQ0Mi0uOTg2LjY1MyAwIDEuMjIuNDA3IDEuNDQyLjk4NmwyLjM5IDYuMjExek0yLjYgNi44MjRoMi42MTNMMy45MDcgMy4xMDIgMi42IDYuODI0em04LjgtMy4xMThjMS4zNTUgMCAyLjYuNTQyIDIuNiAyLjI1NVY5LjA4YS44LjggMCAwMS0uNzg5LjgxNC43OTcuNzk3IDAgMDEtLjc4OC0uNzAzYy0uMzk1LjQ2OC0xLjA5Ny43NjQtMS44NzQuNzY0LS45NDkgMC0yLjA3LS42NC0yLjA3LTEuOTcyIDAtMS4zOTIgMS4xMjEtMS44OTcgMi4wNy0xLjg5Ny43ODkgMCAxLjQ5MS4yNDYgMS44ODYuNzI3di0uODI2YzAtLjYwNC0uNTE4LS45OTgtMS4zMDYtLjk5OC0uNDY5IDAtLjg4OC4xMjMtMS4zMi4zOTRhLjY0LjY0IDAgMDEtLjMwNy4wODYuNjAyLjYwMiAwIDAxLS41OTItLjYwNGMwLS4yMjEuMTIzLS40MTkuMjg0LS41MTdhMy45NjMgMy45NjMgMCAwMTIuMjA2LS42NDF6bS0uMjIyIDUuMTg4Yy41MDUgMCAuOTk4LS4xNzIgMS4yNTctLjUxN3YtLjc0Yy0uMjU5LS4zNDUtLjc1Mi0uNTE3LTEuMjU3LS41MTctLjYxNiAwLTEuMTIyLjMzMi0xLjEyMi45IDAgLjU1NC41MDYuODc0IDEuMTIyLjg3NHpNLjY1NiAxMS4xMjVoMTIuNjg4YS42NTYuNjU2IDAgMTEwIDEuMzEzSC42NTZhLjY1Ni42NTYgMCAxMTAtMS4zMTN6XCIgfSkgfSk7XG59XG52YXIgdHlwZV90aXRsZV9kZWZhdWx0ID0gU3ZnVHlwZVRpdGxlO1xuXG4vLyBzcmMvaWNvbnMvdHlwZS11cmwudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4NDUgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVVcmwocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0NShcInN2Z1wiLCB7IHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsIC4uLnByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQ1KFwicGF0aFwiLCB7IGQ6IFwiTTMuNzMzIDMuODY3aDMuNzM0YzEuMDMgMCAxLjg2Ni44MzcgMS44NjYgMS44NjYgMCAxLjAzLS44MzcgMS44NjctMS44NjYgMS44NjdoLS45MzRhLjkzNC45MzQgMCAwMDAgMS44NjdoLjkzNGEzLjczNCAzLjczNCAwIDAwMC03LjQ2N0gzLjczM0EzLjczIDMuNzMgMCAwMDEuODkgOC45NzdhNC42MzcgNC42MzcgMCAwMS4zMTQtMi4xOCAxLjg1NCAxLjg1NCAwIDAxLS4zMzYtMS4wNjRjMC0xLjAzLjgzNy0xLjg2NiAxLjg2Ni0xLjg2NnptOC4zNzcgMS40MjJhNC42IDQuNiAwIDAxLS4zMTYgMi4xNzZjLjIxMi4zMDMuMzQuNjcuMzQgMS4wNjggMCAxLjAzLS44MzggMS44NjctMS44NjcgMS44NjdINi41MzNhMS44NjkgMS44NjkgMCAwMS0xLjg2Ni0xLjg2N2MwLTEuMDMuODM3LTEuODY2IDEuODY2LTEuODY2aC45MzRhLjkzNC45MzQgMCAwMDAtMS44NjdoLS45MzRhMy43MzMgMy43MzMgMCAwMDAgNy40NjdoMy43MzRhMy43MyAzLjczIDAgMDAxLjg0My02Ljk3OHpcIiB9KSB9KTtcbn1cbnZhciB0eXBlX3VybF9kZWZhdWx0ID0gU3ZnVHlwZVVybDtcblxuLy8gc3JjL2ljb25zL3Byb3BlcnR5LWljb24udHN4XG52YXIgaWNvbk1hcDIgPSB7XG4gIHRpdGxlOiB0eXBlX3RpdGxlX2RlZmF1bHQsXG4gIHRleHQ6IHR5cGVfdGV4dF9kZWZhdWx0LFxuICBudW1iZXI6IHR5cGVfbnVtYmVyX2RlZmF1bHQsXG4gIHNlbGVjdDogdHlwZV9zZWxlY3RfZGVmYXVsdCxcbiAgc3RhdHVzOiB0eXBlX3N0YXR1c19kZWZhdWx0LFxuICBtdWx0aV9zZWxlY3Q6IHR5cGVfbXVsdGlfc2VsZWN0X2RlZmF1bHQsXG4gIGRhdGU6IHR5cGVfZGF0ZV9kZWZhdWx0LFxuICBwZXJzb246IHR5cGVfcGVyc29uX2RlZmF1bHQsXG4gIGZpbGU6IHR5cGVfZmlsZV9kZWZhdWx0LFxuICBjaGVja2JveDogdHlwZV9jaGVja2JveF9kZWZhdWx0LFxuICB1cmw6IHR5cGVfdXJsX2RlZmF1bHQsXG4gIGVtYWlsOiB0eXBlX2VtYWlsX2RlZmF1bHQsXG4gIHBob25lX251bWJlcjogdHlwZV9waG9uZV9udW1iZXJfZGVmYXVsdCxcbiAgZm9ybXVsYTogdHlwZV9mb3JtdWxhX2RlZmF1bHQsXG4gIHJlbGF0aW9uOiB0eXBlX3JlbGF0aW9uX2RlZmF1bHQsXG4gIGNyZWF0ZWRfdGltZTogdHlwZV90aW1lc3RhbXBfZGVmYXVsdCxcbiAgbGFzdF9lZGl0ZWRfdGltZTogdHlwZV90aW1lc3RhbXBfZGVmYXVsdCxcbiAgY3JlYXRlZF9ieTogdHlwZV9wZXJzb25fMl9kZWZhdWx0LFxuICBsYXN0X2VkaXRlZF9ieTogdHlwZV9wZXJzb25fMl9kZWZhdWx0LFxuICBhdXRvX2luY3JlbWVudF9pZDogdHlwZV9hdXRvX2luY3JlbWVudF9pZF9kZWZhdWx0XG59O1xuZnVuY3Rpb24gUHJvcGVydHlJY29uKHsgdHlwZSwgLi4ucmVzdCB9KSB7XG4gIGNvbnN0IGljb24gPSBpY29uTWFwMlt0eXBlXTtcbiAgaWYgKCFpY29uKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIGljb24ocmVzdCk7XG59XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLWNvbHVtbi10aXRsZS50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3g0NiwganN4cyBhcyBqc3hzMTEgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIENvbGxlY3Rpb25Db2x1bW5UaXRsZSh7XG4gIHNjaGVtYVxufSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxMShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1jb2x1bW4tdGl0bGVcIiwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4NDYoXG4gICAgICBQcm9wZXJ0eUljb24sXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1jb2x1bW4tdGl0bGUtaWNvblwiLFxuICAgICAgICB0eXBlOiBzY2hlbWEudHlwZVxuICAgICAgfVxuICAgICksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDQ2KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLWNvbHVtbi10aXRsZS1ib2R5XCIsIGNoaWxkcmVuOiBzY2hlbWEubmFtZSB9KVxuICBdIH0pO1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL2Zvcm1hdERpc3RhbmNlLmpzXG52YXIgZm9ybWF0RGlzdGFuY2VMb2NhbGUgPSB7XG4gIGxlc3NUaGFuWFNlY29uZHM6IHtcbiAgICBvbmU6IFwibGVzcyB0aGFuIGEgc2Vjb25kXCIsXG4gICAgb3RoZXI6IFwibGVzcyB0aGFuIHt7Y291bnR9fSBzZWNvbmRzXCJcbiAgfSxcbiAgeFNlY29uZHM6IHtcbiAgICBvbmU6IFwiMSBzZWNvbmRcIixcbiAgICBvdGhlcjogXCJ7e2NvdW50fX0gc2Vjb25kc1wiXG4gIH0sXG4gIGhhbGZBTWludXRlOiBcImhhbGYgYSBtaW51dGVcIixcbiAgbGVzc1RoYW5YTWludXRlczoge1xuICAgIG9uZTogXCJsZXNzIHRoYW4gYSBtaW51dGVcIixcbiAgICBvdGhlcjogXCJsZXNzIHRoYW4ge3tjb3VudH19IG1pbnV0ZXNcIlxuICB9LFxuICB4TWludXRlczoge1xuICAgIG9uZTogXCIxIG1pbnV0ZVwiLFxuICAgIG90aGVyOiBcInt7Y291bnR9fSBtaW51dGVzXCJcbiAgfSxcbiAgYWJvdXRYSG91cnM6IHtcbiAgICBvbmU6IFwiYWJvdXQgMSBob3VyXCIsXG4gICAgb3RoZXI6IFwiYWJvdXQge3tjb3VudH19IGhvdXJzXCJcbiAgfSxcbiAgeEhvdXJzOiB7XG4gICAgb25lOiBcIjEgaG91clwiLFxuICAgIG90aGVyOiBcInt7Y291bnR9fSBob3Vyc1wiXG4gIH0sXG4gIHhEYXlzOiB7XG4gICAgb25lOiBcIjEgZGF5XCIsXG4gICAgb3RoZXI6IFwie3tjb3VudH19IGRheXNcIlxuICB9LFxuICBhYm91dFhXZWVrczoge1xuICAgIG9uZTogXCJhYm91dCAxIHdlZWtcIixcbiAgICBvdGhlcjogXCJhYm91dCB7e2NvdW50fX0gd2Vla3NcIlxuICB9LFxuICB4V2Vla3M6IHtcbiAgICBvbmU6IFwiMSB3ZWVrXCIsXG4gICAgb3RoZXI6IFwie3tjb3VudH19IHdlZWtzXCJcbiAgfSxcbiAgYWJvdXRYTW9udGhzOiB7XG4gICAgb25lOiBcImFib3V0IDEgbW9udGhcIixcbiAgICBvdGhlcjogXCJhYm91dCB7e2NvdW50fX0gbW9udGhzXCJcbiAgfSxcbiAgeE1vbnRoczoge1xuICAgIG9uZTogXCIxIG1vbnRoXCIsXG4gICAgb3RoZXI6IFwie3tjb3VudH19IG1vbnRoc1wiXG4gIH0sXG4gIGFib3V0WFllYXJzOiB7XG4gICAgb25lOiBcImFib3V0IDEgeWVhclwiLFxuICAgIG90aGVyOiBcImFib3V0IHt7Y291bnR9fSB5ZWFyc1wiXG4gIH0sXG4gIHhZZWFyczoge1xuICAgIG9uZTogXCIxIHllYXJcIixcbiAgICBvdGhlcjogXCJ7e2NvdW50fX0geWVhcnNcIlxuICB9LFxuICBvdmVyWFllYXJzOiB7XG4gICAgb25lOiBcIm92ZXIgMSB5ZWFyXCIsXG4gICAgb3RoZXI6IFwib3ZlciB7e2NvdW50fX0geWVhcnNcIlxuICB9LFxuICBhbG1vc3RYWWVhcnM6IHtcbiAgICBvbmU6IFwiYWxtb3N0IDEgeWVhclwiLFxuICAgIG90aGVyOiBcImFsbW9zdCB7e2NvdW50fX0geWVhcnNcIlxuICB9XG59O1xudmFyIGZvcm1hdERpc3RhbmNlID0gKHRva2VuLCBjb3VudCwgb3B0aW9ucykgPT4ge1xuICBsZXQgcmVzdWx0O1xuICBjb25zdCB0b2tlblZhbHVlID0gZm9ybWF0RGlzdGFuY2VMb2NhbGVbdG9rZW5dO1xuICBpZiAodHlwZW9mIHRva2VuVmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXN1bHQgPSB0b2tlblZhbHVlO1xuICB9IGVsc2UgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgcmVzdWx0ID0gdG9rZW5WYWx1ZS5vbmU7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gdG9rZW5WYWx1ZS5vdGhlci5yZXBsYWNlKFwie3tjb3VudH19XCIsIGNvdW50LnRvU3RyaW5nKCkpO1xuICB9XG4gIGlmIChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmFkZFN1ZmZpeCkge1xuICAgIGlmIChvcHRpb25zLmNvbXBhcmlzb24gJiYgb3B0aW9ucy5jb21wYXJpc29uID4gMCkge1xuICAgICAgcmV0dXJuIFwiaW4gXCIgKyByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyBcIiBhZ29cIjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRGb3JtYXRMb25nRm4uanNcbmZ1bmN0aW9uIGJ1aWxkRm9ybWF0TG9uZ0ZuKGFyZ3MpIHtcbiAgcmV0dXJuIChvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCB3aWR0aCA9IG9wdGlvbnMud2lkdGggPyBTdHJpbmcob3B0aW9ucy53aWR0aCkgOiBhcmdzLmRlZmF1bHRXaWR0aDtcbiAgICBjb25zdCBmb3JtYXQyID0gYXJncy5mb3JtYXRzW3dpZHRoXSB8fCBhcmdzLmZvcm1hdHNbYXJncy5kZWZhdWx0V2lkdGhdO1xuICAgIHJldHVybiBmb3JtYXQyO1xuICB9O1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL2Zvcm1hdExvbmcuanNcbnZhciBkYXRlRm9ybWF0cyA9IHtcbiAgZnVsbDogXCJFRUVFLCBNTU1NIGRvLCB5XCIsXG4gIGxvbmc6IFwiTU1NTSBkbywgeVwiLFxuICBtZWRpdW06IFwiTU1NIGQsIHlcIixcbiAgc2hvcnQ6IFwiTU0vZGQveXl5eVwiXG59O1xudmFyIHRpbWVGb3JtYXRzID0ge1xuICBmdWxsOiBcImg6bW06c3MgYSB6enp6XCIsXG4gIGxvbmc6IFwiaDptbTpzcyBhIHpcIixcbiAgbWVkaXVtOiBcImg6bW06c3MgYVwiLFxuICBzaG9ydDogXCJoOm1tIGFcIlxufTtcbnZhciBkYXRlVGltZUZvcm1hdHMgPSB7XG4gIGZ1bGw6IFwie3tkYXRlfX0gJ2F0JyB7e3RpbWV9fVwiLFxuICBsb25nOiBcInt7ZGF0ZX19ICdhdCcge3t0aW1lfX1cIixcbiAgbWVkaXVtOiBcInt7ZGF0ZX19LCB7e3RpbWV9fVwiLFxuICBzaG9ydDogXCJ7e2RhdGV9fSwge3t0aW1lfX1cIlxufTtcbnZhciBmb3JtYXRMb25nID0ge1xuICBkYXRlOiBidWlsZEZvcm1hdExvbmdGbih7XG4gICAgZm9ybWF0czogZGF0ZUZvcm1hdHMsXG4gICAgZGVmYXVsdFdpZHRoOiBcImZ1bGxcIlxuICB9KSxcbiAgdGltZTogYnVpbGRGb3JtYXRMb25nRm4oe1xuICAgIGZvcm1hdHM6IHRpbWVGb3JtYXRzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJmdWxsXCJcbiAgfSksXG4gIGRhdGVUaW1lOiBidWlsZEZvcm1hdExvbmdGbih7XG4gICAgZm9ybWF0czogZGF0ZVRpbWVGb3JtYXRzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJmdWxsXCJcbiAgfSlcbn07XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvZm9ybWF0UmVsYXRpdmUuanNcbnZhciBmb3JtYXRSZWxhdGl2ZUxvY2FsZSA9IHtcbiAgbGFzdFdlZWs6IFwiJ2xhc3QnIGVlZWUgJ2F0JyBwXCIsXG4gIHllc3RlcmRheTogXCIneWVzdGVyZGF5IGF0JyBwXCIsXG4gIHRvZGF5OiBcIid0b2RheSBhdCcgcFwiLFxuICB0b21vcnJvdzogXCIndG9tb3Jyb3cgYXQnIHBcIixcbiAgbmV4dFdlZWs6IFwiZWVlZSAnYXQnIHBcIixcbiAgb3RoZXI6IFwiUFwiXG59O1xudmFyIGZvcm1hdFJlbGF0aXZlID0gKHRva2VuLCBfZGF0ZSwgX2Jhc2VEYXRlLCBfb3B0aW9ucykgPT4gZm9ybWF0UmVsYXRpdmVMb2NhbGVbdG9rZW5dO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9fbGliL2J1aWxkTG9jYWxpemVGbi5qc1xuZnVuY3Rpb24gYnVpbGRMb2NhbGl6ZUZuKGFyZ3MpIHtcbiAgcmV0dXJuICh2YWx1ZSwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5jb250ZXh0KSA/IFN0cmluZyhvcHRpb25zLmNvbnRleHQpIDogXCJzdGFuZGFsb25lXCI7XG4gICAgbGV0IHZhbHVlc0FycmF5O1xuICAgIGlmIChjb250ZXh0ID09PSBcImZvcm1hdHRpbmdcIiAmJiBhcmdzLmZvcm1hdHRpbmdWYWx1ZXMpIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRXaWR0aCA9IGFyZ3MuZGVmYXVsdEZvcm1hdHRpbmdXaWR0aCB8fCBhcmdzLmRlZmF1bHRXaWR0aDtcbiAgICAgIGNvbnN0IHdpZHRoID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMud2lkdGgpID8gU3RyaW5nKG9wdGlvbnMud2lkdGgpIDogZGVmYXVsdFdpZHRoO1xuICAgICAgdmFsdWVzQXJyYXkgPSBhcmdzLmZvcm1hdHRpbmdWYWx1ZXNbd2lkdGhdIHx8IGFyZ3MuZm9ybWF0dGluZ1ZhbHVlc1tkZWZhdWx0V2lkdGhdO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkZWZhdWx0V2lkdGggPSBhcmdzLmRlZmF1bHRXaWR0aDtcbiAgICAgIGNvbnN0IHdpZHRoID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMud2lkdGgpID8gU3RyaW5nKG9wdGlvbnMud2lkdGgpIDogYXJncy5kZWZhdWx0V2lkdGg7XG4gICAgICB2YWx1ZXNBcnJheSA9IGFyZ3MudmFsdWVzW3dpZHRoXSB8fCBhcmdzLnZhbHVlc1tkZWZhdWx0V2lkdGhdO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IGFyZ3MuYXJndW1lbnRDYWxsYmFjayA/IGFyZ3MuYXJndW1lbnRDYWxsYmFjayh2YWx1ZSkgOiB2YWx1ZTtcbiAgICByZXR1cm4gdmFsdWVzQXJyYXlbaW5kZXhdO1xuICB9O1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL2xvY2FsaXplLmpzXG52YXIgZXJhVmFsdWVzID0ge1xuICBuYXJyb3c6IFtcIkJcIiwgXCJBXCJdLFxuICBhYmJyZXZpYXRlZDogW1wiQkNcIiwgXCJBRFwiXSxcbiAgd2lkZTogW1wiQmVmb3JlIENocmlzdFwiLCBcIkFubm8gRG9taW5pXCJdXG59O1xudmFyIHF1YXJ0ZXJWYWx1ZXMgPSB7XG4gIG5hcnJvdzogW1wiMVwiLCBcIjJcIiwgXCIzXCIsIFwiNFwiXSxcbiAgYWJicmV2aWF0ZWQ6IFtcIlExXCIsIFwiUTJcIiwgXCJRM1wiLCBcIlE0XCJdLFxuICB3aWRlOiBbXCIxc3QgcXVhcnRlclwiLCBcIjJuZCBxdWFydGVyXCIsIFwiM3JkIHF1YXJ0ZXJcIiwgXCI0dGggcXVhcnRlclwiXVxufTtcbnZhciBtb250aFZhbHVlcyA9IHtcbiAgbmFycm93OiBbXCJKXCIsIFwiRlwiLCBcIk1cIiwgXCJBXCIsIFwiTVwiLCBcIkpcIiwgXCJKXCIsIFwiQVwiLCBcIlNcIiwgXCJPXCIsIFwiTlwiLCBcIkRcIl0sXG4gIGFiYnJldmlhdGVkOiBbXG4gICAgXCJKYW5cIixcbiAgICBcIkZlYlwiLFxuICAgIFwiTWFyXCIsXG4gICAgXCJBcHJcIixcbiAgICBcIk1heVwiLFxuICAgIFwiSnVuXCIsXG4gICAgXCJKdWxcIixcbiAgICBcIkF1Z1wiLFxuICAgIFwiU2VwXCIsXG4gICAgXCJPY3RcIixcbiAgICBcIk5vdlwiLFxuICAgIFwiRGVjXCJcbiAgXSxcbiAgd2lkZTogW1xuICAgIFwiSmFudWFyeVwiLFxuICAgIFwiRmVicnVhcnlcIixcbiAgICBcIk1hcmNoXCIsXG4gICAgXCJBcHJpbFwiLFxuICAgIFwiTWF5XCIsXG4gICAgXCJKdW5lXCIsXG4gICAgXCJKdWx5XCIsXG4gICAgXCJBdWd1c3RcIixcbiAgICBcIlNlcHRlbWJlclwiLFxuICAgIFwiT2N0b2JlclwiLFxuICAgIFwiTm92ZW1iZXJcIixcbiAgICBcIkRlY2VtYmVyXCJcbiAgXVxufTtcbnZhciBkYXlWYWx1ZXMgPSB7XG4gIG5hcnJvdzogW1wiU1wiLCBcIk1cIiwgXCJUXCIsIFwiV1wiLCBcIlRcIiwgXCJGXCIsIFwiU1wiXSxcbiAgc2hvcnQ6IFtcIlN1XCIsIFwiTW9cIiwgXCJUdVwiLCBcIldlXCIsIFwiVGhcIiwgXCJGclwiLCBcIlNhXCJdLFxuICBhYmJyZXZpYXRlZDogW1wiU3VuXCIsIFwiTW9uXCIsIFwiVHVlXCIsIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsIFwiU2F0XCJdLFxuICB3aWRlOiBbXG4gICAgXCJTdW5kYXlcIixcbiAgICBcIk1vbmRheVwiLFxuICAgIFwiVHVlc2RheVwiLFxuICAgIFwiV2VkbmVzZGF5XCIsXG4gICAgXCJUaHVyc2RheVwiLFxuICAgIFwiRnJpZGF5XCIsXG4gICAgXCJTYXR1cmRheVwiXG4gIF1cbn07XG52YXIgZGF5UGVyaW9kVmFsdWVzID0ge1xuICBuYXJyb3c6IHtcbiAgICBhbTogXCJhXCIsXG4gICAgcG06IFwicFwiLFxuICAgIG1pZG5pZ2h0OiBcIm1pXCIsXG4gICAgbm9vbjogXCJuXCIsXG4gICAgbW9ybmluZzogXCJtb3JuaW5nXCIsXG4gICAgYWZ0ZXJub29uOiBcImFmdGVybm9vblwiLFxuICAgIGV2ZW5pbmc6IFwiZXZlbmluZ1wiLFxuICAgIG5pZ2h0OiBcIm5pZ2h0XCJcbiAgfSxcbiAgYWJicmV2aWF0ZWQ6IHtcbiAgICBhbTogXCJBTVwiLFxuICAgIHBtOiBcIlBNXCIsXG4gICAgbWlkbmlnaHQ6IFwibWlkbmlnaHRcIixcbiAgICBub29uOiBcIm5vb25cIixcbiAgICBtb3JuaW5nOiBcIm1vcm5pbmdcIixcbiAgICBhZnRlcm5vb246IFwiYWZ0ZXJub29uXCIsXG4gICAgZXZlbmluZzogXCJldmVuaW5nXCIsXG4gICAgbmlnaHQ6IFwibmlnaHRcIlxuICB9LFxuICB3aWRlOiB7XG4gICAgYW06IFwiYS5tLlwiLFxuICAgIHBtOiBcInAubS5cIixcbiAgICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICAgIG5vb246IFwibm9vblwiLFxuICAgIG1vcm5pbmc6IFwibW9ybmluZ1wiLFxuICAgIGFmdGVybm9vbjogXCJhZnRlcm5vb25cIixcbiAgICBldmVuaW5nOiBcImV2ZW5pbmdcIixcbiAgICBuaWdodDogXCJuaWdodFwiXG4gIH1cbn07XG52YXIgZm9ybWF0dGluZ0RheVBlcmlvZFZhbHVlcyA9IHtcbiAgbmFycm93OiB7XG4gICAgYW06IFwiYVwiLFxuICAgIHBtOiBcInBcIixcbiAgICBtaWRuaWdodDogXCJtaVwiLFxuICAgIG5vb246IFwiblwiLFxuICAgIG1vcm5pbmc6IFwiaW4gdGhlIG1vcm5pbmdcIixcbiAgICBhZnRlcm5vb246IFwiaW4gdGhlIGFmdGVybm9vblwiLFxuICAgIGV2ZW5pbmc6IFwiaW4gdGhlIGV2ZW5pbmdcIixcbiAgICBuaWdodDogXCJhdCBuaWdodFwiXG4gIH0sXG4gIGFiYnJldmlhdGVkOiB7XG4gICAgYW06IFwiQU1cIixcbiAgICBwbTogXCJQTVwiLFxuICAgIG1pZG5pZ2h0OiBcIm1pZG5pZ2h0XCIsXG4gICAgbm9vbjogXCJub29uXCIsXG4gICAgbW9ybmluZzogXCJpbiB0aGUgbW9ybmluZ1wiLFxuICAgIGFmdGVybm9vbjogXCJpbiB0aGUgYWZ0ZXJub29uXCIsXG4gICAgZXZlbmluZzogXCJpbiB0aGUgZXZlbmluZ1wiLFxuICAgIG5pZ2h0OiBcImF0IG5pZ2h0XCJcbiAgfSxcbiAgd2lkZToge1xuICAgIGFtOiBcImEubS5cIixcbiAgICBwbTogXCJwLm0uXCIsXG4gICAgbWlkbmlnaHQ6IFwibWlkbmlnaHRcIixcbiAgICBub29uOiBcIm5vb25cIixcbiAgICBtb3JuaW5nOiBcImluIHRoZSBtb3JuaW5nXCIsXG4gICAgYWZ0ZXJub29uOiBcImluIHRoZSBhZnRlcm5vb25cIixcbiAgICBldmVuaW5nOiBcImluIHRoZSBldmVuaW5nXCIsXG4gICAgbmlnaHQ6IFwiYXQgbmlnaHRcIlxuICB9XG59O1xudmFyIG9yZGluYWxOdW1iZXIgPSAoZGlydHlOdW1iZXIsIF9vcHRpb25zKSA9PiB7XG4gIGNvbnN0IG51bWJlciA9IE51bWJlcihkaXJ0eU51bWJlcik7XG4gIGNvbnN0IHJlbTEwMCA9IG51bWJlciAlIDEwMDtcbiAgaWYgKHJlbTEwMCA+IDIwIHx8IHJlbTEwMCA8IDEwKSB7XG4gICAgc3dpdGNoIChyZW0xMDAgJSAxMCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gbnVtYmVyICsgXCJzdFwiO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gbnVtYmVyICsgXCJuZFwiO1xuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gbnVtYmVyICsgXCJyZFwiO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVtYmVyICsgXCJ0aFwiO1xufTtcbnZhciBsb2NhbGl6ZSA9IHtcbiAgb3JkaW5hbE51bWJlcixcbiAgZXJhOiBidWlsZExvY2FsaXplRm4oe1xuICAgIHZhbHVlczogZXJhVmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJ3aWRlXCJcbiAgfSksXG4gIHF1YXJ0ZXI6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBxdWFydGVyVmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJ3aWRlXCIsXG4gICAgYXJndW1lbnRDYWxsYmFjazogKHF1YXJ0ZXIpID0+IHF1YXJ0ZXIgLSAxXG4gIH0pLFxuICBtb250aDogYnVpbGRMb2NhbGl6ZUZuKHtcbiAgICB2YWx1ZXM6IG1vbnRoVmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJ3aWRlXCJcbiAgfSksXG4gIGRheTogYnVpbGRMb2NhbGl6ZUZuKHtcbiAgICB2YWx1ZXM6IGRheVZhbHVlcyxcbiAgICBkZWZhdWx0V2lkdGg6IFwid2lkZVwiXG4gIH0pLFxuICBkYXlQZXJpb2Q6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBkYXlQZXJpb2RWYWx1ZXMsXG4gICAgZGVmYXVsdFdpZHRoOiBcIndpZGVcIixcbiAgICBmb3JtYXR0aW5nVmFsdWVzOiBmb3JtYXR0aW5nRGF5UGVyaW9kVmFsdWVzLFxuICAgIGRlZmF1bHRGb3JtYXR0aW5nV2lkdGg6IFwid2lkZVwiXG4gIH0pXG59O1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9fbGliL2J1aWxkTWF0Y2hGbi5qc1xuZnVuY3Rpb24gYnVpbGRNYXRjaEZuKGFyZ3MpIHtcbiAgcmV0dXJuIChzdHJpbmcsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHdpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICBjb25zdCBtYXRjaFBhdHRlcm4gPSB3aWR0aCAmJiBhcmdzLm1hdGNoUGF0dGVybnNbd2lkdGhdIHx8IGFyZ3MubWF0Y2hQYXR0ZXJuc1thcmdzLmRlZmF1bHRNYXRjaFdpZHRoXTtcbiAgICBjb25zdCBtYXRjaFJlc3VsdCA9IHN0cmluZy5tYXRjaChtYXRjaFBhdHRlcm4pO1xuICAgIGlmICghbWF0Y2hSZXN1bHQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBtYXRjaGVkU3RyaW5nID0gbWF0Y2hSZXN1bHRbMF07XG4gICAgY29uc3QgcGFyc2VQYXR0ZXJucyA9IHdpZHRoICYmIGFyZ3MucGFyc2VQYXR0ZXJuc1t3aWR0aF0gfHwgYXJncy5wYXJzZVBhdHRlcm5zW2FyZ3MuZGVmYXVsdFBhcnNlV2lkdGhdO1xuICAgIGNvbnN0IGtleSA9IEFycmF5LmlzQXJyYXkocGFyc2VQYXR0ZXJucykgPyBmaW5kSW5kZXgocGFyc2VQYXR0ZXJucywgKHBhdHRlcm4pID0+IHBhdHRlcm4udGVzdChtYXRjaGVkU3RyaW5nKSkgOiAoXG4gICAgICAvLyBbVE9ET10gLS0gSSBjaGFsbGVuZ2UgeW91IHRvIGZpeCB0aGUgdHlwZVxuICAgICAgZmluZEtleShwYXJzZVBhdHRlcm5zLCAocGF0dGVybikgPT4gcGF0dGVybi50ZXN0KG1hdGNoZWRTdHJpbmcpKVxuICAgICk7XG4gICAgbGV0IHZhbHVlO1xuICAgIHZhbHVlID0gYXJncy52YWx1ZUNhbGxiYWNrID8gYXJncy52YWx1ZUNhbGxiYWNrKGtleSkgOiBrZXk7XG4gICAgdmFsdWUgPSBvcHRpb25zLnZhbHVlQ2FsbGJhY2sgPyAoXG4gICAgICAvLyBbVE9ET10gLS0gSSBjaGFsbGVuZ2UgeW91IHRvIGZpeCB0aGUgdHlwZVxuICAgICAgb3B0aW9ucy52YWx1ZUNhbGxiYWNrKHZhbHVlKVxuICAgICkgOiB2YWx1ZTtcbiAgICBjb25zdCByZXN0ID0gc3RyaW5nLnNsaWNlKG1hdGNoZWRTdHJpbmcubGVuZ3RoKTtcbiAgICByZXR1cm4geyB2YWx1ZSwgcmVzdCB9O1xuICB9O1xufVxuZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBwcmVkaWNhdGUob2JqZWN0W2tleV0pKSB7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgZm9yIChsZXQga2V5ID0gMDsga2V5IDwgYXJyYXkubGVuZ3RoOyBrZXkrKykge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlba2V5XSkpIHtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRNYXRjaFBhdHRlcm5Gbi5qc1xuZnVuY3Rpb24gYnVpbGRNYXRjaFBhdHRlcm5GbihhcmdzKSB7XG4gIHJldHVybiAoc3RyaW5nLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCBtYXRjaFJlc3VsdCA9IHN0cmluZy5tYXRjaChhcmdzLm1hdGNoUGF0dGVybik7XG4gICAgaWYgKCFtYXRjaFJlc3VsdCkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgbWF0Y2hlZFN0cmluZyA9IG1hdGNoUmVzdWx0WzBdO1xuICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gc3RyaW5nLm1hdGNoKGFyZ3MucGFyc2VQYXR0ZXJuKTtcbiAgICBpZiAoIXBhcnNlUmVzdWx0KSByZXR1cm4gbnVsbDtcbiAgICBsZXQgdmFsdWUgPSBhcmdzLnZhbHVlQ2FsbGJhY2sgPyBhcmdzLnZhbHVlQ2FsbGJhY2socGFyc2VSZXN1bHRbMF0pIDogcGFyc2VSZXN1bHRbMF07XG4gICAgdmFsdWUgPSBvcHRpb25zLnZhbHVlQ2FsbGJhY2sgPyBvcHRpb25zLnZhbHVlQ2FsbGJhY2sodmFsdWUpIDogdmFsdWU7XG4gICAgY29uc3QgcmVzdCA9IHN0cmluZy5zbGljZShtYXRjaGVkU3RyaW5nLmxlbmd0aCk7XG4gICAgcmV0dXJuIHsgdmFsdWUsIHJlc3QgfTtcbiAgfTtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9tYXRjaC5qc1xudmFyIG1hdGNoT3JkaW5hbE51bWJlclBhdHRlcm4gPSAvXihcXGQrKSh0aHxzdHxuZHxyZCk/L2k7XG52YXIgcGFyc2VPcmRpbmFsTnVtYmVyUGF0dGVybiA9IC9cXGQrL2k7XG52YXIgbWF0Y2hFcmFQYXR0ZXJucyA9IHtcbiAgbmFycm93OiAvXihifGEpL2ksXG4gIGFiYnJldmlhdGVkOiAvXihiXFwuP1xccz9jXFwuP3xiXFwuP1xccz9jXFwuP1xccz9lXFwuP3xhXFwuP1xccz9kXFwuP3xjXFwuP1xccz9lXFwuPykvaSxcbiAgd2lkZTogL14oYmVmb3JlIGNocmlzdHxiZWZvcmUgY29tbW9uIGVyYXxhbm5vIGRvbWluaXxjb21tb24gZXJhKS9pXG59O1xudmFyIHBhcnNlRXJhUGF0dGVybnMgPSB7XG4gIGFueTogWy9eYi9pLCAvXihhfGMpL2ldXG59O1xudmFyIG1hdGNoUXVhcnRlclBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eWzEyMzRdL2ksXG4gIGFiYnJldmlhdGVkOiAvXnFbMTIzNF0vaSxcbiAgd2lkZTogL15bMTIzNF0odGh8c3R8bmR8cmQpPyBxdWFydGVyL2lcbn07XG52YXIgcGFyc2VRdWFydGVyUGF0dGVybnMgPSB7XG4gIGFueTogWy8xL2ksIC8yL2ksIC8zL2ksIC80L2ldXG59O1xudmFyIG1hdGNoTW9udGhQYXR0ZXJucyA9IHtcbiAgbmFycm93OiAvXltqZm1hc29uZF0vaSxcbiAgYWJicmV2aWF0ZWQ6IC9eKGphbnxmZWJ8bWFyfGFwcnxtYXl8anVufGp1bHxhdWd8c2VwfG9jdHxub3Z8ZGVjKS9pLFxuICB3aWRlOiAvXihqYW51YXJ5fGZlYnJ1YXJ5fG1hcmNofGFwcmlsfG1heXxqdW5lfGp1bHl8YXVndXN0fHNlcHRlbWJlcnxvY3RvYmVyfG5vdmVtYmVyfGRlY2VtYmVyKS9pXG59O1xudmFyIHBhcnNlTW9udGhQYXR0ZXJucyA9IHtcbiAgbmFycm93OiBbXG4gICAgL15qL2ksXG4gICAgL15mL2ksXG4gICAgL15tL2ksXG4gICAgL15hL2ksXG4gICAgL15tL2ksXG4gICAgL15qL2ksXG4gICAgL15qL2ksXG4gICAgL15hL2ksXG4gICAgL15zL2ksXG4gICAgL15vL2ksXG4gICAgL15uL2ksXG4gICAgL15kL2lcbiAgXSxcbiAgYW55OiBbXG4gICAgL15qYS9pLFxuICAgIC9eZi9pLFxuICAgIC9ebWFyL2ksXG4gICAgL15hcC9pLFxuICAgIC9ebWF5L2ksXG4gICAgL15qdW4vaSxcbiAgICAvXmp1bC9pLFxuICAgIC9eYXUvaSxcbiAgICAvXnMvaSxcbiAgICAvXm8vaSxcbiAgICAvXm4vaSxcbiAgICAvXmQvaVxuICBdXG59O1xudmFyIG1hdGNoRGF5UGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL15bc210d2ZdL2ksXG4gIHNob3J0OiAvXihzdXxtb3x0dXx3ZXx0aHxmcnxzYSkvaSxcbiAgYWJicmV2aWF0ZWQ6IC9eKHN1bnxtb258dHVlfHdlZHx0aHV8ZnJpfHNhdCkvaSxcbiAgd2lkZTogL14oc3VuZGF5fG1vbmRheXx0dWVzZGF5fHdlZG5lc2RheXx0aHVyc2RheXxmcmlkYXl8c2F0dXJkYXkpL2lcbn07XG52YXIgcGFyc2VEYXlQYXR0ZXJucyA9IHtcbiAgbmFycm93OiBbL15zL2ksIC9ebS9pLCAvXnQvaSwgL153L2ksIC9edC9pLCAvXmYvaSwgL15zL2ldLFxuICBhbnk6IFsvXnN1L2ksIC9ebS9pLCAvXnR1L2ksIC9edy9pLCAvXnRoL2ksIC9eZi9pLCAvXnNhL2ldXG59O1xudmFyIG1hdGNoRGF5UGVyaW9kUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL14oYXxwfG1pfG58KGluIHRoZXxhdCkgKG1vcm5pbmd8YWZ0ZXJub29ufGV2ZW5pbmd8bmlnaHQpKS9pLFxuICBhbnk6IC9eKFthcF1cXC4/XFxzP21cXC4/fG1pZG5pZ2h0fG5vb258KGluIHRoZXxhdCkgKG1vcm5pbmd8YWZ0ZXJub29ufGV2ZW5pbmd8bmlnaHQpKS9pXG59O1xudmFyIHBhcnNlRGF5UGVyaW9kUGF0dGVybnMgPSB7XG4gIGFueToge1xuICAgIGFtOiAvXmEvaSxcbiAgICBwbTogL15wL2ksXG4gICAgbWlkbmlnaHQ6IC9ebWkvaSxcbiAgICBub29uOiAvXm5vL2ksXG4gICAgbW9ybmluZzogL21vcm5pbmcvaSxcbiAgICBhZnRlcm5vb246IC9hZnRlcm5vb24vaSxcbiAgICBldmVuaW5nOiAvZXZlbmluZy9pLFxuICAgIG5pZ2h0OiAvbmlnaHQvaVxuICB9XG59O1xudmFyIG1hdGNoID0ge1xuICBvcmRpbmFsTnVtYmVyOiBidWlsZE1hdGNoUGF0dGVybkZuKHtcbiAgICBtYXRjaFBhdHRlcm46IG1hdGNoT3JkaW5hbE51bWJlclBhdHRlcm4sXG4gICAgcGFyc2VQYXR0ZXJuOiBwYXJzZU9yZGluYWxOdW1iZXJQYXR0ZXJuLFxuICAgIHZhbHVlQ2FsbGJhY2s6ICh2YWx1ZSkgPT4gcGFyc2VJbnQodmFsdWUsIDEwKVxuICB9KSxcbiAgZXJhOiBidWlsZE1hdGNoRm4oe1xuICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoRXJhUGF0dGVybnMsXG4gICAgZGVmYXVsdE1hdGNoV2lkdGg6IFwid2lkZVwiLFxuICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlRXJhUGF0dGVybnMsXG4gICAgZGVmYXVsdFBhcnNlV2lkdGg6IFwiYW55XCJcbiAgfSksXG4gIHF1YXJ0ZXI6IGJ1aWxkTWF0Y2hGbih7XG4gICAgbWF0Y2hQYXR0ZXJuczogbWF0Y2hRdWFydGVyUGF0dGVybnMsXG4gICAgZGVmYXVsdE1hdGNoV2lkdGg6IFwid2lkZVwiLFxuICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlUXVhcnRlclBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiBcImFueVwiLFxuICAgIHZhbHVlQ2FsbGJhY2s6IChpbmRleCkgPT4gaW5kZXggKyAxXG4gIH0pLFxuICBtb250aDogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaE1vbnRoUGF0dGVybnMsXG4gICAgZGVmYXVsdE1hdGNoV2lkdGg6IFwid2lkZVwiLFxuICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlTW9udGhQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogXCJhbnlcIlxuICB9KSxcbiAgZGF5OiBidWlsZE1hdGNoRm4oe1xuICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoRGF5UGF0dGVybnMsXG4gICAgZGVmYXVsdE1hdGNoV2lkdGg6IFwid2lkZVwiLFxuICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlRGF5UGF0dGVybnMsXG4gICAgZGVmYXVsdFBhcnNlV2lkdGg6IFwiYW55XCJcbiAgfSksXG4gIGRheVBlcmlvZDogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaERheVBlcmlvZFBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiBcImFueVwiLFxuICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlRGF5UGVyaW9kUGF0dGVybnMsXG4gICAgZGVmYXVsdFBhcnNlV2lkdGg6IFwiYW55XCJcbiAgfSlcbn07XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTLmpzXG52YXIgZW5VUyA9IHtcbiAgY29kZTogXCJlbi1VU1wiLFxuICBmb3JtYXREaXN0YW5jZSxcbiAgZm9ybWF0TG9uZyxcbiAgZm9ybWF0UmVsYXRpdmUsXG4gIGxvY2FsaXplLFxuICBtYXRjaCxcbiAgb3B0aW9uczoge1xuICAgIHdlZWtTdGFydHNPbjogMCxcbiAgICBmaXJzdFdlZWtDb250YWluc0RhdGU6IDFcbiAgfVxufTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2RlZmF1bHRPcHRpb25zLmpzXG52YXIgZGVmYXVsdE9wdGlvbnMgPSB7fTtcbmZ1bmN0aW9uIGdldERlZmF1bHRPcHRpb25zKCkge1xuICByZXR1cm4gZGVmYXVsdE9wdGlvbnM7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvY29uc3RhbnRzLmpzXG52YXIgZGF5c0luWWVhciA9IDM2NS4yNDI1O1xudmFyIG1heFRpbWUgPSBNYXRoLnBvdygxMCwgOCkgKiAyNCAqIDYwICogNjAgKiAxZTM7XG52YXIgbWluVGltZSA9IC1tYXhUaW1lO1xudmFyIG1pbGxpc2Vjb25kc0luV2VlayA9IDYwNDhlNTtcbnZhciBtaWxsaXNlY29uZHNJbkRheSA9IDg2NGU1O1xudmFyIG1pbGxpc2Vjb25kc0luTWludXRlID0gNmU0O1xudmFyIG1pbGxpc2Vjb25kc0luSG91ciA9IDM2ZTU7XG52YXIgc2Vjb25kc0luSG91ciA9IDM2MDA7XG52YXIgc2Vjb25kc0luRGF5ID0gc2Vjb25kc0luSG91ciAqIDI0O1xudmFyIHNlY29uZHNJbldlZWsgPSBzZWNvbmRzSW5EYXkgKiA3O1xudmFyIHNlY29uZHNJblllYXIgPSBzZWNvbmRzSW5EYXkgKiBkYXlzSW5ZZWFyO1xudmFyIHNlY29uZHNJbk1vbnRoID0gc2Vjb25kc0luWWVhciAvIDEyO1xudmFyIHNlY29uZHNJblF1YXJ0ZXIgPSBzZWNvbmRzSW5Nb250aCAqIDM7XG52YXIgY29uc3RydWN0RnJvbVN5bWJvbCA9IFN5bWJvbC5mb3IoXCJjb25zdHJ1Y3REYXRlRnJvbVwiKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9jb25zdHJ1Y3RGcm9tLmpzXG5mdW5jdGlvbiBjb25zdHJ1Y3RGcm9tKGRhdGUsIHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgZGF0ZSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gZGF0ZSh2YWx1ZSk7XG4gIGlmIChkYXRlICYmIHR5cGVvZiBkYXRlID09PSBcIm9iamVjdFwiICYmIGNvbnN0cnVjdEZyb21TeW1ib2wgaW4gZGF0ZSlcbiAgICByZXR1cm4gZGF0ZVtjb25zdHJ1Y3RGcm9tU3ltYm9sXSh2YWx1ZSk7XG4gIGlmIChkYXRlIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIG5ldyBkYXRlLmNvbnN0cnVjdG9yKHZhbHVlKTtcbiAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKTtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy90b0RhdGUuanNcbmZ1bmN0aW9uIHRvRGF0ZShhcmd1bWVudCwgY29udGV4dCkge1xuICByZXR1cm4gY29uc3RydWN0RnJvbShjb250ZXh0IHx8IGFyZ3VtZW50LCBhcmd1bWVudCk7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9nZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzLmpzXG5mdW5jdGlvbiBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKGRhdGUpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IHV0Y0RhdGUgPSBuZXcgRGF0ZShcbiAgICBEYXRlLlVUQyhcbiAgICAgIF9kYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICBfZGF0ZS5nZXRNb250aCgpLFxuICAgICAgX2RhdGUuZ2V0RGF0ZSgpLFxuICAgICAgX2RhdGUuZ2V0SG91cnMoKSxcbiAgICAgIF9kYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgIF9kYXRlLmdldFNlY29uZHMoKSxcbiAgICAgIF9kYXRlLmdldE1pbGxpc2Vjb25kcygpXG4gICAgKVxuICApO1xuICB1dGNEYXRlLnNldFVUQ0Z1bGxZZWFyKF9kYXRlLmdldEZ1bGxZZWFyKCkpO1xuICByZXR1cm4gK2RhdGUgLSArdXRjRGF0ZTtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL25vcm1hbGl6ZURhdGVzLmpzXG5mdW5jdGlvbiBub3JtYWxpemVEYXRlcyhjb250ZXh0LCAuLi5kYXRlcykge1xuICBjb25zdCBub3JtYWxpemUgPSBjb25zdHJ1Y3RGcm9tLmJpbmQoXG4gICAgbnVsbCxcbiAgICBjb250ZXh0IHx8IGRhdGVzLmZpbmQoKGRhdGUpID0+IHR5cGVvZiBkYXRlID09PSBcIm9iamVjdFwiKVxuICApO1xuICByZXR1cm4gZGF0ZXMubWFwKG5vcm1hbGl6ZSk7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZkRheS5qc1xuZnVuY3Rpb24gc3RhcnRPZkRheShkYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4pO1xuICBfZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIF9kYXRlO1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cy5qc1xuZnVuY3Rpb24gZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKGxhdGVyRGF0ZSwgZWFybGllckRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgW2xhdGVyRGF0ZV8sIGVhcmxpZXJEYXRlX10gPSBub3JtYWxpemVEYXRlcyhcbiAgICBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluLFxuICAgIGxhdGVyRGF0ZSxcbiAgICBlYXJsaWVyRGF0ZVxuICApO1xuICBjb25zdCBsYXRlclN0YXJ0T2ZEYXkgPSBzdGFydE9mRGF5KGxhdGVyRGF0ZV8pO1xuICBjb25zdCBlYXJsaWVyU3RhcnRPZkRheSA9IHN0YXJ0T2ZEYXkoZWFybGllckRhdGVfKTtcbiAgY29uc3QgbGF0ZXJUaW1lc3RhbXAgPSArbGF0ZXJTdGFydE9mRGF5IC0gZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyhsYXRlclN0YXJ0T2ZEYXkpO1xuICBjb25zdCBlYXJsaWVyVGltZXN0YW1wID0gK2VhcmxpZXJTdGFydE9mRGF5IC0gZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyhlYXJsaWVyU3RhcnRPZkRheSk7XG4gIHJldHVybiBNYXRoLnJvdW5kKChsYXRlclRpbWVzdGFtcCAtIGVhcmxpZXJUaW1lc3RhbXApIC8gbWlsbGlzZWNvbmRzSW5EYXkpO1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N0YXJ0T2ZZZWFyLmpzXG5mdW5jdGlvbiBzdGFydE9mWWVhcihkYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IGRhdGVfID0gdG9EYXRlKGRhdGUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4pO1xuICBkYXRlXy5zZXRGdWxsWWVhcihkYXRlXy5nZXRGdWxsWWVhcigpLCAwLCAxKTtcbiAgZGF0ZV8uc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBkYXRlXztcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXREYXlPZlllYXIuanNcbmZ1bmN0aW9uIGdldERheU9mWWVhcihkYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4pO1xuICBjb25zdCBkaWZmID0gZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKF9kYXRlLCBzdGFydE9mWWVhcihfZGF0ZSkpO1xuICBjb25zdCBkYXlPZlllYXIgPSBkaWZmICsgMTtcbiAgcmV0dXJuIGRheU9mWWVhcjtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mV2Vlay5qc1xuZnVuY3Rpb24gc3RhcnRPZldlZWsoZGF0ZSwgb3B0aW9ucykge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICBjb25zdCBkZWZhdWx0T3B0aW9uczIgPSBnZXREZWZhdWx0T3B0aW9ucygpO1xuICBjb25zdCB3ZWVrU3RhcnRzT24gPSAoX2ggPSAoX2cgPSAoX2QgPSAoX2MgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLndlZWtTdGFydHNPbikgIT0gbnVsbCA/IF9jIDogKF9iID0gKF9hID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5sb2NhbGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5vcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2Iud2Vla1N0YXJ0c09uKSAhPSBudWxsID8gX2QgOiBkZWZhdWx0T3B0aW9uczIud2Vla1N0YXJ0c09uKSAhPSBudWxsID8gX2cgOiAoX2YgPSAoX2UgPSBkZWZhdWx0T3B0aW9uczIubG9jYWxlKSA9PSBudWxsID8gdm9pZCAwIDogX2Uub3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLndlZWtTdGFydHNPbikgIT0gbnVsbCA/IF9oIDogMDtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSwgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbik7XG4gIGNvbnN0IGRheSA9IF9kYXRlLmdldERheSgpO1xuICBjb25zdCBkaWZmID0gKGRheSA8IHdlZWtTdGFydHNPbiA/IDcgOiAwKSArIGRheSAtIHdlZWtTdGFydHNPbjtcbiAgX2RhdGUuc2V0RGF0ZShfZGF0ZS5nZXREYXRlKCkgLSBkaWZmKTtcbiAgX2RhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBfZGF0ZTtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mSVNPV2Vlay5qc1xuZnVuY3Rpb24gc3RhcnRPZklTT1dlZWsoZGF0ZSwgb3B0aW9ucykge1xuICByZXR1cm4gc3RhcnRPZldlZWsoZGF0ZSwgeyAuLi5vcHRpb25zLCB3ZWVrU3RhcnRzT246IDEgfSk7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0SVNPV2Vla1llYXIuanNcbmZ1bmN0aW9uIGdldElTT1dlZWtZZWFyKGRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSwgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbik7XG4gIGNvbnN0IHllYXIgPSBfZGF0ZS5nZXRGdWxsWWVhcigpO1xuICBjb25zdCBmb3VydGhPZkphbnVhcnlPZk5leHRZZWFyID0gY29uc3RydWN0RnJvbShfZGF0ZSwgMCk7XG4gIGZvdXJ0aE9mSmFudWFyeU9mTmV4dFllYXIuc2V0RnVsbFllYXIoeWVhciArIDEsIDAsIDQpO1xuICBmb3VydGhPZkphbnVhcnlPZk5leHRZZWFyLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICBjb25zdCBzdGFydE9mTmV4dFllYXIgPSBzdGFydE9mSVNPV2Vlayhmb3VydGhPZkphbnVhcnlPZk5leHRZZWFyKTtcbiAgY29uc3QgZm91cnRoT2ZKYW51YXJ5T2ZUaGlzWWVhciA9IGNvbnN0cnVjdEZyb20oX2RhdGUsIDApO1xuICBmb3VydGhPZkphbnVhcnlPZlRoaXNZZWFyLnNldEZ1bGxZZWFyKHllYXIsIDAsIDQpO1xuICBmb3VydGhPZkphbnVhcnlPZlRoaXNZZWFyLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICBjb25zdCBzdGFydE9mVGhpc1llYXIgPSBzdGFydE9mSVNPV2Vlayhmb3VydGhPZkphbnVhcnlPZlRoaXNZZWFyKTtcbiAgaWYgKF9kYXRlLmdldFRpbWUoKSA+PSBzdGFydE9mTmV4dFllYXIuZ2V0VGltZSgpKSB7XG4gICAgcmV0dXJuIHllYXIgKyAxO1xuICB9IGVsc2UgaWYgKF9kYXRlLmdldFRpbWUoKSA+PSBzdGFydE9mVGhpc1llYXIuZ2V0VGltZSgpKSB7XG4gICAgcmV0dXJuIHllYXI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHllYXIgLSAxO1xuICB9XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZklTT1dlZWtZZWFyLmpzXG5mdW5jdGlvbiBzdGFydE9mSVNPV2Vla1llYXIoZGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCB5ZWFyID0gZ2V0SVNPV2Vla1llYXIoZGF0ZSwgb3B0aW9ucyk7XG4gIGNvbnN0IGZvdXJ0aE9mSmFudWFyeSA9IGNvbnN0cnVjdEZyb20oKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4pIHx8IGRhdGUsIDApO1xuICBmb3VydGhPZkphbnVhcnkuc2V0RnVsbFllYXIoeWVhciwgMCwgNCk7XG4gIGZvdXJ0aE9mSmFudWFyeS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIHN0YXJ0T2ZJU09XZWVrKGZvdXJ0aE9mSmFudWFyeSk7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0SVNPV2Vlay5qc1xuZnVuY3Rpb24gZ2V0SVNPV2VlayhkYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4pO1xuICBjb25zdCBkaWZmID0gK3N0YXJ0T2ZJU09XZWVrKF9kYXRlKSAtICtzdGFydE9mSVNPV2Vla1llYXIoX2RhdGUpO1xuICByZXR1cm4gTWF0aC5yb3VuZChkaWZmIC8gbWlsbGlzZWNvbmRzSW5XZWVrKSArIDE7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0V2Vla1llYXIuanNcbmZ1bmN0aW9uIGdldFdlZWtZZWFyKGRhdGUsIG9wdGlvbnMpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSwgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbik7XG4gIGNvbnN0IHllYXIgPSBfZGF0ZS5nZXRGdWxsWWVhcigpO1xuICBjb25zdCBkZWZhdWx0T3B0aW9uczIgPSBnZXREZWZhdWx0T3B0aW9ucygpO1xuICBjb25zdCBmaXJzdFdlZWtDb250YWluc0RhdGUgPSAoX2ggPSAoX2cgPSAoX2QgPSAoX2MgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSkgIT0gbnVsbCA/IF9jIDogKF9iID0gKF9hID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5sb2NhbGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5vcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZmlyc3RXZWVrQ29udGFpbnNEYXRlKSAhPSBudWxsID8gX2QgOiBkZWZhdWx0T3B0aW9uczIuZmlyc3RXZWVrQ29udGFpbnNEYXRlKSAhPSBudWxsID8gX2cgOiAoX2YgPSAoX2UgPSBkZWZhdWx0T3B0aW9uczIubG9jYWxlKSA9PSBudWxsID8gdm9pZCAwIDogX2Uub3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSkgIT0gbnVsbCA/IF9oIDogMTtcbiAgY29uc3QgZmlyc3RXZWVrT2ZOZXh0WWVhciA9IGNvbnN0cnVjdEZyb20oKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4pIHx8IGRhdGUsIDApO1xuICBmaXJzdFdlZWtPZk5leHRZZWFyLnNldEZ1bGxZZWFyKHllYXIgKyAxLCAwLCBmaXJzdFdlZWtDb250YWluc0RhdGUpO1xuICBmaXJzdFdlZWtPZk5leHRZZWFyLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICBjb25zdCBzdGFydE9mTmV4dFllYXIgPSBzdGFydE9mV2VlayhmaXJzdFdlZWtPZk5leHRZZWFyLCBvcHRpb25zKTtcbiAgY29uc3QgZmlyc3RXZWVrT2ZUaGlzWWVhciA9IGNvbnN0cnVjdEZyb20oKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4pIHx8IGRhdGUsIDApO1xuICBmaXJzdFdlZWtPZlRoaXNZZWFyLnNldEZ1bGxZZWFyKHllYXIsIDAsIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSk7XG4gIGZpcnN0V2Vla09mVGhpc1llYXIuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIGNvbnN0IHN0YXJ0T2ZUaGlzWWVhciA9IHN0YXJ0T2ZXZWVrKGZpcnN0V2Vla09mVGhpc1llYXIsIG9wdGlvbnMpO1xuICBpZiAoK19kYXRlID49ICtzdGFydE9mTmV4dFllYXIpIHtcbiAgICByZXR1cm4geWVhciArIDE7XG4gIH0gZWxzZSBpZiAoK19kYXRlID49ICtzdGFydE9mVGhpc1llYXIpIHtcbiAgICByZXR1cm4geWVhcjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geWVhciAtIDE7XG4gIH1cbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mV2Vla1llYXIuanNcbmZ1bmN0aW9uIHN0YXJ0T2ZXZWVrWWVhcihkYXRlLCBvcHRpb25zKSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2g7XG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zMiA9IGdldERlZmF1bHRPcHRpb25zKCk7XG4gIGNvbnN0IGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA9IChfaCA9IChfZyA9IChfZCA9IChfYyA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlKSAhPSBudWxsID8gX2MgOiAoX2IgPSAoX2EgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmxvY2FsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm9wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5maXJzdFdlZWtDb250YWluc0RhdGUpICE9IG51bGwgPyBfZCA6IGRlZmF1bHRPcHRpb25zMi5maXJzdFdlZWtDb250YWluc0RhdGUpICE9IG51bGwgPyBfZyA6IChfZiA9IChfZSA9IGRlZmF1bHRPcHRpb25zMi5sb2NhbGUpID09IG51bGwgPyB2b2lkIDAgOiBfZS5vcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2YuZmlyc3RXZWVrQ29udGFpbnNEYXRlKSAhPSBudWxsID8gX2ggOiAxO1xuICBjb25zdCB5ZWFyID0gZ2V0V2Vla1llYXIoZGF0ZSwgb3B0aW9ucyk7XG4gIGNvbnN0IGZpcnN0V2VlayA9IGNvbnN0cnVjdEZyb20oKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4pIHx8IGRhdGUsIDApO1xuICBmaXJzdFdlZWsuc2V0RnVsbFllYXIoeWVhciwgMCwgZmlyc3RXZWVrQ29udGFpbnNEYXRlKTtcbiAgZmlyc3RXZWVrLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICBjb25zdCBfZGF0ZSA9IHN0YXJ0T2ZXZWVrKGZpcnN0V2Vlaywgb3B0aW9ucyk7XG4gIHJldHVybiBfZGF0ZTtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXRXZWVrLmpzXG5mdW5jdGlvbiBnZXRXZWVrKGRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSwgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbik7XG4gIGNvbnN0IGRpZmYgPSArc3RhcnRPZldlZWsoX2RhdGUsIG9wdGlvbnMpIC0gK3N0YXJ0T2ZXZWVrWWVhcihfZGF0ZSwgb3B0aW9ucyk7XG4gIHJldHVybiBNYXRoLnJvdW5kKGRpZmYgLyBtaWxsaXNlY29uZHNJbldlZWspICsgMTtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2FkZExlYWRpbmdaZXJvcy5qc1xuZnVuY3Rpb24gYWRkTGVhZGluZ1plcm9zKG51bWJlciwgdGFyZ2V0TGVuZ3RoKSB7XG4gIGNvbnN0IHNpZ24gPSBudW1iZXIgPCAwID8gXCItXCIgOiBcIlwiO1xuICBjb25zdCBvdXRwdXQgPSBNYXRoLmFicyhudW1iZXIpLnRvU3RyaW5nKCkucGFkU3RhcnQodGFyZ2V0TGVuZ3RoLCBcIjBcIik7XG4gIHJldHVybiBzaWduICsgb3V0cHV0O1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZm9ybWF0L2xpZ2h0Rm9ybWF0dGVycy5qc1xudmFyIGxpZ2h0Rm9ybWF0dGVycyA9IHtcbiAgLy8gWWVhclxuICB5KGRhdGUsIHRva2VuKSB7XG4gICAgY29uc3Qgc2lnbmVkWWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICBjb25zdCB5ZWFyID0gc2lnbmVkWWVhciA+IDAgPyBzaWduZWRZZWFyIDogMSAtIHNpZ25lZFllYXI7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyh0b2tlbiA9PT0gXCJ5eVwiID8geWVhciAlIDEwMCA6IHllYXIsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG4gIC8vIE1vbnRoXG4gIE0oZGF0ZSwgdG9rZW4pIHtcbiAgICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICByZXR1cm4gdG9rZW4gPT09IFwiTVwiID8gU3RyaW5nKG1vbnRoICsgMSkgOiBhZGRMZWFkaW5nWmVyb3MobW9udGggKyAxLCAyKTtcbiAgfSxcbiAgLy8gRGF5IG9mIHRoZSBtb250aFxuICBkKGRhdGUsIHRva2VuKSB7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhkYXRlLmdldERhdGUoKSwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcbiAgLy8gQU0gb3IgUE1cbiAgYShkYXRlLCB0b2tlbikge1xuICAgIGNvbnN0IGRheVBlcmlvZEVudW1WYWx1ZSA9IGRhdGUuZ2V0SG91cnMoKSAvIDEyID49IDEgPyBcInBtXCIgOiBcImFtXCI7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgY2FzZSBcImFcIjpcbiAgICAgIGNhc2UgXCJhYVwiOlxuICAgICAgICByZXR1cm4gZGF5UGVyaW9kRW51bVZhbHVlLnRvVXBwZXJDYXNlKCk7XG4gICAgICBjYXNlIFwiYWFhXCI6XG4gICAgICAgIHJldHVybiBkYXlQZXJpb2RFbnVtVmFsdWU7XG4gICAgICBjYXNlIFwiYWFhYWFcIjpcbiAgICAgICAgcmV0dXJuIGRheVBlcmlvZEVudW1WYWx1ZVswXTtcbiAgICAgIGNhc2UgXCJhYWFhXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZGF5UGVyaW9kRW51bVZhbHVlID09PSBcImFtXCIgPyBcImEubS5cIiA6IFwicC5tLlwiO1xuICAgIH1cbiAgfSxcbiAgLy8gSG91ciBbMS0xMl1cbiAgaChkYXRlLCB0b2tlbikge1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoZGF0ZS5nZXRIb3VycygpICUgMTIgfHwgMTIsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG4gIC8vIEhvdXIgWzAtMjNdXG4gIEgoZGF0ZSwgdG9rZW4pIHtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGRhdGUuZ2V0SG91cnMoKSwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcbiAgLy8gTWludXRlXG4gIG0oZGF0ZSwgdG9rZW4pIHtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGRhdGUuZ2V0TWludXRlcygpLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuICAvLyBTZWNvbmRcbiAgcyhkYXRlLCB0b2tlbikge1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoZGF0ZS5nZXRTZWNvbmRzKCksIHRva2VuLmxlbmd0aCk7XG4gIH0sXG4gIC8vIEZyYWN0aW9uIG9mIHNlY29uZFxuICBTKGRhdGUsIHRva2VuKSB7XG4gICAgY29uc3QgbnVtYmVyT2ZEaWdpdHMgPSB0b2tlbi5sZW5ndGg7XG4gICAgY29uc3QgbWlsbGlzZWNvbmRzID0gZGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcbiAgICBjb25zdCBmcmFjdGlvbmFsU2Vjb25kcyA9IE1hdGgudHJ1bmMoXG4gICAgICBtaWxsaXNlY29uZHMgKiBNYXRoLnBvdygxMCwgbnVtYmVyT2ZEaWdpdHMgLSAzKVxuICAgICk7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhmcmFjdGlvbmFsU2Vjb25kcywgdG9rZW4ubGVuZ3RoKTtcbiAgfVxufTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2Zvcm1hdC9mb3JtYXR0ZXJzLmpzXG52YXIgZGF5UGVyaW9kRW51bSA9IHtcbiAgYW06IFwiYW1cIixcbiAgcG06IFwicG1cIixcbiAgbWlkbmlnaHQ6IFwibWlkbmlnaHRcIixcbiAgbm9vbjogXCJub29uXCIsXG4gIG1vcm5pbmc6IFwibW9ybmluZ1wiLFxuICBhZnRlcm5vb246IFwiYWZ0ZXJub29uXCIsXG4gIGV2ZW5pbmc6IFwiZXZlbmluZ1wiLFxuICBuaWdodDogXCJuaWdodFwiXG59O1xudmFyIGZvcm1hdHRlcnMgPSB7XG4gIC8vIEVyYVxuICBHOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUyKSB7XG4gICAgY29uc3QgZXJhID0gZGF0ZS5nZXRGdWxsWWVhcigpID4gMCA/IDEgOiAwO1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIEFELCBCQ1xuICAgICAgY2FzZSBcIkdcIjpcbiAgICAgIGNhc2UgXCJHR1wiOlxuICAgICAgY2FzZSBcIkdHR1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLmVyYShlcmEsIHsgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIiB9KTtcbiAgICAgIC8vIEEsIEJcbiAgICAgIGNhc2UgXCJHR0dHR1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLmVyYShlcmEsIHsgd2lkdGg6IFwibmFycm93XCIgfSk7XG4gICAgICAvLyBBbm5vIERvbWluaSwgQmVmb3JlIENocmlzdFxuICAgICAgY2FzZSBcIkdHR0dcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIuZXJhKGVyYSwgeyB3aWR0aDogXCJ3aWRlXCIgfSk7XG4gICAgfVxuICB9LFxuICAvLyBZZWFyXG4gIHk6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZTIpIHtcbiAgICBpZiAodG9rZW4gPT09IFwieW9cIikge1xuICAgICAgY29uc3Qgc2lnbmVkWWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgIGNvbnN0IHllYXIgPSBzaWduZWRZZWFyID4gMCA/IHNpZ25lZFllYXIgOiAxIC0gc2lnbmVkWWVhcjtcbiAgICAgIHJldHVybiBsb2NhbGl6ZTIub3JkaW5hbE51bWJlcih5ZWFyLCB7IHVuaXQ6IFwieWVhclwiIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLnkoZGF0ZSwgdG9rZW4pO1xuICB9LFxuICAvLyBMb2NhbCB3ZWVrLW51bWJlcmluZyB5ZWFyXG4gIFk6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZTIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzaWduZWRXZWVrWWVhciA9IGdldFdlZWtZZWFyKGRhdGUsIG9wdGlvbnMpO1xuICAgIGNvbnN0IHdlZWtZZWFyID0gc2lnbmVkV2Vla1llYXIgPiAwID8gc2lnbmVkV2Vla1llYXIgOiAxIC0gc2lnbmVkV2Vla1llYXI7XG4gICAgaWYgKHRva2VuID09PSBcIllZXCIpIHtcbiAgICAgIGNvbnN0IHR3b0RpZ2l0WWVhciA9IHdlZWtZZWFyICUgMTAwO1xuICAgICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyh0d29EaWdpdFllYXIsIDIpO1xuICAgIH1cbiAgICBpZiAodG9rZW4gPT09IFwiWW9cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplMi5vcmRpbmFsTnVtYmVyKHdlZWtZZWFyLCB7IHVuaXQ6IFwieWVhclwiIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKHdlZWtZZWFyLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuICAvLyBJU08gd2Vlay1udW1iZXJpbmcgeWVhclxuICBSOiBmdW5jdGlvbihkYXRlLCB0b2tlbikge1xuICAgIGNvbnN0IGlzb1dlZWtZZWFyID0gZ2V0SVNPV2Vla1llYXIoZGF0ZSk7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhpc29XZWVrWWVhciwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcbiAgLy8gRXh0ZW5kZWQgeWVhci4gVGhpcyBpcyBhIHNpbmdsZSBudW1iZXIgZGVzaWduYXRpbmcgdGhlIHllYXIgb2YgdGhpcyBjYWxlbmRhciBzeXN0ZW0uXG4gIC8vIFRoZSBtYWluIGRpZmZlcmVuY2UgYmV0d2VlbiBgeWAgYW5kIGB1YCBsb2NhbGl6ZXJzIGFyZSBCLkMuIHllYXJzOlxuICAvLyB8IFllYXIgfCBgeWAgfCBgdWAgfFxuICAvLyB8LS0tLS0tfC0tLS0tfC0tLS0tfFxuICAvLyB8IEFDIDEgfCAgIDEgfCAgIDEgfFxuICAvLyB8IEJDIDEgfCAgIDEgfCAgIDAgfFxuICAvLyB8IEJDIDIgfCAgIDIgfCAgLTEgfFxuICAvLyBBbHNvIGB5eWAgYWx3YXlzIHJldHVybnMgdGhlIGxhc3QgdHdvIGRpZ2l0cyBvZiBhIHllYXIsXG4gIC8vIHdoaWxlIGB1dWAgcGFkcyBzaW5nbGUgZGlnaXQgeWVhcnMgdG8gMiBjaGFyYWN0ZXJzIGFuZCByZXR1cm5zIG90aGVyIHllYXJzIHVuY2hhbmdlZC5cbiAgdTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4pIHtcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoeWVhciwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcbiAgLy8gUXVhcnRlclxuICBROiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUyKSB7XG4gICAgY29uc3QgcXVhcnRlciA9IE1hdGguY2VpbCgoZGF0ZS5nZXRNb250aCgpICsgMSkgLyAzKTtcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyAxLCAyLCAzLCA0XG4gICAgICBjYXNlIFwiUVwiOlxuICAgICAgICByZXR1cm4gU3RyaW5nKHF1YXJ0ZXIpO1xuICAgICAgLy8gMDEsIDAyLCAwMywgMDRcbiAgICAgIGNhc2UgXCJRUVwiOlxuICAgICAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKHF1YXJ0ZXIsIDIpO1xuICAgICAgLy8gMXN0LCAybmQsIDNyZCwgNHRoXG4gICAgICBjYXNlIFwiUW9cIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5vcmRpbmFsTnVtYmVyKHF1YXJ0ZXIsIHsgdW5pdDogXCJxdWFydGVyXCIgfSk7XG4gICAgICAvLyBRMSwgUTIsIFEzLCBRNFxuICAgICAgY2FzZSBcIlFRUVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgfSk7XG4gICAgICAvLyAxLCAyLCAzLCA0IChuYXJyb3cgcXVhcnRlcjsgY291bGQgYmUgbm90IG51bWVyaWNhbClcbiAgICAgIGNhc2UgXCJRUVFRUVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgIH0pO1xuICAgICAgLy8gMXN0IHF1YXJ0ZXIsIDJuZCBxdWFydGVyLCAuLi5cbiAgICAgIGNhc2UgXCJRUVFRXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIC8vIFN0YW5kLWFsb25lIHF1YXJ0ZXJcbiAgcTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplMikge1xuICAgIGNvbnN0IHF1YXJ0ZXIgPSBNYXRoLmNlaWwoKGRhdGUuZ2V0TW9udGgoKSArIDEpIC8gMyk7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gMSwgMiwgMywgNFxuICAgICAgY2FzZSBcInFcIjpcbiAgICAgICAgcmV0dXJuIFN0cmluZyhxdWFydGVyKTtcbiAgICAgIC8vIDAxLCAwMiwgMDMsIDA0XG4gICAgICBjYXNlIFwicXFcIjpcbiAgICAgICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhxdWFydGVyLCAyKTtcbiAgICAgIC8vIDFzdCwgMm5kLCAzcmQsIDR0aFxuICAgICAgY2FzZSBcInFvXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIub3JkaW5hbE51bWJlcihxdWFydGVyLCB7IHVuaXQ6IFwicXVhcnRlclwiIH0pO1xuICAgICAgLy8gUTEsIFEyLCBRMywgUTRcbiAgICAgIGNhc2UgXCJxcXFcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5xdWFydGVyKHF1YXJ0ZXIsIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiXG4gICAgICAgIH0pO1xuICAgICAgLy8gMSwgMiwgMywgNCAobmFycm93IHF1YXJ0ZXI7IGNvdWxkIGJlIG5vdCBudW1lcmljYWwpXG4gICAgICBjYXNlIFwicXFxcXFcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5xdWFydGVyKHF1YXJ0ZXIsIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIlxuICAgICAgICB9KTtcbiAgICAgIC8vIDFzdCBxdWFydGVyLCAybmQgcXVhcnRlciwgLi4uXG4gICAgICBjYXNlIFwicXFxcVwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5xdWFydGVyKHF1YXJ0ZXIsIHtcbiAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCJcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAvLyBNb250aFxuICBNOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUyKSB7XG4gICAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgY2FzZSBcIk1cIjpcbiAgICAgIGNhc2UgXCJNTVwiOlxuICAgICAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLk0oZGF0ZSwgdG9rZW4pO1xuICAgICAgLy8gMXN0LCAybmQsIC4uLiwgMTJ0aFxuICAgICAgY2FzZSBcIk1vXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIub3JkaW5hbE51bWJlcihtb250aCArIDEsIHsgdW5pdDogXCJtb250aFwiIH0pO1xuICAgICAgLy8gSmFuLCBGZWIsIC4uLiwgRGVjXG4gICAgICBjYXNlIFwiTU1NXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIubW9udGgobW9udGgsIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgIH0pO1xuICAgICAgLy8gSiwgRiwgLi4uLCBEXG4gICAgICBjYXNlIFwiTU1NTU1cIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5tb250aChtb250aCwge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgIH0pO1xuICAgICAgLy8gSmFudWFyeSwgRmVicnVhcnksIC4uLiwgRGVjZW1iZXJcbiAgICAgIGNhc2UgXCJNTU1NXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLm1vbnRoKG1vbnRoLCB7IHdpZHRoOiBcIndpZGVcIiwgY29udGV4dDogXCJmb3JtYXR0aW5nXCIgfSk7XG4gICAgfVxuICB9LFxuICAvLyBTdGFuZC1hbG9uZSBtb250aFxuICBMOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUyKSB7XG4gICAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gMSwgMiwgLi4uLCAxMlxuICAgICAgY2FzZSBcIkxcIjpcbiAgICAgICAgcmV0dXJuIFN0cmluZyhtb250aCArIDEpO1xuICAgICAgLy8gMDEsIDAyLCAuLi4sIDEyXG4gICAgICBjYXNlIFwiTExcIjpcbiAgICAgICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhtb250aCArIDEsIDIpO1xuICAgICAgLy8gMXN0LCAybmQsIC4uLiwgMTJ0aFxuICAgICAgY2FzZSBcIkxvXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIub3JkaW5hbE51bWJlcihtb250aCArIDEsIHsgdW5pdDogXCJtb250aFwiIH0pO1xuICAgICAgLy8gSmFuLCBGZWIsIC4uLiwgRGVjXG4gICAgICBjYXNlIFwiTExMXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIubW9udGgobW9udGgsIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiXG4gICAgICAgIH0pO1xuICAgICAgLy8gSiwgRiwgLi4uLCBEXG4gICAgICBjYXNlIFwiTExMTExcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5tb250aChtb250aCwge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiXG4gICAgICAgIH0pO1xuICAgICAgLy8gSmFudWFyeSwgRmVicnVhcnksIC4uLiwgRGVjZW1iZXJcbiAgICAgIGNhc2UgXCJMTExMXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLm1vbnRoKG1vbnRoLCB7IHdpZHRoOiBcIndpZGVcIiwgY29udGV4dDogXCJzdGFuZGFsb25lXCIgfSk7XG4gICAgfVxuICB9LFxuICAvLyBMb2NhbCB3ZWVrIG9mIHllYXJcbiAgdzogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplMiwgb3B0aW9ucykge1xuICAgIGNvbnN0IHdlZWsgPSBnZXRXZWVrKGRhdGUsIG9wdGlvbnMpO1xuICAgIGlmICh0b2tlbiA9PT0gXCJ3b1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUyLm9yZGluYWxOdW1iZXIod2VlaywgeyB1bml0OiBcIndlZWtcIiB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyh3ZWVrLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuICAvLyBJU08gd2VlayBvZiB5ZWFyXG4gIEk6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZTIpIHtcbiAgICBjb25zdCBpc29XZWVrID0gZ2V0SVNPV2VlayhkYXRlKTtcbiAgICBpZiAodG9rZW4gPT09IFwiSW9cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplMi5vcmRpbmFsTnVtYmVyKGlzb1dlZWssIHsgdW5pdDogXCJ3ZWVrXCIgfSk7XG4gICAgfVxuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoaXNvV2VlaywgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcbiAgLy8gRGF5IG9mIHRoZSBtb250aFxuICBkOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUyKSB7XG4gICAgaWYgKHRva2VuID09PSBcImRvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZTIub3JkaW5hbE51bWJlcihkYXRlLmdldERhdGUoKSwgeyB1bml0OiBcImRhdGVcIiB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy5kKGRhdGUsIHRva2VuKTtcbiAgfSxcbiAgLy8gRGF5IG9mIHllYXJcbiAgRDogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplMikge1xuICAgIGNvbnN0IGRheU9mWWVhciA9IGdldERheU9mWWVhcihkYXRlKTtcbiAgICBpZiAodG9rZW4gPT09IFwiRG9cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplMi5vcmRpbmFsTnVtYmVyKGRheU9mWWVhciwgeyB1bml0OiBcImRheU9mWWVhclwiIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGRheU9mWWVhciwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcbiAgLy8gRGF5IG9mIHdlZWtcbiAgRTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplMikge1xuICAgIGNvbnN0IGRheU9mV2VlayA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gVHVlXG4gICAgICBjYXNlIFwiRVwiOlxuICAgICAgY2FzZSBcIkVFXCI6XG4gICAgICBjYXNlIFwiRUVFXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgfSk7XG4gICAgICAvLyBUXG4gICAgICBjYXNlIFwiRUVFRUVcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgfSk7XG4gICAgICAvLyBUdVxuICAgICAgY2FzZSBcIkVFRUVFRVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJzaG9ydFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVlc2RheVxuICAgICAgY2FzZSBcIkVFRUVcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIC8vIExvY2FsIGRheSBvZiB3ZWVrXG4gIGU6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZTIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkYXlPZldlZWsgPSBkYXRlLmdldERheSgpO1xuICAgIGNvbnN0IGxvY2FsRGF5T2ZXZWVrID0gKGRheU9mV2VlayAtIG9wdGlvbnMud2Vla1N0YXJ0c09uICsgOCkgJSA3IHx8IDc7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gTnVtZXJpY2FsIHZhbHVlIChOdGggZGF5IG9mIHdlZWsgd2l0aCBjdXJyZW50IGxvY2FsZSBvciB3ZWVrU3RhcnRzT24pXG4gICAgICBjYXNlIFwiZVwiOlxuICAgICAgICByZXR1cm4gU3RyaW5nKGxvY2FsRGF5T2ZXZWVrKTtcbiAgICAgIC8vIFBhZGRlZCBudW1lcmljYWwgdmFsdWVcbiAgICAgIGNhc2UgXCJlZVwiOlxuICAgICAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGxvY2FsRGF5T2ZXZWVrLCAyKTtcbiAgICAgIC8vIDFzdCwgMm5kLCAuLi4sIDd0aFxuICAgICAgY2FzZSBcImVvXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIub3JkaW5hbE51bWJlcihsb2NhbERheU9mV2VlaywgeyB1bml0OiBcImRheVwiIH0pO1xuICAgICAgY2FzZSBcImVlZVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgIH0pO1xuICAgICAgLy8gVFxuICAgICAgY2FzZSBcImVlZWVlXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVcbiAgICAgIGNhc2UgXCJlZWVlZWVcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwic2hvcnRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICB9KTtcbiAgICAgIC8vIFR1ZXNkYXlcbiAgICAgIGNhc2UgXCJlZWVlXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAvLyBTdGFuZC1hbG9uZSBsb2NhbCBkYXkgb2Ygd2Vla1xuICBjOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUyLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZGF5T2ZXZWVrID0gZGF0ZS5nZXREYXkoKTtcbiAgICBjb25zdCBsb2NhbERheU9mV2VlayA9IChkYXlPZldlZWsgLSBvcHRpb25zLndlZWtTdGFydHNPbiArIDgpICUgNyB8fCA3O1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIE51bWVyaWNhbCB2YWx1ZSAoc2FtZSBhcyBpbiBgZWApXG4gICAgICBjYXNlIFwiY1wiOlxuICAgICAgICByZXR1cm4gU3RyaW5nKGxvY2FsRGF5T2ZXZWVrKTtcbiAgICAgIC8vIFBhZGRlZCBudW1lcmljYWwgdmFsdWVcbiAgICAgIGNhc2UgXCJjY1wiOlxuICAgICAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGxvY2FsRGF5T2ZXZWVrLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgLy8gMXN0LCAybmQsIC4uLiwgN3RoXG4gICAgICBjYXNlIFwiY29cIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5vcmRpbmFsTnVtYmVyKGxvY2FsRGF5T2ZXZWVrLCB7IHVuaXQ6IFwiZGF5XCIgfSk7XG4gICAgICBjYXNlIFwiY2NjXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCJcbiAgICAgICAgfSk7XG4gICAgICAvLyBUXG4gICAgICBjYXNlIFwiY2NjY2NcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCJcbiAgICAgICAgfSk7XG4gICAgICAvLyBUdVxuICAgICAgY2FzZSBcImNjY2NjY1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJzaG9ydFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVlc2RheVxuICAgICAgY2FzZSBcImNjY2NcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIlxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIC8vIElTTyBkYXkgb2Ygd2Vla1xuICBpOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUyKSB7XG4gICAgY29uc3QgZGF5T2ZXZWVrID0gZGF0ZS5nZXREYXkoKTtcbiAgICBjb25zdCBpc29EYXlPZldlZWsgPSBkYXlPZldlZWsgPT09IDAgPyA3IDogZGF5T2ZXZWVrO1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIDJcbiAgICAgIGNhc2UgXCJpXCI6XG4gICAgICAgIHJldHVybiBTdHJpbmcoaXNvRGF5T2ZXZWVrKTtcbiAgICAgIC8vIDAyXG4gICAgICBjYXNlIFwiaWlcIjpcbiAgICAgICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhpc29EYXlPZldlZWssIHRva2VuLmxlbmd0aCk7XG4gICAgICAvLyAybmRcbiAgICAgIGNhc2UgXCJpb1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLm9yZGluYWxOdW1iZXIoaXNvRGF5T2ZXZWVrLCB7IHVuaXQ6IFwiZGF5XCIgfSk7XG4gICAgICAvLyBUdWVcbiAgICAgIGNhc2UgXCJpaWlcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICB9KTtcbiAgICAgIC8vIFRcbiAgICAgIGNhc2UgXCJpaWlpaVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICB9KTtcbiAgICAgIC8vIFR1XG4gICAgICBjYXNlIFwiaWlpaWlpXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcInNob3J0XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgfSk7XG4gICAgICAvLyBUdWVzZGF5XG4gICAgICBjYXNlIFwiaWlpaVwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgLy8gQU0gb3IgUE1cbiAgYTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplMikge1xuICAgIGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICAgIGNvbnN0IGRheVBlcmlvZEVudW1WYWx1ZSA9IGhvdXJzIC8gMTIgPj0gMSA/IFwicG1cIiA6IFwiYW1cIjtcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICBjYXNlIFwiYVwiOlxuICAgICAgY2FzZSBcImFhXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgfSk7XG4gICAgICBjYXNlIFwiYWFhXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgfSkudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNhc2UgXCJhYWFhYVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJhYWFhXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAvLyBBTSwgUE0sIG1pZG5pZ2h0LCBub29uXG4gIGI6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZTIpIHtcbiAgICBjb25zdCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgICBsZXQgZGF5UGVyaW9kRW51bVZhbHVlO1xuICAgIGlmIChob3VycyA9PT0gMTIpIHtcbiAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0ubm9vbjtcbiAgICB9IGVsc2UgaWYgKGhvdXJzID09PSAwKSB7XG4gICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXlQZXJpb2RFbnVtLm1pZG5pZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBob3VycyAvIDEyID49IDEgPyBcInBtXCIgOiBcImFtXCI7XG4gICAgfVxuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIGNhc2UgXCJiXCI6XG4gICAgICBjYXNlIFwiYmJcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJiYmJcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICB9KS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY2FzZSBcImJiYmJiXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgIH0pO1xuICAgICAgY2FzZSBcImJiYmJcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZTIuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIC8vIGluIHRoZSBtb3JuaW5nLCBpbiB0aGUgYWZ0ZXJub29uLCBpbiB0aGUgZXZlbmluZywgYXQgbmlnaHRcbiAgQjogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplMikge1xuICAgIGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICAgIGxldCBkYXlQZXJpb2RFbnVtVmFsdWU7XG4gICAgaWYgKGhvdXJzID49IDE3KSB7XG4gICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXlQZXJpb2RFbnVtLmV2ZW5pbmc7XG4gICAgfSBlbHNlIGlmIChob3VycyA+PSAxMikge1xuICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF5UGVyaW9kRW51bS5hZnRlcm5vb247XG4gICAgfSBlbHNlIGlmIChob3VycyA+PSA0KSB7XG4gICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXlQZXJpb2RFbnVtLm1vcm5pbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0ubmlnaHQ7XG4gICAgfVxuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIGNhc2UgXCJCXCI6XG4gICAgICBjYXNlIFwiQkJcIjpcbiAgICAgIGNhc2UgXCJCQkJcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplMi5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJCQkJCQlwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJCQkJCXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUyLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAvLyBIb3VyIFsxLTEyXVxuICBoOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUyKSB7XG4gICAgaWYgKHRva2VuID09PSBcImhvXCIpIHtcbiAgICAgIGxldCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKSAlIDEyO1xuICAgICAgaWYgKGhvdXJzID09PSAwKSBob3VycyA9IDEyO1xuICAgICAgcmV0dXJuIGxvY2FsaXplMi5vcmRpbmFsTnVtYmVyKGhvdXJzLCB7IHVuaXQ6IFwiaG91clwiIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLmgoZGF0ZSwgdG9rZW4pO1xuICB9LFxuICAvLyBIb3VyIFswLTIzXVxuICBIOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUyKSB7XG4gICAgaWYgKHRva2VuID09PSBcIkhvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZTIub3JkaW5hbE51bWJlcihkYXRlLmdldEhvdXJzKCksIHsgdW5pdDogXCJob3VyXCIgfSk7XG4gICAgfVxuICAgIHJldHVybiBsaWdodEZvcm1hdHRlcnMuSChkYXRlLCB0b2tlbik7XG4gIH0sXG4gIC8vIEhvdXIgWzAtMTFdXG4gIEs6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZTIpIHtcbiAgICBjb25zdCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKSAlIDEyO1xuICAgIGlmICh0b2tlbiA9PT0gXCJLb1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUyLm9yZGluYWxOdW1iZXIoaG91cnMsIHsgdW5pdDogXCJob3VyXCIgfSk7XG4gICAgfVxuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoaG91cnMsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG4gIC8vIEhvdXIgWzEtMjRdXG4gIGs6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZTIpIHtcbiAgICBsZXQgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgaWYgKGhvdXJzID09PSAwKSBob3VycyA9IDI0O1xuICAgIGlmICh0b2tlbiA9PT0gXCJrb1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUyLm9yZGluYWxOdW1iZXIoaG91cnMsIHsgdW5pdDogXCJob3VyXCIgfSk7XG4gICAgfVxuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoaG91cnMsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG4gIC8vIE1pbnV0ZVxuICBtOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUyKSB7XG4gICAgaWYgKHRva2VuID09PSBcIm1vXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZTIub3JkaW5hbE51bWJlcihkYXRlLmdldE1pbnV0ZXMoKSwgeyB1bml0OiBcIm1pbnV0ZVwiIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLm0oZGF0ZSwgdG9rZW4pO1xuICB9LFxuICAvLyBTZWNvbmRcbiAgczogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplMikge1xuICAgIGlmICh0b2tlbiA9PT0gXCJzb1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUyLm9yZGluYWxOdW1iZXIoZGF0ZS5nZXRTZWNvbmRzKCksIHsgdW5pdDogXCJzZWNvbmRcIiB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy5zKGRhdGUsIHRva2VuKTtcbiAgfSxcbiAgLy8gRnJhY3Rpb24gb2Ygc2Vjb25kXG4gIFM6IGZ1bmN0aW9uKGRhdGUsIHRva2VuKSB7XG4gICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy5TKGRhdGUsIHRva2VuKTtcbiAgfSxcbiAgLy8gVGltZXpvbmUgKElTTy04NjAxLiBJZiBvZmZzZXQgaXMgMCwgb3V0cHV0IGlzIGFsd2F5cyBgJ1onYClcbiAgWDogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIF9sb2NhbGl6ZSkge1xuICAgIGNvbnN0IHRpbWV6b25lT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgIGlmICh0aW1lem9uZU9mZnNldCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFwiWlwiO1xuICAgIH1cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBIb3VycyBhbmQgb3B0aW9uYWwgbWludXRlc1xuICAgICAgY2FzZSBcIlhcIjpcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lV2l0aE9wdGlvbmFsTWludXRlcyh0aW1lem9uZU9mZnNldCk7XG4gICAgICAvLyBIb3VycywgbWludXRlcyBhbmQgb3B0aW9uYWwgc2Vjb25kcyB3aXRob3V0IGA6YCBkZWxpbWl0ZXJcbiAgICAgIC8vIE5vdGU6IG5laXRoZXIgSVNPLTg2MDEgbm9yIEphdmFTY3JpcHQgc3VwcG9ydHMgc2Vjb25kcyBpbiB0aW1lem9uZSBvZmZzZXRzXG4gICAgICAvLyBzbyB0aGlzIHRva2VuIGFsd2F5cyBoYXMgdGhlIHNhbWUgb3V0cHV0IGFzIGBYWGBcbiAgICAgIGNhc2UgXCJYWFhYXCI6XG4gICAgICBjYXNlIFwiWFhcIjpcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0KTtcbiAgICAgIC8vIEhvdXJzLCBtaW51dGVzIGFuZCBvcHRpb25hbCBzZWNvbmRzIHdpdGggYDpgIGRlbGltaXRlclxuICAgICAgLy8gTm90ZTogbmVpdGhlciBJU08tODYwMSBub3IgSmF2YVNjcmlwdCBzdXBwb3J0cyBzZWNvbmRzIGluIHRpbWV6b25lIG9mZnNldHNcbiAgICAgIC8vIHNvIHRoaXMgdG9rZW4gYWx3YXlzIGhhcyB0aGUgc2FtZSBvdXRwdXQgYXMgYFhYWGBcbiAgICAgIGNhc2UgXCJYWFhYWFwiOlxuICAgICAgY2FzZSBcIlhYWFwiOlxuICAgICAgLy8gSG91cnMgYW5kIG1pbnV0ZXMgd2l0aCBgOmAgZGVsaW1pdGVyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZm9ybWF0VGltZXpvbmUodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICB9XG4gIH0sXG4gIC8vIFRpbWV6b25lIChJU08tODYwMS4gSWYgb2Zmc2V0IGlzIDAsIG91dHB1dCBpcyBgJyswMDowMCdgIG9yIGVxdWl2YWxlbnQpXG4gIHg6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBfbG9jYWxpemUpIHtcbiAgICBjb25zdCB0aW1lem9uZU9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBIb3VycyBhbmQgb3B0aW9uYWwgbWludXRlc1xuICAgICAgY2FzZSBcInhcIjpcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lV2l0aE9wdGlvbmFsTWludXRlcyh0aW1lem9uZU9mZnNldCk7XG4gICAgICAvLyBIb3VycywgbWludXRlcyBhbmQgb3B0aW9uYWwgc2Vjb25kcyB3aXRob3V0IGA6YCBkZWxpbWl0ZXJcbiAgICAgIC8vIE5vdGU6IG5laXRoZXIgSVNPLTg2MDEgbm9yIEphdmFTY3JpcHQgc3VwcG9ydHMgc2Vjb25kcyBpbiB0aW1lem9uZSBvZmZzZXRzXG4gICAgICAvLyBzbyB0aGlzIHRva2VuIGFsd2F5cyBoYXMgdGhlIHNhbWUgb3V0cHV0IGFzIGB4eGBcbiAgICAgIGNhc2UgXCJ4eHh4XCI6XG4gICAgICBjYXNlIFwieHhcIjpcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0KTtcbiAgICAgIC8vIEhvdXJzLCBtaW51dGVzIGFuZCBvcHRpb25hbCBzZWNvbmRzIHdpdGggYDpgIGRlbGltaXRlclxuICAgICAgLy8gTm90ZTogbmVpdGhlciBJU08tODYwMSBub3IgSmF2YVNjcmlwdCBzdXBwb3J0cyBzZWNvbmRzIGluIHRpbWV6b25lIG9mZnNldHNcbiAgICAgIC8vIHNvIHRoaXMgdG9rZW4gYWx3YXlzIGhhcyB0aGUgc2FtZSBvdXRwdXQgYXMgYHh4eGBcbiAgICAgIGNhc2UgXCJ4eHh4eFwiOlxuICAgICAgY2FzZSBcInh4eFwiOlxuICAgICAgLy8gSG91cnMgYW5kIG1pbnV0ZXMgd2l0aCBgOmAgZGVsaW1pdGVyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZm9ybWF0VGltZXpvbmUodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICB9XG4gIH0sXG4gIC8vIFRpbWV6b25lIChHTVQpXG4gIE86IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBfbG9jYWxpemUpIHtcbiAgICBjb25zdCB0aW1lem9uZU9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBTaG9ydFxuICAgICAgY2FzZSBcIk9cIjpcbiAgICAgIGNhc2UgXCJPT1wiOlxuICAgICAgY2FzZSBcIk9PT1wiOlxuICAgICAgICByZXR1cm4gXCJHTVRcIiArIGZvcm1hdFRpbWV6b25lU2hvcnQodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICAgIC8vIExvbmdcbiAgICAgIGNhc2UgXCJPT09PXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXCJHTVRcIiArIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgfVxuICB9LFxuICAvLyBUaW1lem9uZSAoc3BlY2lmaWMgbm9uLWxvY2F0aW9uKVxuICB6OiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgX2xvY2FsaXplKSB7XG4gICAgY29uc3QgdGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gU2hvcnRcbiAgICAgIGNhc2UgXCJ6XCI6XG4gICAgICBjYXNlIFwienpcIjpcbiAgICAgIGNhc2UgXCJ6enpcIjpcbiAgICAgICAgcmV0dXJuIFwiR01UXCIgKyBmb3JtYXRUaW1lem9uZVNob3J0KHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgICAvLyBMb25nXG4gICAgICBjYXNlIFwienp6elwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFwiR01UXCIgKyBmb3JtYXRUaW1lem9uZSh0aW1lem9uZU9mZnNldCwgXCI6XCIpO1xuICAgIH1cbiAgfSxcbiAgLy8gU2Vjb25kcyB0aW1lc3RhbXBcbiAgdDogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIF9sb2NhbGl6ZSkge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGgudHJ1bmMoK2RhdGUgLyAxZTMpO1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3ModGltZXN0YW1wLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuICAvLyBNaWxsaXNlY29uZHMgdGltZXN0YW1wXG4gIFQ6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBfbG9jYWxpemUpIHtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKCtkYXRlLCB0b2tlbi5sZW5ndGgpO1xuICB9XG59O1xuZnVuY3Rpb24gZm9ybWF0VGltZXpvbmVTaG9ydChvZmZzZXQsIGRlbGltaXRlciA9IFwiXCIpIHtcbiAgY29uc3Qgc2lnbiA9IG9mZnNldCA+IDAgPyBcIi1cIiA6IFwiK1wiO1xuICBjb25zdCBhYnNPZmZzZXQgPSBNYXRoLmFicyhvZmZzZXQpO1xuICBjb25zdCBob3VycyA9IE1hdGgudHJ1bmMoYWJzT2Zmc2V0IC8gNjApO1xuICBjb25zdCBtaW51dGVzID0gYWJzT2Zmc2V0ICUgNjA7XG4gIGlmIChtaW51dGVzID09PSAwKSB7XG4gICAgcmV0dXJuIHNpZ24gKyBTdHJpbmcoaG91cnMpO1xuICB9XG4gIHJldHVybiBzaWduICsgU3RyaW5nKGhvdXJzKSArIGRlbGltaXRlciArIGFkZExlYWRpbmdaZXJvcyhtaW51dGVzLCAyKTtcbn1cbmZ1bmN0aW9uIGZvcm1hdFRpbWV6b25lV2l0aE9wdGlvbmFsTWludXRlcyhvZmZzZXQsIGRlbGltaXRlcikge1xuICBpZiAob2Zmc2V0ICUgNjAgPT09IDApIHtcbiAgICBjb25zdCBzaWduID0gb2Zmc2V0ID4gMCA/IFwiLVwiIDogXCIrXCI7XG4gICAgcmV0dXJuIHNpZ24gKyBhZGRMZWFkaW5nWmVyb3MoTWF0aC5hYnMob2Zmc2V0KSAvIDYwLCAyKTtcbiAgfVxuICByZXR1cm4gZm9ybWF0VGltZXpvbmUob2Zmc2V0LCBkZWxpbWl0ZXIpO1xufVxuZnVuY3Rpb24gZm9ybWF0VGltZXpvbmUob2Zmc2V0LCBkZWxpbWl0ZXIgPSBcIlwiKSB7XG4gIGNvbnN0IHNpZ24gPSBvZmZzZXQgPiAwID8gXCItXCIgOiBcIitcIjtcbiAgY29uc3QgYWJzT2Zmc2V0ID0gTWF0aC5hYnMob2Zmc2V0KTtcbiAgY29uc3QgaG91cnMgPSBhZGRMZWFkaW5nWmVyb3MoTWF0aC50cnVuYyhhYnNPZmZzZXQgLyA2MCksIDIpO1xuICBjb25zdCBtaW51dGVzID0gYWRkTGVhZGluZ1plcm9zKGFic09mZnNldCAlIDYwLCAyKTtcbiAgcmV0dXJuIHNpZ24gKyBob3VycyArIGRlbGltaXRlciArIG1pbnV0ZXM7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9mb3JtYXQvbG9uZ0Zvcm1hdHRlcnMuanNcbnZhciBkYXRlTG9uZ0Zvcm1hdHRlciA9IChwYXR0ZXJuLCBmb3JtYXRMb25nMikgPT4ge1xuICBzd2l0Y2ggKHBhdHRlcm4pIHtcbiAgICBjYXNlIFwiUFwiOlxuICAgICAgcmV0dXJuIGZvcm1hdExvbmcyLmRhdGUoeyB3aWR0aDogXCJzaG9ydFwiIH0pO1xuICAgIGNhc2UgXCJQUFwiOlxuICAgICAgcmV0dXJuIGZvcm1hdExvbmcyLmRhdGUoeyB3aWR0aDogXCJtZWRpdW1cIiB9KTtcbiAgICBjYXNlIFwiUFBQXCI6XG4gICAgICByZXR1cm4gZm9ybWF0TG9uZzIuZGF0ZSh7IHdpZHRoOiBcImxvbmdcIiB9KTtcbiAgICBjYXNlIFwiUFBQUFwiOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZm9ybWF0TG9uZzIuZGF0ZSh7IHdpZHRoOiBcImZ1bGxcIiB9KTtcbiAgfVxufTtcbnZhciB0aW1lTG9uZ0Zvcm1hdHRlciA9IChwYXR0ZXJuLCBmb3JtYXRMb25nMikgPT4ge1xuICBzd2l0Y2ggKHBhdHRlcm4pIHtcbiAgICBjYXNlIFwicFwiOlxuICAgICAgcmV0dXJuIGZvcm1hdExvbmcyLnRpbWUoeyB3aWR0aDogXCJzaG9ydFwiIH0pO1xuICAgIGNhc2UgXCJwcFwiOlxuICAgICAgcmV0dXJuIGZvcm1hdExvbmcyLnRpbWUoeyB3aWR0aDogXCJtZWRpdW1cIiB9KTtcbiAgICBjYXNlIFwicHBwXCI6XG4gICAgICByZXR1cm4gZm9ybWF0TG9uZzIudGltZSh7IHdpZHRoOiBcImxvbmdcIiB9KTtcbiAgICBjYXNlIFwicHBwcFwiOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZm9ybWF0TG9uZzIudGltZSh7IHdpZHRoOiBcImZ1bGxcIiB9KTtcbiAgfVxufTtcbnZhciBkYXRlVGltZUxvbmdGb3JtYXR0ZXIgPSAocGF0dGVybiwgZm9ybWF0TG9uZzIpID0+IHtcbiAgY29uc3QgbWF0Y2hSZXN1bHQgPSBwYXR0ZXJuLm1hdGNoKC8oUCspKHArKT8vKSB8fCBbXTtcbiAgY29uc3QgZGF0ZVBhdHRlcm4gPSBtYXRjaFJlc3VsdFsxXTtcbiAgY29uc3QgdGltZVBhdHRlcm4gPSBtYXRjaFJlc3VsdFsyXTtcbiAgaWYgKCF0aW1lUGF0dGVybikge1xuICAgIHJldHVybiBkYXRlTG9uZ0Zvcm1hdHRlcihwYXR0ZXJuLCBmb3JtYXRMb25nMik7XG4gIH1cbiAgbGV0IGRhdGVUaW1lRm9ybWF0O1xuICBzd2l0Y2ggKGRhdGVQYXR0ZXJuKSB7XG4gICAgY2FzZSBcIlBcIjpcbiAgICAgIGRhdGVUaW1lRm9ybWF0ID0gZm9ybWF0TG9uZzIuZGF0ZVRpbWUoeyB3aWR0aDogXCJzaG9ydFwiIH0pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBQXCI6XG4gICAgICBkYXRlVGltZUZvcm1hdCA9IGZvcm1hdExvbmcyLmRhdGVUaW1lKHsgd2lkdGg6IFwibWVkaXVtXCIgfSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiUFBQXCI6XG4gICAgICBkYXRlVGltZUZvcm1hdCA9IGZvcm1hdExvbmcyLmRhdGVUaW1lKHsgd2lkdGg6IFwibG9uZ1wiIH0pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBQUFBcIjpcbiAgICBkZWZhdWx0OlxuICAgICAgZGF0ZVRpbWVGb3JtYXQgPSBmb3JtYXRMb25nMi5kYXRlVGltZSh7IHdpZHRoOiBcImZ1bGxcIiB9KTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiBkYXRlVGltZUZvcm1hdC5yZXBsYWNlKFwie3tkYXRlfX1cIiwgZGF0ZUxvbmdGb3JtYXR0ZXIoZGF0ZVBhdHRlcm4sIGZvcm1hdExvbmcyKSkucmVwbGFjZShcInt7dGltZX19XCIsIHRpbWVMb25nRm9ybWF0dGVyKHRpbWVQYXR0ZXJuLCBmb3JtYXRMb25nMikpO1xufTtcbnZhciBsb25nRm9ybWF0dGVycyA9IHtcbiAgcDogdGltZUxvbmdGb3JtYXR0ZXIsXG4gIFA6IGRhdGVUaW1lTG9uZ0Zvcm1hdHRlclxufTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL3Byb3RlY3RlZFRva2Vucy5qc1xudmFyIGRheU9mWWVhclRva2VuUkUgPSAvXkQrJC87XG52YXIgd2Vla1llYXJUb2tlblJFID0gL15ZKyQvO1xudmFyIHRocm93VG9rZW5zID0gW1wiRFwiLCBcIkREXCIsIFwiWVlcIiwgXCJZWVlZXCJdO1xuZnVuY3Rpb24gaXNQcm90ZWN0ZWREYXlPZlllYXJUb2tlbih0b2tlbikge1xuICByZXR1cm4gZGF5T2ZZZWFyVG9rZW5SRS50ZXN0KHRva2VuKTtcbn1cbmZ1bmN0aW9uIGlzUHJvdGVjdGVkV2Vla1llYXJUb2tlbih0b2tlbikge1xuICByZXR1cm4gd2Vla1llYXJUb2tlblJFLnRlc3QodG9rZW4pO1xufVxuZnVuY3Rpb24gd2Fybk9yVGhyb3dQcm90ZWN0ZWRFcnJvcih0b2tlbiwgZm9ybWF0MiwgaW5wdXQpIHtcbiAgY29uc3QgX21lc3NhZ2UgPSBtZXNzYWdlKHRva2VuLCBmb3JtYXQyLCBpbnB1dCk7XG4gIGNvbnNvbGUud2FybihfbWVzc2FnZSk7XG4gIGlmICh0aHJvd1Rva2Vucy5pbmNsdWRlcyh0b2tlbikpIHRocm93IG5ldyBSYW5nZUVycm9yKF9tZXNzYWdlKTtcbn1cbmZ1bmN0aW9uIG1lc3NhZ2UodG9rZW4sIGZvcm1hdDIsIGlucHV0KSB7XG4gIGNvbnN0IHN1YmplY3QgPSB0b2tlblswXSA9PT0gXCJZXCIgPyBcInllYXJzXCIgOiBcImRheXMgb2YgdGhlIG1vbnRoXCI7XG4gIHJldHVybiBgVXNlIFxcYCR7dG9rZW4udG9Mb3dlckNhc2UoKX1cXGAgaW5zdGVhZCBvZiBcXGAke3Rva2VufVxcYCAoaW4gXFxgJHtmb3JtYXQyfVxcYCkgZm9yIGZvcm1hdHRpbmcgJHtzdWJqZWN0fSB0byB0aGUgaW5wdXQgXFxgJHtpbnB1dH1cXGA7IHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdW5pY29kZVRva2Vucy5tZGA7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNEYXRlLmpzXG5mdW5jdGlvbiBpc0RhdGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRGF0ZSB8fCB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IERhdGVdXCI7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNWYWxpZC5qc1xuZnVuY3Rpb24gaXNWYWxpZChkYXRlKSB7XG4gIHJldHVybiAhKCFpc0RhdGUoZGF0ZSkgJiYgdHlwZW9mIGRhdGUgIT09IFwibnVtYmVyXCIgfHwgaXNOYU4oK3RvRGF0ZShkYXRlKSkpO1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2Zvcm1hdC5qc1xudmFyIGZvcm1hdHRpbmdUb2tlbnNSZWdFeHAgPSAvW3lZUXFNTHdJZERlY2loSEtrbXNdb3woXFx3KVxcMSp8Jyd8JygnJ3xbXiddKSsoJ3wkKXwuL2c7XG52YXIgbG9uZ0Zvcm1hdHRpbmdUb2tlbnNSZWdFeHAgPSAvUCtwK3xQK3xwK3wnJ3wnKCcnfFteJ10pKygnfCQpfC4vZztcbnZhciBlc2NhcGVkU3RyaW5nUmVnRXhwID0gL14nKFteXSo/KSc/JC87XG52YXIgZG91YmxlUXVvdGVSZWdFeHAgPSAvJycvZztcbnZhciB1bmVzY2FwZWRMYXRpbkNoYXJhY3RlclJlZ0V4cCA9IC9bYS16QS1aXS87XG5mdW5jdGlvbiBmb3JtYXQoZGF0ZSwgZm9ybWF0U3RyLCBvcHRpb25zKSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9pLCBfaiwgX2ssIF9sLCBfbSwgX24sIF9vLCBfcCwgX3EsIF9yO1xuICBjb25zdCBkZWZhdWx0T3B0aW9uczIgPSBnZXREZWZhdWx0T3B0aW9ucygpO1xuICBjb25zdCBsb2NhbGUgPSAoX2IgPSAoX2EgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmxvY2FsZSkgIT0gbnVsbCA/IF9hIDogZGVmYXVsdE9wdGlvbnMyLmxvY2FsZSkgIT0gbnVsbCA/IF9iIDogZW5VUztcbiAgY29uc3QgZmlyc3RXZWVrQ29udGFpbnNEYXRlID0gKF9qID0gKF9pID0gKF9mID0gKF9lID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGUpICE9IG51bGwgPyBfZSA6IChfZCA9IChfYyA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubG9jYWxlKSA9PSBudWxsID8gdm9pZCAwIDogX2Mub3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSkgIT0gbnVsbCA/IF9mIDogZGVmYXVsdE9wdGlvbnMyLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSkgIT0gbnVsbCA/IF9pIDogKF9oID0gKF9nID0gZGVmYXVsdE9wdGlvbnMyLmxvY2FsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9nLm9wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfaC5maXJzdFdlZWtDb250YWluc0RhdGUpICE9IG51bGwgPyBfaiA6IDE7XG4gIGNvbnN0IHdlZWtTdGFydHNPbiA9IChfciA9IChfcSA9IChfbiA9IChfbSA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMud2Vla1N0YXJ0c09uKSAhPSBudWxsID8gX20gOiAoX2wgPSAoX2sgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmxvY2FsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9rLm9wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfbC53ZWVrU3RhcnRzT24pICE9IG51bGwgPyBfbiA6IGRlZmF1bHRPcHRpb25zMi53ZWVrU3RhcnRzT24pICE9IG51bGwgPyBfcSA6IChfcCA9IChfbyA9IGRlZmF1bHRPcHRpb25zMi5sb2NhbGUpID09IG51bGwgPyB2b2lkIDAgOiBfby5vcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX3Aud2Vla1N0YXJ0c09uKSAhPSBudWxsID8gX3IgOiAwO1xuICBjb25zdCBvcmlnaW5hbERhdGUgPSB0b0RhdGUoZGF0ZSwgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbik7XG4gIGlmICghaXNWYWxpZChvcmlnaW5hbERhdGUpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHRpbWUgdmFsdWVcIik7XG4gIH1cbiAgbGV0IHBhcnRzID0gZm9ybWF0U3RyLm1hdGNoKGxvbmdGb3JtYXR0aW5nVG9rZW5zUmVnRXhwKS5tYXAoKHN1YnN0cmluZykgPT4ge1xuICAgIGNvbnN0IGZpcnN0Q2hhcmFjdGVyID0gc3Vic3RyaW5nWzBdO1xuICAgIGlmIChmaXJzdENoYXJhY3RlciA9PT0gXCJwXCIgfHwgZmlyc3RDaGFyYWN0ZXIgPT09IFwiUFwiKSB7XG4gICAgICBjb25zdCBsb25nRm9ybWF0dGVyID0gbG9uZ0Zvcm1hdHRlcnNbZmlyc3RDaGFyYWN0ZXJdO1xuICAgICAgcmV0dXJuIGxvbmdGb3JtYXR0ZXIoc3Vic3RyaW5nLCBsb2NhbGUuZm9ybWF0TG9uZyk7XG4gICAgfVxuICAgIHJldHVybiBzdWJzdHJpbmc7XG4gIH0pLmpvaW4oXCJcIikubWF0Y2goZm9ybWF0dGluZ1Rva2Vuc1JlZ0V4cCkubWFwKChzdWJzdHJpbmcpID0+IHtcbiAgICBpZiAoc3Vic3RyaW5nID09PSBcIicnXCIpIHtcbiAgICAgIHJldHVybiB7IGlzVG9rZW46IGZhbHNlLCB2YWx1ZTogXCInXCIgfTtcbiAgICB9XG4gICAgY29uc3QgZmlyc3RDaGFyYWN0ZXIgPSBzdWJzdHJpbmdbMF07XG4gICAgaWYgKGZpcnN0Q2hhcmFjdGVyID09PSBcIidcIikge1xuICAgICAgcmV0dXJuIHsgaXNUb2tlbjogZmFsc2UsIHZhbHVlOiBjbGVhbkVzY2FwZWRTdHJpbmcoc3Vic3RyaW5nKSB9O1xuICAgIH1cbiAgICBpZiAoZm9ybWF0dGVyc1tmaXJzdENoYXJhY3Rlcl0pIHtcbiAgICAgIHJldHVybiB7IGlzVG9rZW46IHRydWUsIHZhbHVlOiBzdWJzdHJpbmcgfTtcbiAgICB9XG4gICAgaWYgKGZpcnN0Q2hhcmFjdGVyLm1hdGNoKHVuZXNjYXBlZExhdGluQ2hhcmFjdGVyUmVnRXhwKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXG4gICAgICAgIFwiRm9ybWF0IHN0cmluZyBjb250YWlucyBhbiB1bmVzY2FwZWQgbGF0aW4gYWxwaGFiZXQgY2hhcmFjdGVyIGBcIiArIGZpcnN0Q2hhcmFjdGVyICsgXCJgXCJcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7IGlzVG9rZW46IGZhbHNlLCB2YWx1ZTogc3Vic3RyaW5nIH07XG4gIH0pO1xuICBpZiAobG9jYWxlLmxvY2FsaXplLnByZXByb2Nlc3Nvcikge1xuICAgIHBhcnRzID0gbG9jYWxlLmxvY2FsaXplLnByZXByb2Nlc3NvcihvcmlnaW5hbERhdGUsIHBhcnRzKTtcbiAgfVxuICBjb25zdCBmb3JtYXR0ZXJPcHRpb25zID0ge1xuICAgIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSxcbiAgICB3ZWVrU3RhcnRzT24sXG4gICAgbG9jYWxlXG4gIH07XG4gIHJldHVybiBwYXJ0cy5tYXAoKHBhcnQpID0+IHtcbiAgICBpZiAoIXBhcnQuaXNUb2tlbikgcmV0dXJuIHBhcnQudmFsdWU7XG4gICAgY29uc3QgdG9rZW4gPSBwYXJ0LnZhbHVlO1xuICAgIGlmICghKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMudXNlQWRkaXRpb25hbFdlZWtZZWFyVG9rZW5zKSAmJiBpc1Byb3RlY3RlZFdlZWtZZWFyVG9rZW4odG9rZW4pIHx8ICEob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy51c2VBZGRpdGlvbmFsRGF5T2ZZZWFyVG9rZW5zKSAmJiBpc1Byb3RlY3RlZERheU9mWWVhclRva2VuKHRva2VuKSkge1xuICAgICAgd2Fybk9yVGhyb3dQcm90ZWN0ZWRFcnJvcih0b2tlbiwgZm9ybWF0U3RyLCBTdHJpbmcoZGF0ZSkpO1xuICAgIH1cbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBmb3JtYXR0ZXJzW3Rva2VuWzBdXTtcbiAgICByZXR1cm4gZm9ybWF0dGVyKG9yaWdpbmFsRGF0ZSwgdG9rZW4sIGxvY2FsZS5sb2NhbGl6ZSwgZm9ybWF0dGVyT3B0aW9ucyk7XG4gIH0pLmpvaW4oXCJcIik7XG59XG5mdW5jdGlvbiBjbGVhbkVzY2FwZWRTdHJpbmcoaW5wdXQpIHtcbiAgY29uc3QgbWF0Y2hlZCA9IGlucHV0Lm1hdGNoKGVzY2FwZWRTdHJpbmdSZWdFeHApO1xuICBpZiAoIW1hdGNoZWQpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZWRbMV0ucmVwbGFjZShkb3VibGVRdW90ZVJlZ0V4cCwgXCInXCIpO1xufVxuXG4vLyBzcmMvdGhpcmQtcGFydHkvcHJvcGVydHkudHN4XG52YXIgaW1wb3J0X2Zvcm1hdF9udW1iZXIgPSBfX3RvRVNNKHJlcXVpcmVfZm9ybWF0X251bWJlcigpLCAxKTtcbmltcG9ydCBcIm5vdGlvbi10eXBlc1wiO1xuaW1wb3J0IFJlYWN0MTYgZnJvbSBcInJlYWN0XCI7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvYWRkRGF5cy5qc1xuZnVuY3Rpb24gYWRkRGF5cyhkYXRlLCBhbW91bnQsIG9wdGlvbnMpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSwgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbik7XG4gIGlmIChpc05hTihhbW91bnQpKSByZXR1cm4gY29uc3RydWN0RnJvbSgob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbikgfHwgZGF0ZSwgTmFOKTtcbiAgaWYgKCFhbW91bnQpIHJldHVybiBfZGF0ZTtcbiAgX2RhdGUuc2V0RGF0ZShfZGF0ZS5nZXREYXRlKCkgKyBhbW91bnQpO1xuICByZXR1cm4gX2RhdGU7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvYWRkTW9udGhzLmpzXG5mdW5jdGlvbiBhZGRNb250aHMoZGF0ZSwgYW1vdW50LCBvcHRpb25zKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4pO1xuICBpZiAoaXNOYU4oYW1vdW50KSkgcmV0dXJuIGNvbnN0cnVjdEZyb20oKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4pIHx8IGRhdGUsIE5hTik7XG4gIGlmICghYW1vdW50KSB7XG4gICAgcmV0dXJuIF9kYXRlO1xuICB9XG4gIGNvbnN0IGRheU9mTW9udGggPSBfZGF0ZS5nZXREYXRlKCk7XG4gIGNvbnN0IGVuZE9mRGVzaXJlZE1vbnRoID0gY29uc3RydWN0RnJvbSgob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbikgfHwgZGF0ZSwgX2RhdGUuZ2V0VGltZSgpKTtcbiAgZW5kT2ZEZXNpcmVkTW9udGguc2V0TW9udGgoX2RhdGUuZ2V0TW9udGgoKSArIGFtb3VudCArIDEsIDApO1xuICBjb25zdCBkYXlzSW5Nb250aCA9IGVuZE9mRGVzaXJlZE1vbnRoLmdldERhdGUoKTtcbiAgaWYgKGRheU9mTW9udGggPj0gZGF5c0luTW9udGgpIHtcbiAgICByZXR1cm4gZW5kT2ZEZXNpcmVkTW9udGg7XG4gIH0gZWxzZSB7XG4gICAgX2RhdGUuc2V0RnVsbFllYXIoXG4gICAgICBlbmRPZkRlc2lyZWRNb250aC5nZXRGdWxsWWVhcigpLFxuICAgICAgZW5kT2ZEZXNpcmVkTW9udGguZ2V0TW9udGgoKSxcbiAgICAgIGRheU9mTW9udGhcbiAgICApO1xuICAgIHJldHVybiBfZGF0ZTtcbiAgfVxufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2FkZC5qc1xuZnVuY3Rpb24gYWRkKGRhdGUsIGR1cmF0aW9uLCBvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICB5ZWFycyA9IDAsXG4gICAgbW9udGhzID0gMCxcbiAgICB3ZWVrcyA9IDAsXG4gICAgZGF5cyA9IDAsXG4gICAgaG91cnMgPSAwLFxuICAgIG1pbnV0ZXMgPSAwLFxuICAgIHNlY29uZHMgPSAwXG4gIH0gPSBkdXJhdGlvbjtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSwgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbik7XG4gIGNvbnN0IGRhdGVXaXRoTW9udGhzID0gbW9udGhzIHx8IHllYXJzID8gYWRkTW9udGhzKF9kYXRlLCBtb250aHMgKyB5ZWFycyAqIDEyKSA6IF9kYXRlO1xuICBjb25zdCBkYXRlV2l0aERheXMgPSBkYXlzIHx8IHdlZWtzID8gYWRkRGF5cyhkYXRlV2l0aE1vbnRocywgZGF5cyArIHdlZWtzICogNykgOiBkYXRlV2l0aE1vbnRocztcbiAgY29uc3QgbWludXRlc1RvQWRkID0gbWludXRlcyArIGhvdXJzICogNjA7XG4gIGNvbnN0IHNlY29uZHNUb0FkZCA9IHNlY29uZHMgKyBtaW51dGVzVG9BZGQgKiA2MDtcbiAgY29uc3QgbXNUb0FkZCA9IHNlY29uZHNUb0FkZCAqIDFlMztcbiAgcmV0dXJuIGNvbnN0cnVjdEZyb20oKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4pIHx8IGRhdGUsICtkYXRlV2l0aERheXMgKyBtc1RvQWRkKTtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXREYXRlLmpzXG5mdW5jdGlvbiBnZXREYXRlKGRhdGUsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRvRGF0ZShkYXRlLCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluKS5nZXREYXRlKCk7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0RGF5LmpzXG5mdW5jdGlvbiBnZXREYXkoZGF0ZSwgb3B0aW9ucykge1xuICByZXR1cm4gdG9EYXRlKGRhdGUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4pLmdldERheSgpO1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldEhvdXJzLmpzXG5mdW5jdGlvbiBnZXRIb3VycyhkYXRlLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b0RhdGUoZGF0ZSwgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbikuZ2V0SG91cnMoKTtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXRNaW51dGVzLmpzXG5mdW5jdGlvbiBnZXRNaW51dGVzKGRhdGUsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRvRGF0ZShkYXRlLCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluKS5nZXRNaW51dGVzKCk7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0TW9udGguanNcbmZ1bmN0aW9uIGdldE1vbnRoKGRhdGUsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRvRGF0ZShkYXRlLCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluKS5nZXRNb250aCgpO1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldFllYXIuanNcbmZ1bmN0aW9uIGdldFllYXIoZGF0ZSwgb3B0aW9ucykge1xuICByZXR1cm4gdG9EYXRlKGRhdGUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4pLmdldEZ1bGxZZWFyKCk7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9ub3JtYWxpemVJbnRlcnZhbC5qc1xuZnVuY3Rpb24gbm9ybWFsaXplSW50ZXJ2YWwoY29udGV4dCwgaW50ZXJ2YWwpIHtcbiAgY29uc3QgW3N0YXJ0LCBlbmRdID0gbm9ybWFsaXplRGF0ZXMoY29udGV4dCwgaW50ZXJ2YWwuc3RhcnQsIGludGVydmFsLmVuZCk7XG4gIHJldHVybiB7IHN0YXJ0LCBlbmQgfTtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5EYXlzLmpzXG5mdW5jdGlvbiBkaWZmZXJlbmNlSW5EYXlzKGxhdGVyRGF0ZSwgZWFybGllckRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgW2xhdGVyRGF0ZV8sIGVhcmxpZXJEYXRlX10gPSBub3JtYWxpemVEYXRlcyhcbiAgICBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluLFxuICAgIGxhdGVyRGF0ZSxcbiAgICBlYXJsaWVyRGF0ZVxuICApO1xuICBjb25zdCBzaWduID0gY29tcGFyZUxvY2FsQXNjKGxhdGVyRGF0ZV8sIGVhcmxpZXJEYXRlXyk7XG4gIGNvbnN0IGRpZmZlcmVuY2UgPSBNYXRoLmFicyhcbiAgICBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMobGF0ZXJEYXRlXywgZWFybGllckRhdGVfKVxuICApO1xuICBsYXRlckRhdGVfLnNldERhdGUobGF0ZXJEYXRlXy5nZXREYXRlKCkgLSBzaWduICogZGlmZmVyZW5jZSk7XG4gIGNvbnN0IGlzTGFzdERheU5vdEZ1bGwgPSBOdW1iZXIoXG4gICAgY29tcGFyZUxvY2FsQXNjKGxhdGVyRGF0ZV8sIGVhcmxpZXJEYXRlXykgPT09IC1zaWduXG4gICk7XG4gIGNvbnN0IHJlc3VsdCA9IHNpZ24gKiAoZGlmZmVyZW5jZSAtIGlzTGFzdERheU5vdEZ1bGwpO1xuICByZXR1cm4gcmVzdWx0ID09PSAwID8gMCA6IHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNvbXBhcmVMb2NhbEFzYyhsYXRlckRhdGUsIGVhcmxpZXJEYXRlKSB7XG4gIGNvbnN0IGRpZmYgPSBsYXRlckRhdGUuZ2V0RnVsbFllYXIoKSAtIGVhcmxpZXJEYXRlLmdldEZ1bGxZZWFyKCkgfHwgbGF0ZXJEYXRlLmdldE1vbnRoKCkgLSBlYXJsaWVyRGF0ZS5nZXRNb250aCgpIHx8IGxhdGVyRGF0ZS5nZXREYXRlKCkgLSBlYXJsaWVyRGF0ZS5nZXREYXRlKCkgfHwgbGF0ZXJEYXRlLmdldEhvdXJzKCkgLSBlYXJsaWVyRGF0ZS5nZXRIb3VycygpIHx8IGxhdGVyRGF0ZS5nZXRNaW51dGVzKCkgLSBlYXJsaWVyRGF0ZS5nZXRNaW51dGVzKCkgfHwgbGF0ZXJEYXRlLmdldFNlY29uZHMoKSAtIGVhcmxpZXJEYXRlLmdldFNlY29uZHMoKSB8fCBsYXRlckRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgLSBlYXJsaWVyRGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcbiAgaWYgKGRpZmYgPCAwKSByZXR1cm4gLTE7XG4gIGlmIChkaWZmID4gMCkgcmV0dXJuIDE7XG4gIHJldHVybiBkaWZmO1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZ2V0Um91bmRpbmdNZXRob2QuanNcbmZ1bmN0aW9uIGdldFJvdW5kaW5nTWV0aG9kKG1ldGhvZCkge1xuICByZXR1cm4gKG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHJvdW5kID0gbWV0aG9kID8gTWF0aFttZXRob2RdIDogTWF0aC50cnVuYztcbiAgICBjb25zdCByZXN1bHQgPSByb3VuZChudW1iZXIpO1xuICAgIHJldHVybiByZXN1bHQgPT09IDAgPyAwIDogcmVzdWx0O1xuICB9O1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbkhvdXJzLmpzXG5mdW5jdGlvbiBkaWZmZXJlbmNlSW5Ib3VycyhsYXRlckRhdGUsIGVhcmxpZXJEYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IFtsYXRlckRhdGVfLCBlYXJsaWVyRGF0ZV9dID0gbm9ybWFsaXplRGF0ZXMoXG4gICAgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbixcbiAgICBsYXRlckRhdGUsXG4gICAgZWFybGllckRhdGVcbiAgKTtcbiAgY29uc3QgZGlmZiA9ICgrbGF0ZXJEYXRlXyAtICtlYXJsaWVyRGF0ZV8pIC8gbWlsbGlzZWNvbmRzSW5Ib3VyO1xuICByZXR1cm4gZ2V0Um91bmRpbmdNZXRob2Qob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5yb3VuZGluZ01ldGhvZCkoZGlmZik7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzLmpzXG5mdW5jdGlvbiBkaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMobGF0ZXJEYXRlLCBlYXJsaWVyRGF0ZSkge1xuICByZXR1cm4gK3RvRGF0ZShsYXRlckRhdGUpIC0gK3RvRGF0ZShlYXJsaWVyRGF0ZSk7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluTWludXRlcy5qc1xuZnVuY3Rpb24gZGlmZmVyZW5jZUluTWludXRlcyhkYXRlTGVmdCwgZGF0ZVJpZ2h0LCBvcHRpb25zKSB7XG4gIGNvbnN0IGRpZmYgPSBkaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMoZGF0ZUxlZnQsIGRhdGVSaWdodCkgLyBtaWxsaXNlY29uZHNJbk1pbnV0ZTtcbiAgcmV0dXJuIGdldFJvdW5kaW5nTWV0aG9kKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucm91bmRpbmdNZXRob2QpKGRpZmYpO1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2NvbXBhcmVBc2MuanNcbmZ1bmN0aW9uIGNvbXBhcmVBc2MoZGF0ZUxlZnQsIGRhdGVSaWdodCkge1xuICBjb25zdCBkaWZmID0gK3RvRGF0ZShkYXRlTGVmdCkgLSArdG9EYXRlKGRhdGVSaWdodCk7XG4gIGlmIChkaWZmIDwgMCkgcmV0dXJuIC0xO1xuICBlbHNlIGlmIChkaWZmID4gMCkgcmV0dXJuIDE7XG4gIHJldHVybiBkaWZmO1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbkNhbGVuZGFyTW9udGhzLmpzXG5mdW5jdGlvbiBkaWZmZXJlbmNlSW5DYWxlbmRhck1vbnRocyhsYXRlckRhdGUsIGVhcmxpZXJEYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IFtsYXRlckRhdGVfLCBlYXJsaWVyRGF0ZV9dID0gbm9ybWFsaXplRGF0ZXMoXG4gICAgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbixcbiAgICBsYXRlckRhdGUsXG4gICAgZWFybGllckRhdGVcbiAgKTtcbiAgY29uc3QgeWVhcnNEaWZmID0gbGF0ZXJEYXRlXy5nZXRGdWxsWWVhcigpIC0gZWFybGllckRhdGVfLmdldEZ1bGxZZWFyKCk7XG4gIGNvbnN0IG1vbnRoc0RpZmYgPSBsYXRlckRhdGVfLmdldE1vbnRoKCkgLSBlYXJsaWVyRGF0ZV8uZ2V0TW9udGgoKTtcbiAgcmV0dXJuIHllYXJzRGlmZiAqIDEyICsgbW9udGhzRGlmZjtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lbmRPZkRheS5qc1xuZnVuY3Rpb24gZW5kT2ZEYXkoZGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlLCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluKTtcbiAgX2RhdGUuc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KTtcbiAgcmV0dXJuIF9kYXRlO1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VuZE9mTW9udGguanNcbmZ1bmN0aW9uIGVuZE9mTW9udGgoZGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlLCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluKTtcbiAgY29uc3QgbW9udGggPSBfZGF0ZS5nZXRNb250aCgpO1xuICBfZGF0ZS5zZXRGdWxsWWVhcihfZGF0ZS5nZXRGdWxsWWVhcigpLCBtb250aCArIDEsIDApO1xuICBfZGF0ZS5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpO1xuICByZXR1cm4gX2RhdGU7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNMYXN0RGF5T2ZNb250aC5qc1xuZnVuY3Rpb24gaXNMYXN0RGF5T2ZNb250aChkYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4pO1xuICByZXR1cm4gK2VuZE9mRGF5KF9kYXRlLCBvcHRpb25zKSA9PT0gK2VuZE9mTW9udGgoX2RhdGUsIG9wdGlvbnMpO1xufVxuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGF0ZS1mbnNANC4xLjAvbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbk1vbnRocy5qc1xuZnVuY3Rpb24gZGlmZmVyZW5jZUluTW9udGhzKGxhdGVyRGF0ZSwgZWFybGllckRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgW2xhdGVyRGF0ZV8sIHdvcmtpbmdMYXRlckRhdGUsIGVhcmxpZXJEYXRlX10gPSBub3JtYWxpemVEYXRlcyhcbiAgICBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluLFxuICAgIGxhdGVyRGF0ZSxcbiAgICBsYXRlckRhdGUsXG4gICAgZWFybGllckRhdGVcbiAgKTtcbiAgY29uc3Qgc2lnbiA9IGNvbXBhcmVBc2Mod29ya2luZ0xhdGVyRGF0ZSwgZWFybGllckRhdGVfKTtcbiAgY29uc3QgZGlmZmVyZW5jZSA9IE1hdGguYWJzKFxuICAgIGRpZmZlcmVuY2VJbkNhbGVuZGFyTW9udGhzKHdvcmtpbmdMYXRlckRhdGUsIGVhcmxpZXJEYXRlXylcbiAgKTtcbiAgaWYgKGRpZmZlcmVuY2UgPCAxKSByZXR1cm4gMDtcbiAgaWYgKHdvcmtpbmdMYXRlckRhdGUuZ2V0TW9udGgoKSA9PT0gMSAmJiB3b3JraW5nTGF0ZXJEYXRlLmdldERhdGUoKSA+IDI3KVxuICAgIHdvcmtpbmdMYXRlckRhdGUuc2V0RGF0ZSgzMCk7XG4gIHdvcmtpbmdMYXRlckRhdGUuc2V0TW9udGgod29ya2luZ0xhdGVyRGF0ZS5nZXRNb250aCgpIC0gc2lnbiAqIGRpZmZlcmVuY2UpO1xuICBsZXQgaXNMYXN0TW9udGhOb3RGdWxsID0gY29tcGFyZUFzYyh3b3JraW5nTGF0ZXJEYXRlLCBlYXJsaWVyRGF0ZV8pID09PSAtc2lnbjtcbiAgaWYgKGlzTGFzdERheU9mTW9udGgobGF0ZXJEYXRlXykgJiYgZGlmZmVyZW5jZSA9PT0gMSAmJiBjb21wYXJlQXNjKGxhdGVyRGF0ZV8sIGVhcmxpZXJEYXRlXykgPT09IDEpIHtcbiAgICBpc0xhc3RNb250aE5vdEZ1bGwgPSBmYWxzZTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSBzaWduICogKGRpZmZlcmVuY2UgLSAraXNMYXN0TW9udGhOb3RGdWxsKTtcbiAgcmV0dXJuIHJlc3VsdCA9PT0gMCA/IDAgOiByZXN1bHQ7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluU2Vjb25kcy5qc1xuZnVuY3Rpb24gZGlmZmVyZW5jZUluU2Vjb25kcyhsYXRlckRhdGUsIGVhcmxpZXJEYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IGRpZmYgPSBkaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMobGF0ZXJEYXRlLCBlYXJsaWVyRGF0ZSkgLyAxZTM7XG4gIHJldHVybiBnZXRSb3VuZGluZ01ldGhvZChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnJvdW5kaW5nTWV0aG9kKShkaWZmKTtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5DYWxlbmRhclllYXJzLmpzXG5mdW5jdGlvbiBkaWZmZXJlbmNlSW5DYWxlbmRhclllYXJzKGxhdGVyRGF0ZSwgZWFybGllckRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgW2xhdGVyRGF0ZV8sIGVhcmxpZXJEYXRlX10gPSBub3JtYWxpemVEYXRlcyhcbiAgICBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluLFxuICAgIGxhdGVyRGF0ZSxcbiAgICBlYXJsaWVyRGF0ZVxuICApO1xuICByZXR1cm4gbGF0ZXJEYXRlXy5nZXRGdWxsWWVhcigpIC0gZWFybGllckRhdGVfLmdldEZ1bGxZZWFyKCk7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluWWVhcnMuanNcbmZ1bmN0aW9uIGRpZmZlcmVuY2VJblllYXJzKGxhdGVyRGF0ZSwgZWFybGllckRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgW2xhdGVyRGF0ZV8sIGVhcmxpZXJEYXRlX10gPSBub3JtYWxpemVEYXRlcyhcbiAgICBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluLFxuICAgIGxhdGVyRGF0ZSxcbiAgICBlYXJsaWVyRGF0ZVxuICApO1xuICBjb25zdCBzaWduID0gY29tcGFyZUFzYyhsYXRlckRhdGVfLCBlYXJsaWVyRGF0ZV8pO1xuICBjb25zdCBkaWZmID0gTWF0aC5hYnMoZGlmZmVyZW5jZUluQ2FsZW5kYXJZZWFycyhsYXRlckRhdGVfLCBlYXJsaWVyRGF0ZV8pKTtcbiAgbGF0ZXJEYXRlXy5zZXRGdWxsWWVhcigxNTg0KTtcbiAgZWFybGllckRhdGVfLnNldEZ1bGxZZWFyKDE1ODQpO1xuICBjb25zdCBwYXJ0aWFsID0gY29tcGFyZUFzYyhsYXRlckRhdGVfLCBlYXJsaWVyRGF0ZV8pID09PSAtc2lnbjtcbiAgY29uc3QgcmVzdWx0ID0gc2lnbiAqIChkaWZmIC0gK3BhcnRpYWwpO1xuICByZXR1cm4gcmVzdWx0ID09PSAwID8gMCA6IHJlc3VsdDtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RhdGUtZm5zQDQuMS4wL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pbnRlcnZhbFRvRHVyYXRpb24uanNcbmZ1bmN0aW9uIGludGVydmFsVG9EdXJhdGlvbihpbnRlcnZhbCwgb3B0aW9ucykge1xuICBjb25zdCB7IHN0YXJ0LCBlbmQgfSA9IG5vcm1hbGl6ZUludGVydmFsKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW4sIGludGVydmFsKTtcbiAgY29uc3QgZHVyYXRpb24gPSB7fTtcbiAgY29uc3QgeWVhcnMgPSBkaWZmZXJlbmNlSW5ZZWFycyhlbmQsIHN0YXJ0KTtcbiAgaWYgKHllYXJzKSBkdXJhdGlvbi55ZWFycyA9IHllYXJzO1xuICBjb25zdCByZW1haW5pbmdNb250aHMgPSBhZGQoc3RhcnQsIHsgeWVhcnM6IGR1cmF0aW9uLnllYXJzIH0pO1xuICBjb25zdCBtb250aHMgPSBkaWZmZXJlbmNlSW5Nb250aHMoZW5kLCByZW1haW5pbmdNb250aHMpO1xuICBpZiAobW9udGhzKSBkdXJhdGlvbi5tb250aHMgPSBtb250aHM7XG4gIGNvbnN0IHJlbWFpbmluZ0RheXMgPSBhZGQocmVtYWluaW5nTW9udGhzLCB7IG1vbnRoczogZHVyYXRpb24ubW9udGhzIH0pO1xuICBjb25zdCBkYXlzID0gZGlmZmVyZW5jZUluRGF5cyhlbmQsIHJlbWFpbmluZ0RheXMpO1xuICBpZiAoZGF5cykgZHVyYXRpb24uZGF5cyA9IGRheXM7XG4gIGNvbnN0IHJlbWFpbmluZ0hvdXJzID0gYWRkKHJlbWFpbmluZ0RheXMsIHsgZGF5czogZHVyYXRpb24uZGF5cyB9KTtcbiAgY29uc3QgaG91cnMgPSBkaWZmZXJlbmNlSW5Ib3VycyhlbmQsIHJlbWFpbmluZ0hvdXJzKTtcbiAgaWYgKGhvdXJzKSBkdXJhdGlvbi5ob3VycyA9IGhvdXJzO1xuICBjb25zdCByZW1haW5pbmdNaW51dGVzID0gYWRkKHJlbWFpbmluZ0hvdXJzLCB7IGhvdXJzOiBkdXJhdGlvbi5ob3VycyB9KTtcbiAgY29uc3QgbWludXRlcyA9IGRpZmZlcmVuY2VJbk1pbnV0ZXMoZW5kLCByZW1haW5pbmdNaW51dGVzKTtcbiAgaWYgKG1pbnV0ZXMpIGR1cmF0aW9uLm1pbnV0ZXMgPSBtaW51dGVzO1xuICBjb25zdCByZW1haW5pbmdTZWNvbmRzID0gYWRkKHJlbWFpbmluZ01pbnV0ZXMsIHsgbWludXRlczogZHVyYXRpb24ubWludXRlcyB9KTtcbiAgY29uc3Qgc2Vjb25kcyA9IGRpZmZlcmVuY2VJblNlY29uZHMoZW5kLCByZW1haW5pbmdTZWNvbmRzKTtcbiAgaWYgKHNlY29uZHMpIGR1cmF0aW9uLnNlY29uZHMgPSBzZWNvbmRzO1xuICByZXR1cm4gZHVyYXRpb247XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3ViRGF5cy5qc1xuZnVuY3Rpb24gc3ViRGF5cyhkYXRlLCBhbW91bnQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGFkZERheXMoZGF0ZSwgLWFtb3VudCwgb3B0aW9ucyk7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3ViTW9udGhzLmpzXG5mdW5jdGlvbiBzdWJNb250aHMoZGF0ZSwgYW1vdW50LCBvcHRpb25zKSB7XG4gIHJldHVybiBhZGRNb250aHMoZGF0ZSwgLWFtb3VudCwgb3B0aW9ucyk7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kYXRlLWZuc0A0LjEuMC9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3ViLmpzXG5mdW5jdGlvbiBzdWIoZGF0ZSwgZHVyYXRpb24sIG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIHllYXJzID0gMCxcbiAgICBtb250aHMgPSAwLFxuICAgIHdlZWtzID0gMCxcbiAgICBkYXlzID0gMCxcbiAgICBob3VycyA9IDAsXG4gICAgbWludXRlcyA9IDAsXG4gICAgc2Vjb25kcyA9IDBcbiAgfSA9IGR1cmF0aW9uO1xuICBjb25zdCB3aXRob3V0TW9udGhzID0gc3ViTW9udGhzKGRhdGUsIG1vbnRocyArIHllYXJzICogMTIsIG9wdGlvbnMpO1xuICBjb25zdCB3aXRob3V0RGF5cyA9IHN1YkRheXMod2l0aG91dE1vbnRocywgZGF5cyArIHdlZWtzICogNywgb3B0aW9ucyk7XG4gIGNvbnN0IG1pbnV0ZXNUb1N1YiA9IG1pbnV0ZXMgKyBob3VycyAqIDYwO1xuICBjb25zdCBzZWNvbmRzVG9TdWIgPSBzZWNvbmRzICsgbWludXRlc1RvU3ViICogNjA7XG4gIGNvbnN0IG1zVG9TdWIgPSBzZWNvbmRzVG9TdWIgKiAxZTM7XG4gIHJldHVybiBjb25zdHJ1Y3RGcm9tKChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluKSB8fCBkYXRlLCArd2l0aG91dERheXMgLSBtc1RvU3ViKTtcbn1cblxuLy8gc3JjL3RoaXJkLXBhcnR5L2V2YWwtZm9ybXVsYS50c1xuaW1wb3J0IHsgZ2V0RGF0ZVZhbHVlLCBnZXRUZXh0Q29udGVudCBhcyBnZXRUZXh0Q29udGVudDIgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5mdW5jdGlvbiBldmFsRm9ybXVsYShmb3JtdWxhLCBjb250ZXh0KSB7XG4gIGNvbnN0IHsgZW5kRGF0ZSwgLi4uY3R4MiB9ID0gY29udGV4dDtcbiAgc3dpdGNoIChmb3JtdWxhID09IG51bGwgPyB2b2lkIDAgOiBmb3JtdWxhLnR5cGUpIHtcbiAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICByZXR1cm4gZm9ybXVsYS5uYW1lID09PSBcInRydWVcIjtcbiAgICBjYXNlIFwiY29uc3RhbnRcIjoge1xuICAgICAgY29uc3QgdmFsdWUgPSBmb3JtdWxhLnZhbHVlO1xuICAgICAgc3dpdGNoIChmb3JtdWxhLnJlc3VsdF90eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgcmV0dXJuIE51bWJlci5wYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJwcm9wZXJ0eVwiOiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGN0eDIucHJvcGVydGllc1tmb3JtdWxhLmlkXTtcbiAgICAgIGNvbnN0IHRleHQgPSBnZXRUZXh0Q29udGVudDIodmFsdWUpO1xuICAgICAgc3dpdGNoIChmb3JtdWxhLnJlc3VsdF90eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICByZXR1cm4gTnVtYmVyLnBhcnNlRmxvYXQodGV4dCk7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dCA9PT0gXCJ0cnVlXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAhIXRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiZGF0ZVwiOiB7XG4gICAgICAgICAgY29uc3QgdiA9IGdldERhdGVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgIGlmIChlbmREYXRlICYmIHYuZW5kX2RhdGUpIHtcbiAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHYuZW5kX2RhdGUpO1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoXG4gICAgICAgICAgICAgICAgZGF0ZS5nZXRVVENGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgIGRhdGUuZ2V0VVRDTW9udGgoKSxcbiAgICAgICAgICAgICAgICBkYXRlLmdldFVUQ0RhdGUoKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHYuc3RhcnRfZGF0ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShcbiAgICAgICAgICAgICAgICBkYXRlLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICAgICAgICAgICAgZGF0ZS5nZXRVVENNb250aCgpLFxuICAgICAgICAgICAgICAgIGRhdGUuZ2V0VVRDRGF0ZSgpXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0ZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgIH1cbiAgICB9XG4gICAgY2FzZSBcIm9wZXJhdG9yXCI6XG4gICAgLy8gQWxsIG9wZXJhdG9ycyBhcmUgZXhwb3NlZCBhcyBmdW5jdGlvbnMsIHNvIHdlIGhhbmRsZSB0aGVtIHRoZSBzYW1lXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICByZXR1cm4gZXZhbEZ1bmN0aW9uRm9ybXVsYShmb3JtdWxhLCBjdHgyKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgaW52YWxpZCBvciB1bnN1cHBvcnRlZCBmb3JtdWxhIFwiJHtmb3JtdWxhID09IG51bGwgPyB2b2lkIDAgOiBmb3JtdWxhLnR5cGV9YFxuICAgICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gZXZhbEZ1bmN0aW9uRm9ybXVsYShmb3JtdWxhLCBjdHgyKSB7XG4gIGNvbnN0IGFyZ3MgPSBmb3JtdWxhID09IG51bGwgPyB2b2lkIDAgOiBmb3JtdWxhLmFyZ3M7XG4gIHN3aXRjaCAoZm9ybXVsYS5uYW1lKSB7XG4gICAgLy8gbG9naWNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBjYXNlIFwiYW5kXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgJiYgZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgY2FzZSBcImVtcHR5XCI6XG4gICAgICByZXR1cm4gIWV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgIGNhc2UgXCJlcXVhbFwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpID09IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgIGNhc2UgXCJpZlwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpID8gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4MikgOiBldmFsRm9ybXVsYShhcmdzWzJdLCBjdHgyKTtcbiAgICBjYXNlIFwibGFyZ2VyXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgPiBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICBjYXNlIFwibGFyZ2VyRXFcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSA+PSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICBjYXNlIFwibm90XCI6XG4gICAgICByZXR1cm4gIWV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgIGNhc2UgXCJvclwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpIHx8IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgIGNhc2UgXCJzbWFsbGVyXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgPCBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICBjYXNlIFwic21hbGxlckVxXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgPD0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgY2FzZSBcInVuZXF1YWxcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSAhPSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICAvLyBudW1lcmljXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgY2FzZSBcImFic1wiOlxuICAgICAgcmV0dXJuIE1hdGguYWJzKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwiYWRkXCI6IHtcbiAgICAgIGNvbnN0IHYwID0gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4Mik7XG4gICAgICBjb25zdCB2MSA9IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgICAgaWYgKHR5cGVvZiB2MCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gdjAgKyArdjE7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2MCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gdjAgKyBgJHt2MX1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHYwO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXNlIFwiY2JydFwiOlxuICAgICAgcmV0dXJuIE1hdGguY2JydChldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcImNlaWxcIjpcbiAgICAgIHJldHVybiBNYXRoLmNlaWwoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJkaXZpZGVcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSAvIGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgIGNhc2UgXCJleHBcIjpcbiAgICAgIHJldHVybiBNYXRoLmV4cChldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcImZsb29yXCI6XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcImxuXCI6XG4gICAgICByZXR1cm4gTWF0aC5sb2coZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJsb2cxMFwiOlxuICAgICAgcmV0dXJuIE1hdGgubG9nMTAoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJsb2cyXCI6XG4gICAgICByZXR1cm4gTWF0aC5sb2cyKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwibWF4XCI6IHtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IGFyZ3MubWFwKChhcmcpID0+IGV2YWxGb3JtdWxhKGFyZywgY3R4MikpO1xuICAgICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoXG4gICAgICAgIChhY2MsIHZhbHVlKSA9PiBNYXRoLm1heChhY2MsIHZhbHVlKSxcbiAgICAgICAgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXG4gICAgICApO1xuICAgIH1cbiAgICBjYXNlIFwibWluXCI6IHtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IGFyZ3MubWFwKChhcmcpID0+IGV2YWxGb3JtdWxhKGFyZywgY3R4MikpO1xuICAgICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoXG4gICAgICAgIChhY2MsIHZhbHVlKSA9PiBNYXRoLm1pbihhY2MsIHZhbHVlKSxcbiAgICAgICAgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXG4gICAgICApO1xuICAgIH1cbiAgICBjYXNlIFwibW9kXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgJSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICBjYXNlIFwibXVsdGlwbHlcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSAqIGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgIGNhc2UgXCJwb3dcIjpcbiAgICAgIHJldHVybiBNYXRoLnBvdyhcbiAgICAgICAgZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MiksXG4gICAgICAgIGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpXG4gICAgICApO1xuICAgIGNhc2UgXCJyb3VuZFwiOlxuICAgICAgcmV0dXJuIE1hdGgucm91bmQoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJzaWduXCI6XG4gICAgICByZXR1cm4gTWF0aC5zaWduKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwic3FydFwiOlxuICAgICAgcmV0dXJuIE1hdGguc3FydChldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcInN1YnRyYWN0XCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgLSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICBjYXNlIFwidG9OdW1iZXJcIjpcbiAgICAgIHJldHVybiBOdW1iZXIucGFyc2VGbG9hdChldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcInVuYXJ5TWludXNcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSAqIC0xO1xuICAgIGNhc2UgXCJ1bmFyeVBsdXNcIjpcbiAgICAgIHJldHVybiBOdW1iZXIucGFyc2VGbG9hdChldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgLy8gdGV4dFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGNhc2UgXCJjb25jYXRcIjoge1xuICAgICAgY29uc3QgdmFsdWVzID0gYXJncy5tYXAoKGFyZykgPT4gZXZhbEZvcm11bGEoYXJnLCBjdHgyKSk7XG4gICAgICByZXR1cm4gdmFsdWVzLmpvaW4oXCJcIik7XG4gICAgfVxuICAgIGNhc2UgXCJjb250YWluc1wiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpLmluY2x1ZGVzKFxuICAgICAgICBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKVxuICAgICAgKTtcbiAgICBjYXNlIFwiZm9ybWF0XCI6IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4Mik7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdCh2YWx1ZSwgXCJNTU0gZCwgWVlZXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7dmFsdWV9YDtcbiAgICAgICAgICB9XG4gICAgICAgIC8vIGNhc2UgJ251bWJlcic6XG4gICAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGAke3ZhbHVlfWA7XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJqb2luXCI6IHtcbiAgICAgIGNvbnN0IFtkZWxpbWl0ZXJBcmcsIC4uLnJlc3RBcmdzXSA9IGFyZ3M7XG4gICAgICBjb25zdCBkZWxpbWl0ZXIgPSBldmFsRm9ybXVsYShkZWxpbWl0ZXJBcmcsIGN0eDIpO1xuICAgICAgY29uc3QgdmFsdWVzID0gcmVzdEFyZ3MubWFwKChhcmcpID0+IGV2YWxGb3JtdWxhKGFyZywgY3R4MikpO1xuICAgICAgcmV0dXJuIHZhbHVlcy5qb2luKGRlbGltaXRlcik7XG4gICAgfVxuICAgIGNhc2UgXCJsZW5ndGhcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKS5sZW5ndGg7XG4gICAgY2FzZSBcInJlcGxhY2VcIjoge1xuICAgICAgY29uc3QgdmFsdWUgPSBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKTtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgICBjb25zdCByZXBsYWNlbWVudCA9IGV2YWxGb3JtdWxhKGFyZ3NbMl0sIGN0eDIpO1xuICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChyZWdleCksIHJlcGxhY2VtZW50KTtcbiAgICB9XG4gICAgY2FzZSBcInJlcGxhY2VBbGxcIjoge1xuICAgICAgY29uc3QgdmFsdWUgPSBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKTtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgICBjb25zdCByZXBsYWNlbWVudCA9IGV2YWxGb3JtdWxhKGFyZ3NbMl0sIGN0eDIpO1xuICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2VBbGwobmV3IFJlZ0V4cChyZWdleCwgXCJnXCIpLCByZXBsYWNlbWVudCk7XG4gICAgfVxuICAgIGNhc2UgXCJzbGljZVwiOiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgICAgY29uc3QgYmVnaW5JbmRleCA9IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgICAgY29uc3QgZW5kSW5kZXggPSBhcmdzWzJdID8gZXZhbEZvcm11bGEoYXJnc1syXSwgY3R4MikgOiB2YWx1ZS5sZW5ndGg7XG4gICAgICByZXR1cm4gdmFsdWUuc2xpY2UoYmVnaW5JbmRleCwgZW5kSW5kZXgpO1xuICAgIH1cbiAgICBjYXNlIFwidGVzdFwiOiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgICAgY29uc3QgcmVnZXggPSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4KS50ZXN0KHZhbHVlKTtcbiAgICB9XG4gICAgLy8gZGF0ZSAmIHRpbWVcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBjYXNlIFwiZGF0ZVwiOlxuICAgICAgcmV0dXJuIGdldERhdGUoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJkYXRlQWRkXCI6IHtcbiAgICAgIGNvbnN0IGRhdGUgPSBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKTtcbiAgICAgIGNvbnN0IG51bWJlciA9IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgICAgY29uc3QgdW5pdCA9IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgICAgcmV0dXJuIGFkZChkYXRlLCB7IFt1bml0XTogbnVtYmVyIH0pO1xuICAgIH1cbiAgICBjYXNlIFwiZGF0ZUJldHdlZW5cIjoge1xuICAgICAgY29uc3QgZGF0ZTEgPSBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKTtcbiAgICAgIGNvbnN0IGRhdGUyID0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgICBjb25zdCB1bml0ID0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgICByZXR1cm4gaW50ZXJ2YWxUb0R1cmF0aW9uKHtcbiAgICAgICAgc3RhcnQ6IGRhdGUyLFxuICAgICAgICBlbmQ6IGRhdGUxXG4gICAgICB9KVt1bml0XTtcbiAgICB9XG4gICAgY2FzZSBcImRhdGVTdWJ0cmFjdFwiOiB7XG4gICAgICBjb25zdCBkYXRlID0gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4Mik7XG4gICAgICBjb25zdCBudW1iZXIgPSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICAgIGNvbnN0IHVuaXQgPSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICAgIHJldHVybiBzdWIoZGF0ZSwgeyBbdW5pdF06IG51bWJlciB9KTtcbiAgICB9XG4gICAgY2FzZSBcImRheVwiOlxuICAgICAgcmV0dXJuIGdldERheShldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcImVuZFwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIHsgLi4uY3R4MiwgZW5kRGF0ZTogdHJ1ZSB9KTtcbiAgICBjYXNlIFwiZm9ybWF0RGF0ZVwiOiB7XG4gICAgICBjb25zdCBkYXRlID0gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4Mik7XG4gICAgICBjb25zdCBmb3JtYXRWYWx1ZSA9IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpLnJlcGxhY2UoXG4gICAgICAgIFwiZGRkZFwiLFxuICAgICAgICBcImVlZWVcIlxuICAgICAgKTtcbiAgICAgIHJldHVybiBmb3JtYXQoZGF0ZSwgZm9ybWF0VmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwiZnJvbVRpbWVzdGFtcFwiOlxuICAgICAgcmV0dXJuIG5ldyBEYXRlKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwiaG91clwiOlxuICAgICAgcmV0dXJuIGdldEhvdXJzKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwibWludXRlXCI6XG4gICAgICByZXR1cm4gZ2V0TWludXRlcyhldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcIm1vbnRoXCI6XG4gICAgICByZXR1cm4gZ2V0TW9udGgoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJub3dcIjpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKTtcbiAgICBjYXNlIFwic3RhcnRcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCB7IC4uLmN0eDIsIGVuZERhdGU6IGZhbHNlIH0pO1xuICAgIGNhc2UgXCJ0aW1lc3RhbXBcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKS5nZXRUaW1lKCk7XG4gICAgY2FzZSBcInllYXJcIjpcbiAgICAgIHJldHVybiBnZXRZZWFyKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgaW52YWxpZCBvciB1bnN1cHBvcnRlZCBmdW5jdGlvbiBmb3JtdWxhIFwiJHtmb3JtdWxhID09IG51bGwgPyB2b2lkIDAgOiBmb3JtdWxhLnR5cGV9YFxuICAgICAgKTtcbiAgfVxufVxuXG4vLyBzcmMvdGhpcmQtcGFydHkvcHJvcGVydHkudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4NDcsIGpzeHMgYXMganN4czEyIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBQcm9wZXJ0eShwcm9wcykge1xuICBjb25zdCB7IGNvbXBvbmVudHMgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgaWYgKGNvbXBvbmVudHMuUHJvcGVydHkpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQ3KGNvbXBvbmVudHMuUHJvcGVydHksIHsgLi4ucHJvcHMgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0NyhQcm9wZXJ0eUltcGxNZW1vLCB7IC4uLnByb3BzIH0pO1xuICB9XG59XG5mdW5jdGlvbiBQcm9wZXJ0eUltcGwocHJvcHMpIHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIGNvbnN0IHsgY29tcG9uZW50cywgbWFwSW1hZ2VVcmwsIG1hcFBhZ2VVcmwgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3Qge1xuICAgIHNjaGVtYSxcbiAgICBkYXRhLFxuICAgIGJsb2NrLFxuICAgIGNvbGxlY3Rpb24sXG4gICAgaW5saW5lID0gZmFsc2UsXG4gICAgbGlua1RvVGl0bGVQYWdlID0gdHJ1ZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHJlbmRlclRleHRWYWx1ZSA9IFJlYWN0MTYudXNlTWVtbyhcbiAgICAoKSA9PiBmdW5jdGlvbiBUZXh0UHJvcGVydHkoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQ3KFRleHQsIHsgdmFsdWU6IGRhdGEsIGJsb2NrIH0pO1xuICAgIH0sXG4gICAgW2Jsb2NrLCBkYXRhXVxuICApO1xuICBjb25zdCByZW5kZXJEYXRlVmFsdWUgPSBSZWFjdDE2LnVzZU1lbW8oXG4gICAgKCkgPT4gZnVuY3Rpb24gRGF0ZVByb3BlcnR5KCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0NyhUZXh0LCB7IHZhbHVlOiBkYXRhLCBibG9jayB9KTtcbiAgICB9LFxuICAgIFtibG9jaywgZGF0YV1cbiAgKTtcbiAgY29uc3QgcmVuZGVyUmVsYXRpb25WYWx1ZSA9IFJlYWN0MTYudXNlTWVtbyhcbiAgICAoKSA9PiBmdW5jdGlvbiBSZWxhdGlvblByb3BlcnR5KCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0NyhUZXh0LCB7IHZhbHVlOiBkYXRhLCBibG9jayB9KTtcbiAgICB9LFxuICAgIFtibG9jaywgZGF0YV1cbiAgKTtcbiAgY29uc3QgcmVuZGVyRm9ybXVsYVZhbHVlID0gUmVhY3QxNi51c2VNZW1vKFxuICAgICgpID0+IGZ1bmN0aW9uIEZvcm11bGFQcm9wZXJ0eSgpIHtcbiAgICAgIGxldCBjb250ZW50MjtcbiAgICAgIGlmICghc2NoZW1hKSByZXR1cm4gbnVsbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnRlbnQyID0gZXZhbEZvcm11bGEoc2NoZW1hLmZvcm11bGEsIHtcbiAgICAgICAgICBzY2hlbWE6IGNvbGxlY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb24uc2NoZW1hLFxuICAgICAgICAgIHByb3BlcnRpZXM6IGJsb2NrID09IG51bGwgPyB2b2lkIDAgOiBibG9jay5wcm9wZXJ0aWVzXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKGNvbnRlbnQyKSkge1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZW50MiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICBjb250ZW50MiA9IGZvcm1hdChjb250ZW50MiwgXCJNTU0gZCwgWVlZIGhoOm1tIGFhXCIpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnRlbnQyID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50MjtcbiAgICB9LFxuICAgIFtibG9jayA9PSBudWxsID8gdm9pZCAwIDogYmxvY2sucHJvcGVydGllcywgY29sbGVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvbi5zY2hlbWEsIHNjaGVtYV1cbiAgKTtcbiAgY29uc3QgcmVuZGVyVGl0bGVWYWx1ZSA9IFJlYWN0MTYudXNlTWVtbyhcbiAgICAoKSA9PiBmdW5jdGlvbiBGb3JtdWxhVGl0bGUoKSB7XG4gICAgICBpZiAoYmxvY2sgJiYgbGlua1RvVGl0bGVQYWdlKSB7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NDcoXG4gICAgICAgICAgY29tcG9uZW50cy5QYWdlTGluayxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IGNzKFwibm90aW9uLXBhZ2UtbGlua1wiKSxcbiAgICAgICAgICAgIGhyZWY6IG1hcFBhZ2VVcmwoYmxvY2suaWQpLFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g0NyhQYWdlVGl0bGUsIHsgYmxvY2sgfSlcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQ3KFRleHQsIHsgdmFsdWU6IGRhdGEsIGJsb2NrIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2Jsb2NrLCBjb21wb25lbnRzLCBkYXRhLCBsaW5rVG9UaXRsZVBhZ2UsIG1hcFBhZ2VVcmxdXG4gICk7XG4gIGNvbnN0IHJlbmRlclBlcnNvblZhbHVlID0gUmVhY3QxNi51c2VNZW1vKFxuICAgICgpID0+IGZ1bmN0aW9uIFBlcnNvblByb3BlcnR5KCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0NyhUZXh0LCB7IHZhbHVlOiBkYXRhLCBibG9jayB9KTtcbiAgICB9LFxuICAgIFtibG9jaywgZGF0YV1cbiAgKTtcbiAgY29uc3QgcmVuZGVyRmlsZVZhbHVlID0gUmVhY3QxNi51c2VNZW1vKFxuICAgICgpID0+IGZ1bmN0aW9uIEZpbGVQcm9wZXJ0eSgpIHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuIG51bGw7XG4gICAgICBjb25zdCBmaWxlcyA9IGRhdGEuZmlsdGVyKCh2KSA9PiB2Lmxlbmd0aCA9PT0gMikubWFwKChmKSA9PiBmLmZsYXQoKS5mbGF0KCkpO1xuICAgICAgcmV0dXJuIGZpbGVzLm1hcCgoZmlsZSwgaSkgPT4gLyogQF9fUFVSRV9fICovIGpzeDQ3KFxuICAgICAgICBjb21wb25lbnRzLkxpbmssXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLXByb3BlcnR5LWZpbGVcIixcbiAgICAgICAgICBocmVmOiBtYXBJbWFnZVVybChmaWxlWzJdLCBibG9jayksXG4gICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgIHJlbDogXCJub3JlZmVycmVyIG5vb3BlbmVyXCIsXG4gICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g0NyhcbiAgICAgICAgICAgIEdyYWNlZnVsSW1hZ2UsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGFsdDogZmlsZVswXSxcbiAgICAgICAgICAgICAgc3JjOiBtYXBJbWFnZVVybChmaWxlWzJdLCBibG9jayksXG4gICAgICAgICAgICAgIGxvYWRpbmc6IFwibGF6eVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICB9LFxuICAgICAgICBpXG4gICAgICApKTtcbiAgICB9LFxuICAgIFtibG9jaywgY29tcG9uZW50cywgZGF0YSwgbWFwSW1hZ2VVcmxdXG4gICk7XG4gIGNvbnN0IHJlbmRlckNoZWNrYm94VmFsdWUgPSBSZWFjdDE2LnVzZU1lbW8oXG4gICAgKCkgPT4gZnVuY3Rpb24gQ2hlY2tib3hQcm9wZXJ0eSgpIHtcbiAgICAgIHZhciBfYTI7XG4gICAgICBpZiAoIWRhdGEgfHwgIShzY2hlbWEgPT0gbnVsbCA/IHZvaWQgMCA6IHNjaGVtYS5uYW1lKSkgcmV0dXJuIG51bGw7XG4gICAgICBjb25zdCBpc0NoZWNrZWQgPSBkYXRhICYmICgoX2EyID0gZGF0YVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMlswXSkgPT09IFwiWWVzXCI7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxMihcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tcHJvcGVydHktY2hlY2tib3gtY29udGFpbmVyXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g0NyhDaGVja2JveCwgeyBpc0NoZWNrZWQsIGJsb2NrSWQ6IHZvaWQgMCB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDQ3KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tcHJvcGVydHktY2hlY2tib3gtdGV4dFwiLCBjaGlsZHJlbjogc2NoZW1hLm5hbWUgfSlcbiAgICAgIF0gfSk7XG4gICAgfSxcbiAgICBbZGF0YSwgc2NoZW1hXVxuICApO1xuICBjb25zdCByZW5kZXJVcmxWYWx1ZSA9IFJlYWN0MTYudXNlTWVtbyhcbiAgICAoKSA9PiBmdW5jdGlvbiBVcmxQcm9wZXJ0eSgpIHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuIG51bGw7XG4gICAgICBjb25zdCBkID0gc3RydWN0dXJlZENsb25lKGRhdGEpO1xuICAgICAgaWYgKGlubGluZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZFswXVswXSk7XG4gICAgICAgICAgZFswXVswXSA9IHVybC5ob3N0bmFtZS5yZXBsYWNlKC9ed3d3XFwuLywgXCJcIik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0NyhcbiAgICAgICAgVGV4dCxcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlOiBkLFxuICAgICAgICAgIGJsb2NrLFxuICAgICAgICAgIGlubGluZSxcbiAgICAgICAgICBsaW5rUHJvcHM6IHtcbiAgICAgICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgICAgIHJlbDogXCJub3JlZmVycmVyIG5vb3BlbmVyXCJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSxcbiAgICBbYmxvY2ssIGRhdGEsIGlubGluZV1cbiAgKTtcbiAgY29uc3QgcmVuZGVyRW1haWxWYWx1ZSA9IFJlYWN0MTYudXNlTWVtbyhcbiAgICAoKSA9PiBmdW5jdGlvbiBFbWFpbFByb3BlcnR5KCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0NyhUZXh0LCB7IHZhbHVlOiBkYXRhLCBsaW5rUHJvdG9jb2w6IFwibWFpbHRvXCIsIGJsb2NrIH0pO1xuICAgIH0sXG4gICAgW2Jsb2NrLCBkYXRhXVxuICApO1xuICBjb25zdCByZW5kZXJQaG9uZU51bWJlclZhbHVlID0gUmVhY3QxNi51c2VNZW1vKFxuICAgICgpID0+IGZ1bmN0aW9uIFBob25lTnVtYmVyUHJvcGVydHkoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQ3KFRleHQsIHsgdmFsdWU6IGRhdGEsIGxpbmtQcm90b2NvbDogXCJ0ZWxcIiwgYmxvY2sgfSk7XG4gICAgfSxcbiAgICBbYmxvY2ssIGRhdGFdXG4gICk7XG4gIGNvbnN0IHJlbmRlck51bWJlclZhbHVlID0gUmVhY3QxNi51c2VNZW1vKFxuICAgICgpID0+IGZ1bmN0aW9uIE51bWJlclByb3BlcnR5KCkge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIGlmICghZGF0YSB8fCAhc2NoZW1hKSByZXR1cm4gbnVsbDtcbiAgICAgIGNvbnN0IHZhbHVlID0gTnVtYmVyLnBhcnNlRmxvYXQoKChfYTIgPSBkYXRhWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2EyWzBdKSB8fCBcIjBcIik7XG4gICAgICBsZXQgb3V0cHV0ID0gXCJcIjtcbiAgICAgIGlmIChOdW1iZXIuaXNOYU4odmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NDcoVGV4dCwgeyB2YWx1ZTogZGF0YSwgYmxvY2sgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKHNjaGVtYS5udW1iZXJfZm9ybWF0KSB7XG4gICAgICAgICAgY2FzZSBcIm51bWJlcl93aXRoX2NvbW1hc1wiOlxuICAgICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKCkodmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInBlcmNlbnRcIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHN1ZmZpeDogXCIlXCIgfSkodmFsdWUgKiAxMDApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImRvbGxhclwiOlxuICAgICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIiRcIiwgcm91bmQ6IDIsIHBhZFJpZ2h0OiAyIH0pKFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJldXJvXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiXFx1MjBBQ1wiLCByb3VuZDogMiwgcGFkUmlnaHQ6IDIgfSkoXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInBvdW5kXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiXFx4QTNcIiwgcm91bmQ6IDIsIHBhZFJpZ2h0OiAyIH0pKFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ5ZW5cIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJcXHhBNVwiLCByb3VuZDogMCB9KSh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicnVwZWVcIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJcXHUyMEI5XCIsIHJvdW5kOiAyLCBwYWRSaWdodDogMiB9KShcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwid29uXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiXFx1MjBBOVwiLCByb3VuZDogMCB9KSh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwieXVhblwiOlxuICAgICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIkNOXFx4QTVcIiwgcm91bmQ6IDIsIHBhZFJpZ2h0OiAyIH0pKFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJhcmdlbnRpbmVfcGVzb1wiOlxuICAgICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIkFSUyBcIiwgcm91bmQ6IDIsIHBhZFJpZ2h0OiAyIH0pKFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJiYWh0XCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiVEhCIFwiLCByb3VuZDogMiwgcGFkUmlnaHQ6IDIgfSkoXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImNhbmFkaWFuX2RvbGxhclwiOlxuICAgICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIkNBJFwiLCByb3VuZDogMiwgcGFkUmlnaHQ6IDIgfSkoXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImNoaWxlYW5fcGVzb1wiOlxuICAgICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIkNMUCBcIiwgcm91bmQ6IDAgfSkodmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImNvbG9tYmlhbl9wZXNvXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiQ09QIFwiLCByb3VuZDogMCB9KSh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiZGFuaXNoX2tyb25lXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiREtLIFwiLCByb3VuZDogMiwgcGFkUmlnaHQ6IDIgfSkoXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImRpcmhhbVwiOlxuICAgICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIkFFRCBcIiwgcm91bmQ6IDIsIHBhZFJpZ2h0OiAyIH0pKFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJmb3JpbnRcIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJIVUYgXCIsIHJvdW5kOiAwIH0pKHZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJmcmFuY1wiOlxuICAgICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIkNIRiBcIiwgcm91bmQ6IDIsIHBhZFJpZ2h0OiAyIH0pKFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJob25nX2tvbmdfZG9sbGFyXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiSEskXCIsIHJvdW5kOiAyLCBwYWRSaWdodDogMiB9KShcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwia29ydW5hXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiQ1pLIFwiLCByb3VuZDogMiwgcGFkUmlnaHQ6IDIgfSkoXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImtyb25hXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiU0VLIFwiLCByb3VuZDogMiwgcGFkUmlnaHQ6IDIgfSkoXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImxldVwiOlxuICAgICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIlJPTiBcIiwgcm91bmQ6IDIsIHBhZFJpZ2h0OiAyIH0pKFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJsaXJhXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiVFJZIFwiLCByb3VuZDogMiwgcGFkUmlnaHQ6IDIgfSkoXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm1leGljYW5fcGVzb1wiOlxuICAgICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIk1YJFwiLCByb3VuZDogMiwgcGFkUmlnaHQ6IDIgfSkoXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm5ld190YWl3YW5fZG9sbGFyXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiTlQkXCIsIHJvdW5kOiAwIH0pKHZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJuZXdfemVhbGFuZF9kb2xsYXJcIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJOWiRcIiwgcm91bmQ6IDIsIHBhZFJpZ2h0OiAyIH0pKFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJub3J3ZWdpYW5fa3JvbmVcIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJOT0sgXCIsIHJvdW5kOiAyLCBwYWRSaWdodDogMiB9KShcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoKSh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicGhpbGlwcGluZV9wZXNvXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiXFx1MjBCMVwiLCByb3VuZDogMiwgcGFkUmlnaHQ6IDIgfSkoXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInBlcnV2aWFuX3NvbFwiOlxuICAgICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIlBFTiBcIiwgcm91bmQ6IDIsIHBhZFJpZ2h0OiAyIH0pKFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJyYW5kXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiWkFSIFwiLCByb3VuZDogMiwgcGFkUmlnaHQ6IDIgfSkoXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInJlYWxcIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJSJFwiLCByb3VuZDogMiwgcGFkUmlnaHQ6IDIgfSkoXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInJpbmdnaXRcIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJNWVIgXCIsIHJvdW5kOiAyLCBwYWRSaWdodDogMiB9KShcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicml5YWxcIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJTQVIgXCIsIHJvdW5kOiAyLCBwYWRSaWdodDogMiB9KShcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicnVibGVcIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJSVUIgXCIsIHJvdW5kOiAyLCBwYWRSaWdodDogMiB9KShcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicnVwaWFoXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiSURSIFwiLCByb3VuZDogMCB9KSh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwic2hla2VsXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiXFx1MjBBQVwiLCByb3VuZDogMiwgcGFkUmlnaHQ6IDIgfSkoXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInNpbmdhcG9yZV9kb2xsYXJcIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJTR0QgXCIsIHJvdW5kOiAyLCBwYWRSaWdodDogMiB9KShcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwidXJ1Z3VheWFuX3Blc29cIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJVWVUgXCIsIHJvdW5kOiAyLCBwYWRSaWdodDogMiB9KShcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiemxvdHlcIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJQTE4gXCIsIHJvdW5kOiAyLCBwYWRSaWdodDogMiB9KShcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0NyhUZXh0LCB7IHZhbHVlOiBkYXRhLCBibG9jayB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQ3KFRleHQsIHsgdmFsdWU6IFtbb3V0cHV0XV0sIGJsb2NrIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2Jsb2NrLCBkYXRhLCBzY2hlbWFdXG4gICk7XG4gIGNvbnN0IHJlbmRlckF1dG9JbmNyZW1lbnRJZFZhbHVlID0gUmVhY3QxNi51c2VNZW1vKFxuICAgICgpID0+IGZ1bmN0aW9uIHJlbmRlckF1dG9JbmNyZW1lbnRJZFZhbHVlUHJvcGVydHkoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQ3KFRleHQsIHsgdmFsdWU6IGRhdGEsIGJsb2NrIH0pO1xuICAgIH0sXG4gICAgW2Jsb2NrLCBkYXRhXVxuICApO1xuICBjb25zdCByZW5kZXJDcmVhdGVkVGltZVZhbHVlID0gUmVhY3QxNi51c2VNZW1vKFxuICAgICgpID0+IGZ1bmN0aW9uIENyZWF0ZWRUaW1lUHJvcGVydHkoKSB7XG4gICAgICByZXR1cm4gZm9ybWF0KG5ldyBEYXRlKGJsb2NrLmNyZWF0ZWRfdGltZSksIFwiTU1NIGQsIFlZWSBoaDptbSBhYVwiKTtcbiAgICB9LFxuICAgIFtibG9ja11cbiAgKTtcbiAgY29uc3QgcmVuZGVyTGFzdEVkaXRlZFRpbWVWYWx1ZSA9IFJlYWN0MTYudXNlTWVtbyhcbiAgICAoKSA9PiBmdW5jdGlvbiBMYXN0RWRpdGVkVGltZVByb3BlcnR5KCkge1xuICAgICAgcmV0dXJuIGZvcm1hdChuZXcgRGF0ZShibG9jay5sYXN0X2VkaXRlZF90aW1lKSwgXCJNTU0gZCwgWVlZIGhoOm1tIGFhXCIpO1xuICAgIH0sXG4gICAgW2Jsb2NrXVxuICApO1xuICBpZiAoIXNjaGVtYSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBjb250ZW50ID0gbnVsbDtcbiAgaWYgKGRhdGEgfHwgc2NoZW1hLnR5cGUgPT09IFwiY2hlY2tib3hcIiB8fCBzY2hlbWEudHlwZSA9PT0gXCJ0aXRsZVwiIHx8IHNjaGVtYS50eXBlID09PSBcImZvcm11bGFcIiB8fCBzY2hlbWEudHlwZSA9PT0gXCJjcmVhdGVkX2J5XCIgfHwgc2NoZW1hLnR5cGUgPT09IFwibGFzdF9lZGl0ZWRfYnlcIiB8fCBzY2hlbWEudHlwZSA9PT0gXCJjcmVhdGVkX3RpbWVcIiB8fCBzY2hlbWEudHlwZSA9PT0gXCJsYXN0X2VkaXRlZF90aW1lXCIpIHtcbiAgICBzd2l0Y2ggKHNjaGVtYS50eXBlKSB7XG4gICAgICBjYXNlIFwicmVsYXRpb25cIjpcbiAgICAgICAgY29udGVudCA9IGNvbXBvbmVudHMucHJvcGVydHlSZWxhdGlvblZhbHVlKHByb3BzLCByZW5kZXJSZWxhdGlvblZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZm9ybXVsYVwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eUZvcm11bGFWYWx1ZShwcm9wcywgcmVuZGVyRm9ybXVsYVZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidGl0bGVcIjpcbiAgICAgICAgY29udGVudCA9IGNvbXBvbmVudHMucHJvcGVydHlUaXRsZVZhbHVlKHByb3BzLCByZW5kZXJUaXRsZVZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic3RhdHVzXCI6IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSAoKF9hID0gZGF0YSA9PSBudWxsID8gdm9pZCAwIDogZGF0YVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hWzBdKSB8fCBcIlwiO1xuICAgICAgICBjb25zdCBvcHRpb24gPSAoX2IgPSBzY2hlbWEub3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmZpbmQoKG9wdGlvbjIpID0+IHZhbHVlID09PSBvcHRpb24yLnZhbHVlKTtcbiAgICAgICAgY29uc3QgY29sb3IgPSAob3B0aW9uID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb24uY29sb3IpIHx8IFwiZGVmYXVsdC1pbmZlcnJlZFwiO1xuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eVNlbGVjdFZhbHVlKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBvcHRpb24sXG4gICAgICAgICAgICBjb2xvclxuICAgICAgICAgIH0sXG4gICAgICAgICAgKCkgPT4gLyogQF9fUFVSRV9fICovIGpzeHMxMihcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogY3MoXG4gICAgICAgICAgICAgICAgYG5vdGlvbi1wcm9wZXJ0eS0ke3NjaGVtYS50eXBlfS1pdGVtYCxcbiAgICAgICAgICAgICAgICBjb2xvciAmJiBgbm90aW9uLWl0ZW0tJHtjb2xvcn1gXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDQ3KFxuICAgICAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY3MoYG5vdGlvbi1pdGVtLWJ1bGxldC0ke2NvbG9yfWApLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjVweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjhweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjhweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgLy8gaW50ZW50aW9uYWwgZmFsbHRocm91Z2hcbiAgICAgIGNhc2UgXCJtdWx0aV9zZWxlY3RcIjoge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSAoKChfYyA9IGRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IGRhdGFbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfY1swXSkgfHwgXCJcIikuc3BsaXQoXCIsXCIpO1xuICAgICAgICBjb250ZW50ID0gdmFsdWVzLm1hcCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgICBjb25zdCBvcHRpb24gPSAoX2EyID0gc2NoZW1hLm9wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZmluZChcbiAgICAgICAgICAgIChvcHRpb24yKSA9PiB2YWx1ZSA9PT0gb3B0aW9uMi52YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgY29sb3IgPSBvcHRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbi5jb2xvcjtcbiAgICAgICAgICByZXR1cm4gY29tcG9uZW50cy5wcm9wZXJ0eVNlbGVjdFZhbHVlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIG9wdGlvbixcbiAgICAgICAgICAgICAgY29sb3JcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiAvKiBAX19QVVJFX18gKi8ganN4NDcoXG4gICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNzKFxuICAgICAgICAgICAgICAgICAgYG5vdGlvbi1wcm9wZXJ0eS0ke3NjaGVtYS50eXBlfS1pdGVtYCxcbiAgICAgICAgICAgICAgICAgIGNvbG9yICYmIGBub3Rpb24taXRlbS0ke2NvbG9yfWBcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiB2YWx1ZVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBpbmRleFxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJwZXJzb25cIjpcbiAgICAgICAgY29udGVudCA9IGNvbXBvbmVudHMucHJvcGVydHlQZXJzb25WYWx1ZShwcm9wcywgcmVuZGVyUGVyc29uVmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICAgIGNvbnRlbnQgPSBjb21wb25lbnRzLnByb3BlcnR5RmlsZVZhbHVlKHByb3BzLCByZW5kZXJGaWxlVmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjaGVja2JveFwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eUNoZWNrYm94VmFsdWUocHJvcHMsIHJlbmRlckNoZWNrYm94VmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ1cmxcIjpcbiAgICAgICAgY29udGVudCA9IGNvbXBvbmVudHMucHJvcGVydHlVcmxWYWx1ZShwcm9wcywgcmVuZGVyVXJsVmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbWFpbFwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eUVtYWlsVmFsdWUocHJvcHMsIHJlbmRlckVtYWlsVmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwaG9uZV9udW1iZXJcIjpcbiAgICAgICAgY29udGVudCA9IGNvbXBvbmVudHMucHJvcGVydHlQaG9uZU51bWJlclZhbHVlKFxuICAgICAgICAgIHByb3BzLFxuICAgICAgICAgIHJlbmRlclBob25lTnVtYmVyVmFsdWVcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIGNvbnRlbnQgPSBjb21wb25lbnRzLnByb3BlcnR5TnVtYmVyVmFsdWUocHJvcHMsIHJlbmRlck51bWJlclZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY3JlYXRlZF90aW1lXCI6XG4gICAgICAgIGNvbnRlbnQgPSBjb21wb25lbnRzLnByb3BlcnR5Q3JlYXRlZFRpbWVWYWx1ZShcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICByZW5kZXJDcmVhdGVkVGltZVZhbHVlXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxhc3RfZWRpdGVkX3RpbWVcIjpcbiAgICAgICAgY29udGVudCA9IGNvbXBvbmVudHMucHJvcGVydHlMYXN0RWRpdGVkVGltZVZhbHVlKFxuICAgICAgICAgIHByb3BzLFxuICAgICAgICAgIHJlbmRlckxhc3RFZGl0ZWRUaW1lVmFsdWVcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY3JlYXRlZF9ieVwiOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsYXN0X2VkaXRlZF9ieVwiOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhdXRvX2luY3JlbWVudF9pZFwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eVRleHRWYWx1ZShcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICByZW5kZXJBdXRvSW5jcmVtZW50SWRWYWx1ZVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgIGNvbnRlbnQgPSBjb21wb25lbnRzLnByb3BlcnR5VGV4dFZhbHVlKHByb3BzLCByZW5kZXJUZXh0VmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkYXRlXCI6XG4gICAgICAgIGNvbnRlbnQgPSBjb21wb25lbnRzLnByb3BlcnR5RGF0ZVZhbHVlKHByb3BzLCByZW5kZXJEYXRlVmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4NDcoVGV4dCwgeyB2YWx1ZTogZGF0YSwgYmxvY2sgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQ3KFwic3BhblwiLCB7IGNsYXNzTmFtZTogYG5vdGlvbi1wcm9wZXJ0eSBub3Rpb24tcHJvcGVydHktJHtzY2hlbWEudHlwZX1gLCBjaGlsZHJlbjogY29udGVudCB9KTtcbn1cbnZhciBQcm9wZXJ0eUltcGxNZW1vID0gUmVhY3QxNi5tZW1vKFByb3BlcnR5SW1wbCk7XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXJvdy50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3g0OCwganN4cyBhcyBqc3hzMTMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIENvbGxlY3Rpb25Sb3coe1xuICBibG9jayxcbiAgcGFnZUhlYWRlciA9IGZhbHNlLFxuICBjbGFzc05hbWVcbn0pIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICBjb25zdCB7IHJlY29yZE1hcCB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBjb25zdCBjb2xsZWN0aW9uSWQgPSBibG9jay5wYXJlbnRfaWQ7XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSAoX2EgPSByZWNvcmRNYXAuY29sbGVjdGlvbltjb2xsZWN0aW9uSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWU7XG4gIGNvbnN0IHNjaGVtYXMgPSBjb2xsZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb2xsZWN0aW9uLnNjaGVtYTtcbiAgaWYgKCFjb2xsZWN0aW9uIHx8ICFzY2hlbWFzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IHByb3BlcnR5SWRzID0gT2JqZWN0LmtleXMoc2NoZW1hcykuZmlsdGVyKChpZCkgPT4gaWQgIT09IFwidGl0bGVcIik7XG4gIGlmICgoX2IgPSBjb2xsZWN0aW9uLmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnByb3BlcnR5X3Zpc2liaWxpdHkpIHtcbiAgICBwcm9wZXJ0eUlkcyA9IHByb3BlcnR5SWRzLmZpbHRlcihcbiAgICAgIChpZCkgPT4ge1xuICAgICAgICB2YXIgX2EyLCBfYjIsIF9jMjtcbiAgICAgICAgcmV0dXJuICgoX2MyID0gKF9iMiA9IChfYTIgPSBjb2xsZWN0aW9uLmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5wcm9wZXJ0eV92aXNpYmlsaXR5KSA9PSBudWxsID8gdm9pZCAwIDogX2IyLmZpbmQoXG4gICAgICAgICAgKHsgcHJvcGVydHkgfSkgPT4gcHJvcGVydHkgPT09IGlkXG4gICAgICAgICkpID09IG51bGwgPyB2b2lkIDAgOiBfYzIudmlzaWJpbGl0eSkgIT09IFwiaGlkZVwiO1xuICAgICAgfVxuICAgICk7XG4gIH1cbiAgaWYgKChfYyA9IGNvbGxlY3Rpb24uZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2MuY29sbGVjdGlvbl9wYWdlX3Byb3BlcnRpZXMpIHtcbiAgICBjb25zdCBpZFRvSW5kZXggPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAoX2QgPSBjb2xsZWN0aW9uLmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmNvbGxlY3Rpb25fcGFnZV9wcm9wZXJ0aWVzLm1hcCgocCwgaSkgPT4gW1xuICAgICAgICBwLnByb3BlcnR5LFxuICAgICAgICBpXG4gICAgICBdKVxuICAgICk7XG4gICAgcHJvcGVydHlJZHMuc29ydCgoYSwgYikgPT4gaWRUb0luZGV4W2FdIC0gaWRUb0luZGV4W2JdKTtcbiAgfSBlbHNlIHtcbiAgICBwcm9wZXJ0eUlkcy5zb3J0KChhLCBiKSA9PiBzY2hlbWFzW2FdLm5hbWUubG9jYWxlQ29tcGFyZShzY2hlbWFzW2JdLm5hbWUpKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQ4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjcyhcIm5vdGlvbi1jb2xsZWN0aW9uLXJvd1wiLCBjbGFzc05hbWUpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQ4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLXJvdy1ib2R5XCIsIGNoaWxkcmVuOiBwcm9wZXJ0eUlkcy5tYXAoKHByb3BlcnR5SWQpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYXNbcHJvcGVydHlJZF07XG4gICAgaWYgKCFzY2hlbWEpIHJldHVybiBudWxsO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czEzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLXJvdy1wcm9wZXJ0eVwiLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDQ4KENvbGxlY3Rpb25Db2x1bW5UaXRsZSwgeyBzY2hlbWEgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4NDgoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24tcm93LXZhbHVlXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NDgoXG4gICAgICAgIFByb3BlcnR5LFxuICAgICAgICB7XG4gICAgICAgICAgc2NoZW1hLFxuICAgICAgICAgIGRhdGE6IChfYTIgPSBibG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyW3Byb3BlcnR5SWRdLFxuICAgICAgICAgIHByb3BlcnR5SWQsXG4gICAgICAgICAgYmxvY2ssXG4gICAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICBwYWdlSGVhZGVyXG4gICAgICAgIH1cbiAgICAgICkgfSlcbiAgICBdIH0sIHByb3BlcnR5SWQpO1xuICB9KSB9KSB9KTtcbn1cblxuLy8gc3JjL3RoaXJkLXBhcnR5L2NvbGxlY3Rpb24tdmlldy50c3hcbmltcG9ydCBSZWFjdDE5IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvdGhpcmQtcGFydHkvY29sbGVjdGlvbi12aWV3LWJvYXJkLnRzeFxuaW1wb3J0IFwibm90aW9uLXR5cGVzXCI7XG5pbXBvcnQgUmVhY3QxOCBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2ljb25zL2VtcHR5LWljb24udHN4XG5pbXBvcnQgXCJyZWFjdFwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDQ5IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBFbXB0eUljb24ocHJvcHMpIHtcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLnJlc3QgfSA9IHByb3BzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQ5KFwic3ZnXCIsIHsgY2xhc3NOYW1lLCAuLi5yZXN0LCB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiLCB3aWR0aDogXCIxNFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQ5KFwicGF0aFwiLCB7IGQ6IFwiTTExLjA5MTgsMCBDMTEuNTM4MywwIDExLjkzMDcsMC4yOTU4OTggMTIuMDUzMywwLjcyNTU4NiBMMTMuOTYxNSw3LjQwMzMyIEMxMy45ODcxLDcuNDkzMTYgMTQsNy41ODU5NCAxNCw3LjY3ODcxIEwxNCwxMyBDMTQsMTMuNTUyNyAxMy41NTIyLDE0IDEzLDE0IEwxLDE0IEMwLjQ0Nzc1NCwxNCAwLDEzLjU1MjcgMCwxMyBMMCw3LjY3ODcxIEMwLDcuNTg1OTQgMC4wMTI5Mzk1LDcuNDkzMTYgMC4wMzg0NTIxLDcuNDAzMzIgTDEuOTQ2NjYsMC43MjU1ODYgQzIuMDY5MzQsMC4yOTU4OTggMi40NjE2NywwIDIuOTA4MiwwIEwxMS4wOTE4LDAgWiBNNC4yNzI3MSwxLjUgQzMuODM3MjgsMS41IDMuNDUxNzgsMS43ODIyMyAzLjMxOTgyLDIuMTk3MjcgTDEuOTE0NTUsNi42MTMyOCBDMS43MDk0Nyw3LjI1ODc5IDIuMTkwOCw3LjkxNjk5IDIuODY3NTUsNy45MTY5OSBMNC43MDgzNyw3LjkxNjk5IEM0LjcwODM3LDguOTM2NTIgNS4xNjY2MywxMC4xNjggNywxMC4xNjggQzguODMzMzcsMTAuMTY4IDkuMjkxNjMsOC45MzY1MiA5LjI5MTYzLDcuOTE2OTkgTDExLjE0NzgsNy44OTM1NSBDMTEuODIwMSw3Ljg4NDc3IDEyLjI5MjcsNy4yMjg1MiAxMi4wODc2LDYuNTg4ODcgTDEwLjY4MSwyLjE5NTMxIEMxMC41NDg1LDEuNzgxMjUgMTAuMTYzNSwxLjUgOS43Mjg2NCwxLjUgTDQuMjcyNzEsMS41IFpcIiB9KSB9KTtcbn1cblxuLy8gc3JjL3RoaXJkLXBhcnR5L2NvbGxlY3Rpb24tY2FyZC50c3hcbmltcG9ydCBcIm5vdGlvbi10eXBlc1wiO1xuaW1wb3J0IHsgZ2V0VGV4dENvbnRlbnQgYXMgZ2V0VGV4dENvbnRlbnQzIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuaW1wb3J0IHsgRnJhZ21lbnQgYXMgRnJhZ21lbnQ2LCBqc3ggYXMganN4NTAsIGpzeHMgYXMganN4czE0IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBDb2xsZWN0aW9uQ2FyZCh7XG4gIGNvbGxlY3Rpb24sXG4gIGJsb2NrLFxuICBjb3ZlcixcbiAgY292ZXJTaXplLFxuICBjb3ZlckFzcGVjdCxcbiAgcHJvcGVydGllcyxcbiAgY2xhc3NOYW1lLFxuICAuLi5yZXN0XG59KSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9pLCBfaiwgX2ssIF9sLCBfbTtcbiAgY29uc3QgY3R4MiA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3Qge1xuICAgIGNvbXBvbmVudHMsXG4gICAgcmVjb3JkTWFwLFxuICAgIG1hcFBhZ2VVcmwsXG4gICAgbWFwSW1hZ2VVcmwsXG4gICAgaXNMaW5rQ29sbGVjdGlvblRvVXJsUHJvcGVydHlcbiAgfSA9IGN0eDI7XG4gIGxldCBjb3ZlckNvbnRlbnQgPSBudWxsO1xuICBjb25zdCB7IHBhZ2VfY292ZXJfcG9zaXRpb24gPSAwLjUsIGNhcmRfY292ZXJfcG9zaXRpb24gPSAwLjUgfSA9IGJsb2NrLmZvcm1hdCB8fCB7fTtcbiAgY29uc3QgY292ZXJQb3NpdGlvbiA9ICgxIC0gcGFnZV9jb3Zlcl9wb3NpdGlvbikgKiAxMDA7XG4gIGNvbnN0IGNhcmRDb3ZlclBvc2l0aW9uID0gKDEgLSBjYXJkX2NvdmVyX3Bvc2l0aW9uKSAqIDEwMDtcbiAgaWYgKChjb3ZlciA9PSBudWxsID8gdm9pZCAwIDogY292ZXIudHlwZSkgPT09IFwicGFnZV9jb250ZW50XCIpIHtcbiAgICBjb25zdCBjb250ZW50QmxvY2tJZCA9IChfYSA9IGJsb2NrLmNvbnRlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5maW5kKChibG9ja0lkKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgY29uc3QgYmxvY2syID0gKF9hMiA9IHJlY29yZE1hcC5ibG9ja1tibG9ja0lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi52YWx1ZTtcbiAgICAgIHJldHVybiAoYmxvY2syID09IG51bGwgPyB2b2lkIDAgOiBibG9jazIudHlwZSkgPT09IFwiaW1hZ2VcIjtcbiAgICB9KTtcbiAgICBpZiAoY29udGVudEJsb2NrSWQpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRCbG9jayA9IChfYiA9IHJlY29yZE1hcC5ibG9ja1tjb250ZW50QmxvY2tJZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYi52YWx1ZTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IChfZyA9IChfZSA9IChfZCA9IChfYyA9IGNvbnRlbnRCbG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2Muc291cmNlKSA9PSBudWxsID8gdm9pZCAwIDogX2RbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfZVswXSkgIT0gbnVsbCA/IF9nIDogKF9mID0gY29udGVudEJsb2NrLmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmRpc3BsYXlfc291cmNlO1xuICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICBjb25zdCBzcmMgPSBtYXBJbWFnZVVybChzb3VyY2UsIGNvbnRlbnRCbG9jayk7XG4gICAgICAgIGNvbnN0IGNhcHRpb24gPSAoX2ogPSAoX2kgPSAoX2ggPSBjb250ZW50QmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9oLmNhcHRpb24pID09IG51bGwgPyB2b2lkIDAgOiBfaVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9qWzBdO1xuICAgICAgICBjb3ZlckNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4NTAoXG4gICAgICAgICAgTGF6eUltYWdlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNyYyxcbiAgICAgICAgICAgIGFsdDogY2FwdGlvbiB8fCBcIm5vdGlvbiBpbWFnZVwiLFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgb2JqZWN0Rml0OiBjb3ZlckFzcGVjdCxcbiAgICAgICAgICAgICAgb2JqZWN0UG9zaXRpb246IGBjZW50ZXIgJHtjYXJkQ292ZXJQb3NpdGlvbn0lYFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFjb3ZlckNvbnRlbnQpIHtcbiAgICAgIGNvdmVyQ29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBqc3g1MChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1jYXJkLWNvdmVyLWVtcHR5XCIgfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKChjb3ZlciA9PSBudWxsID8gdm9pZCAwIDogY292ZXIudHlwZSkgPT09IFwicGFnZV9jb3ZlclwiKSB7XG4gICAgY29uc3QgeyBwYWdlX2NvdmVyIH0gPSBibG9jay5mb3JtYXQgfHwge307XG4gICAgaWYgKHBhZ2VfY292ZXIpIHtcbiAgICAgIGNvbnN0IGNvdmVyUG9zaXRpb24yID0gKDEgLSBwYWdlX2NvdmVyX3Bvc2l0aW9uKSAqIDEwMDtcbiAgICAgIGNvdmVyQ29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBqc3g1MChcbiAgICAgICAgTGF6eUltYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgc3JjOiBtYXBJbWFnZVVybChwYWdlX2NvdmVyLCBibG9jayksXG4gICAgICAgICAgYWx0OiBnZXRUZXh0Q29udGVudDMoKF9rID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9rLnRpdGxlKSxcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgb2JqZWN0Rml0OiBjb3ZlckFzcGVjdCxcbiAgICAgICAgICAgIG9iamVjdFBvc2l0aW9uOiBgY2VudGVyICR7Y292ZXJQb3NpdGlvbjJ9JWBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2UgaWYgKChjb3ZlciA9PSBudWxsID8gdm9pZCAwIDogY292ZXIudHlwZSkgPT09IFwicHJvcGVydHlcIikge1xuICAgIGNvbnN0IHsgcHJvcGVydHkgfSA9IGNvdmVyO1xuICAgIGlmICghcHJvcGVydHkpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHNjaGVtYSA9IGNvbGxlY3Rpb24uc2NoZW1hW3Byb3BlcnR5XTtcbiAgICBjb25zdCBkYXRhID0gKF9sID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9sW3Byb3BlcnR5XTtcbiAgICBpZiAoc2NoZW1hICYmIGRhdGEpIHtcbiAgICAgIGlmIChzY2hlbWEudHlwZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgY29uc3QgZmlsZXMgPSBkYXRhLmZpbHRlcigodikgPT4gdi5sZW5ndGggPT09IDIpLm1hcCgoZikgPT4gZi5mbGF0KCkuZmxhdCgpKTtcbiAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVzWzBdO1xuICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgIGNvdmVyQ29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBqc3g1MChcInNwYW5cIiwgeyBjbGFzc05hbWU6IGBub3Rpb24tcHJvcGVydHktJHtzY2hlbWEudHlwZX1gLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDUwKFxuICAgICAgICAgICAgTGF6eUltYWdlLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBhbHQ6IGZpbGVbMF0sXG4gICAgICAgICAgICAgIHNyYzogbWFwSW1hZ2VVcmwoZmlsZVsyXSwgYmxvY2spLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIG9iamVjdEZpdDogY292ZXJBc3BlY3QsXG4gICAgICAgICAgICAgICAgb2JqZWN0UG9zaXRpb246IGBjZW50ZXIgJHtjb3ZlclBvc2l0aW9ufSVgXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3ZlckNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4NTAoUHJvcGVydHksIHsgcHJvcGVydHlJZDogcHJvcGVydHksIHNjaGVtYSwgZGF0YSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IGxpbmtQcm9wZXJ0aWVzID0gW107XG4gIGlmIChpc0xpbmtDb2xsZWN0aW9uVG9VcmxQcm9wZXJ0eSAmJiBwcm9wZXJ0aWVzKSB7XG4gICAgbGlua1Byb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmZpbHRlcihcbiAgICAgIChwKSA9PiBwLnZpc2libGUgJiYgcC5wcm9wZXJ0eSAhPT0gXCJ0aXRsZVwiICYmIGNvbGxlY3Rpb24uc2NoZW1hW3AucHJvcGVydHldXG4gICAgKS5maWx0ZXIoKHApID0+IHtcbiAgICAgIGlmICghYmxvY2sucHJvcGVydGllcykgcmV0dXJuIGZhbHNlO1xuICAgICAgY29uc3Qgc2NoZW1hID0gY29sbGVjdGlvbi5zY2hlbWFbcC5wcm9wZXJ0eV07XG4gICAgICByZXR1cm4gKHNjaGVtYSA9PSBudWxsID8gdm9pZCAwIDogc2NoZW1hLnR5cGUpID09PSBcInVybFwiO1xuICAgIH0pLm1hcCgocCkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIHJldHVybiAoX2EyID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMltwLnByb3BlcnR5XTtcbiAgICB9KS5maWx0ZXIoKHApID0+IHAgPT0gbnVsbCA/IHZvaWQgMCA6IHBbMF0pO1xuICB9XG4gIGxldCB1cmwgPSBudWxsO1xuICBpZiAobGlua1Byb3BlcnRpZXMgJiYgbGlua1Byb3BlcnRpZXMubGVuZ3RoID4gMCAmJiBsaW5rUHJvcGVydGllc1swXS5sZW5ndGggPiAwICYmIGxpbmtQcm9wZXJ0aWVzWzBdWzBdLmxlbmd0aCA+IDApIHtcbiAgICB1cmwgPSBsaW5rUHJvcGVydGllc1swXVswXVswXTtcbiAgfVxuICBjb25zdCBpbm5lckNhcmQgPSAvKiBAX19QVVJFX18gKi8ganN4czE0KEZyYWdtZW50NiwgeyBjaGlsZHJlbjogW1xuICAgIChjb3ZlckNvbnRlbnQgfHwgKGNvdmVyID09IG51bGwgPyB2b2lkIDAgOiBjb3Zlci50eXBlKSAhPT0gXCJub25lXCIpICYmIC8qIEBfX1BVUkVfXyAqLyBqc3g1MChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1jYXJkLWNvdmVyXCIsIGNoaWxkcmVuOiBjb3ZlckNvbnRlbnQgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHMxNChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1jYXJkLWJvZHlcIiwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g1MChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1jYXJkLXByb3BlcnR5XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NTAoXG4gICAgICAgIFByb3BlcnR5LFxuICAgICAgICB7XG4gICAgICAgICAgc2NoZW1hOiBjb2xsZWN0aW9uLnNjaGVtYS50aXRsZSxcbiAgICAgICAgICBkYXRhOiAoX20gPSBibG9jayA9PSBudWxsID8gdm9pZCAwIDogYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9tLnRpdGxlLFxuICAgICAgICAgIGJsb2NrLFxuICAgICAgICAgIGNvbGxlY3Rpb25cbiAgICAgICAgfVxuICAgICAgKSB9KSxcbiAgICAgIHByb3BlcnRpZXMgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3BlcnRpZXMuZmlsdGVyKFxuICAgICAgICAocCkgPT4gcC52aXNpYmxlICYmIHAucHJvcGVydHkgIT09IFwidGl0bGVcIiAmJiBjb2xsZWN0aW9uLnNjaGVtYVtwLnByb3BlcnR5XVxuICAgICAgKS5tYXAoKHApID0+IHtcbiAgICAgICAgaWYgKCFibG9jay5wcm9wZXJ0aWVzIHx8ICFwLnByb3BlcnR5KSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3Qgc2NoZW1hID0gY29sbGVjdGlvbi5zY2hlbWFbcC5wcm9wZXJ0eV07XG4gICAgICAgIGNvbnN0IGRhdGEgPSBibG9jay5wcm9wZXJ0aWVzW3AucHJvcGVydHldO1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDUwKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLWNhcmQtcHJvcGVydHlcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g1MChcbiAgICAgICAgICBQcm9wZXJ0eSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgYmxvY2ssXG4gICAgICAgICAgICBjb2xsZWN0aW9uLFxuICAgICAgICAgICAgaW5saW5lOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICApIH0sIHAucHJvcGVydHkpO1xuICAgICAgfSlcbiAgICBdIH0pXG4gIF0gfSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NTAoXG4gICAgTm90aW9uQ29udGV4dFByb3ZpZGVyLFxuICAgIHtcbiAgICAgIC4uLmN0eDIsXG4gICAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIC4uLmN0eDIuY29tcG9uZW50cyxcbiAgICAgICAgLy8gRGlzYWJsZSA8YT4gdGFicyBpbiBhbGwgY2hpbGQgY29tcG9uZW50cyBzbyB3ZSBkb24ndCBjcmVhdGUgaW52YWxpZCBET01cbiAgICAgICAgLy8gdHJlZXMgd2l0aCBzdGFja2VkIDxhPiB0YWdzLlxuICAgICAgICBMaW5rOiAocHJvcHMpID0+IHtcbiAgICAgICAgICB2YXIgX2EyLCBfYjIsIF9jMjtcbiAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDUwKFwiZm9ybVwiLCB7IGFjdGlvbjogcHJvcHMuaHJlZiwgdGFyZ2V0OiBcIl9ibGFua1wiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDUwKFxuICAgICAgICAgICAgXCJpbnB1dFwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcInN1Ym1pdFwiLFxuICAgICAgICAgICAgICB2YWx1ZTogKF9jMiA9IChfYjIgPSAoX2EyID0gcHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3BzLmNoaWxkcmVuKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnByb3BzKSA9PSBudWxsID8gdm9pZCAwIDogX2IyLmNoaWxkcmVuKSAhPSBudWxsID8gX2MyIDogcHJvcHMuaHJlZixcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5lc3RlZC1mb3JtLWxpbmsgbm90aW9uLWxpbmtcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICkgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFBhZ2VMaW5rOiBkdW1teUxpbmtcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogaXNMaW5rQ29sbGVjdGlvblRvVXJsUHJvcGVydHkgJiYgdXJsID8gLyogQF9fUFVSRV9fICovIGpzeDUwKFxuICAgICAgICBjb21wb25lbnRzLkxpbmssXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNzKFxuICAgICAgICAgICAgXCJub3Rpb24tY29sbGVjdGlvbi1jYXJkXCIsXG4gICAgICAgICAgICBgbm90aW9uLWNvbGxlY3Rpb24tY2FyZC1zaXplLSR7Y292ZXJTaXplfWAsXG4gICAgICAgICAgICBjbGFzc05hbWVcbiAgICAgICAgICApLFxuICAgICAgICAgIGhyZWY6IHVybCxcbiAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgIGNoaWxkcmVuOiBpbm5lckNhcmRcbiAgICAgICAgfVxuICAgICAgKSA6IC8qIEBfX1BVUkVfXyAqLyBqc3g1MChcbiAgICAgICAgY29tcG9uZW50cy5QYWdlTGluayxcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogY3MoXG4gICAgICAgICAgICBcIm5vdGlvbi1jb2xsZWN0aW9uLWNhcmRcIixcbiAgICAgICAgICAgIGBub3Rpb24tY29sbGVjdGlvbi1jYXJkLXNpemUtJHtjb3ZlclNpemV9YCxcbiAgICAgICAgICAgIGNsYXNzTmFtZVxuICAgICAgICAgICksXG4gICAgICAgICAgaHJlZjogbWFwUGFnZVVybChibG9jay5pZCksXG4gICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICBjaGlsZHJlbjogaW5uZXJDYXJkXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLWdyb3VwLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDUxLCBqc3hzIGFzIGpzeHMxNSB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gQ29sbGVjdGlvbkdyb3VwKHtcbiAgY29sbGVjdGlvblZpZXdDb21wb25lbnQ6IENvbGxlY3Rpb25WaWV3Q29tcG9uZW50LFxuICBjb2xsZWN0aW9uLFxuICBjb2xsZWN0aW9uR3JvdXAsXG4gIHNjaGVtYSxcbiAgdmFsdWUsXG4gIGhpZGRlbixcbiAgc3VtbWFyeVByb3BzLFxuICBkZXRhaWxzUHJvcHMsXG4gIC4uLnJlc3Rcbn0pIHtcbiAgaWYgKGhpZGRlbikgcmV0dXJuIG51bGw7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czE1KFwiZGV0YWlsc1wiLCB7IG9wZW46IHRydWUsIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1ncm91cFwiLCAuLi5kZXRhaWxzUHJvcHMsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDUxKFwic3VtbWFyeVwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1ncm91cC10aXRsZVwiLCAuLi5zdW1tYXJ5UHJvcHMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4czE1KFwiZGl2XCIsIHsgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g1MShQcm9wZXJ0eSwgeyBzY2hlbWEsIGRhdGE6IFtbdmFsdWVdXSwgY29sbGVjdGlvbiB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g1MShcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWJvYXJkLXRoLWNvdW50XCIsIGNoaWxkcmVuOiBjb2xsZWN0aW9uR3JvdXAgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25Hcm91cC50b3RhbCB9KVxuICAgIF0gfSkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDUxKFxuICAgICAgQ29sbGVjdGlvblZpZXdDb21wb25lbnQsXG4gICAgICB7XG4gICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgIGNvbGxlY3Rpb25Hcm91cCxcbiAgICAgICAgLi4ucmVzdFxuICAgICAgfVxuICAgIClcbiAgXSB9KTtcbn1cblxuLy8gc3JjL3RoaXJkLXBhcnR5L2NvbGxlY3Rpb24tdXRpbHMudHNcbmZ1bmN0aW9uIGdldENvbGxlY3Rpb25Hcm91cHMoY29sbGVjdGlvbiwgY29sbGVjdGlvblZpZXcsIGNvbGxlY3Rpb25EYXRhLCAuLi5yZXN0KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgZWxlbXMgPSAoKF9hID0gY29sbGVjdGlvblZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25WaWV3LmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvbGxlY3Rpb25fZ3JvdXBzKSB8fCBbXTtcbiAgcmV0dXJuIGVsZW1zLm1hcCgoeyBwcm9wZXJ0eSwgaGlkZGVuLCB2YWx1ZTogeyB2YWx1ZSwgdHlwZSB9IH0pID0+IHtcbiAgICB2YXIgX2EyLCBfYjtcbiAgICBjb25zdCBpc1VuY2F0ZWdvcml6ZWRWYWx1ZSA9IHZhbHVlID09PSB2b2lkIDA7XG4gICAgY29uc3QgaXNEYXRlVmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUucmFuZ2U7XG4gICAgY29uc3QgcXVlcnlMYWJlbCA9IGlzVW5jYXRlZ29yaXplZFZhbHVlID8gXCJ1bmNhdGVnb3JpemVkXCIgOiBpc0RhdGVWYWx1ZSA/ICgoX2EyID0gdmFsdWUucmFuZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuc3RhcnRfZGF0ZSkgfHwgKChfYiA9IHZhbHVlLnJhbmdlKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZW5kX2RhdGUpIDogKHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZS52YWx1ZSkgfHwgdmFsdWU7XG4gICAgY29uc3QgY29sbGVjdGlvbkdyb3VwID0gY29sbGVjdGlvbkRhdGFbYHJlc3VsdHM6JHt0eXBlfToke3F1ZXJ5TGFiZWx9YF07XG4gICAgbGV0IHF1ZXJ5VmFsdWUgPSAhaXNVbmNhdGVnb3JpemVkVmFsdWUgJiYgKGlzRGF0ZVZhbHVlIHx8ICh2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUudmFsdWUpIHx8IHZhbHVlKTtcbiAgICBsZXQgc2NoZW1hID0gY29sbGVjdGlvbi5zY2hlbWFbcHJvcGVydHldO1xuICAgIGlmICh0eXBlID09PSBcImNoZWNrYm94XCIgJiYgdmFsdWUpIHtcbiAgICAgIHF1ZXJ5VmFsdWUgPSBcIlllc1wiO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlVmFsdWUpIHtcbiAgICAgIHNjaGVtYSA9IHtcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIG5hbWU6IFwidGV4dFwiXG4gICAgICB9O1xuICAgICAgcXVlcnlWYWx1ZSA9IGZvcm1hdChuZXcgRGF0ZShxdWVyeUxhYmVsKSwgXCJNTU0gZCwgWVlZIGhoOm1tIGFhXCIpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgY29sbGVjdGlvbkdyb3VwLFxuICAgICAgc2NoZW1hLFxuICAgICAgdmFsdWU6IHF1ZXJ5VmFsdWUgfHwgXCJObyBkZXNjcmlwdGlvblwiLFxuICAgICAgaGlkZGVuLFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGNvbGxlY3Rpb25WaWV3LFxuICAgICAgY29sbGVjdGlvbkRhdGEsXG4gICAgICBibG9ja0lkczogY29sbGVjdGlvbkdyb3VwID09IG51bGwgPyB2b2lkIDAgOiBjb2xsZWN0aW9uR3JvdXAuYmxvY2tJZHMsXG4gICAgICAuLi5yZXN0XG4gICAgfTtcbiAgfSk7XG59XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXZpZXctYm9hcmQudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4NTIsIGpzeHMgYXMganN4czE2IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBDb2xsZWN0aW9uVmlld0JvYXJkKHtcbiAgY29sbGVjdGlvbixcbiAgY29sbGVjdGlvblZpZXcsXG4gIGNvbGxlY3Rpb25EYXRhLFxuICBwYWRkaW5nXG59KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgaXNHcm91cGVkQ29sbGVjdGlvbiA9IChfYSA9IGNvbGxlY3Rpb25WaWV3ID09IG51bGwgPyB2b2lkIDAgOiBjb2xsZWN0aW9uVmlldy5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jb2xsZWN0aW9uX2dyb3VwX2J5O1xuICBpZiAoaXNHcm91cGVkQ29sbGVjdGlvbikge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25Hcm91cHMgPSBnZXRDb2xsZWN0aW9uR3JvdXBzKFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGNvbGxlY3Rpb25WaWV3LFxuICAgICAgY29sbGVjdGlvbkRhdGEsXG4gICAgICBwYWRkaW5nXG4gICAgKTtcbiAgICByZXR1cm4gY29sbGVjdGlvbkdyb3Vwcy5tYXAoKGdyb3VwLCBpbmRleCkgPT4gLyogQF9fUFVSRV9fICovIGpzeDUyKFxuICAgICAgQ29sbGVjdGlvbkdyb3VwLFxuICAgICAge1xuICAgICAgICAuLi5ncm91cCxcbiAgICAgICAgc3VtbWFyeVByb3BzOiB7XG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBwYWRkaW5nXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb2xsZWN0aW9uVmlld0NvbXBvbmVudDogKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8ganN4NTIoQm9hcmQsIHsgcGFkZGluZywgLi4ucHJvcHMgfSlcbiAgICAgIH0sXG4gICAgICBpbmRleFxuICAgICkpO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NTIoXG4gICAgQm9hcmQsXG4gICAge1xuICAgICAgcGFkZGluZyxcbiAgICAgIGNvbGxlY3Rpb25WaWV3LFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGNvbGxlY3Rpb25EYXRhXG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gQm9hcmQoe1xuICBjb2xsZWN0aW9uVmlldyxcbiAgY29sbGVjdGlvbkRhdGEsXG4gIGNvbGxlY3Rpb24sXG4gIHBhZGRpbmdcbn0pIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICBjb25zdCB7IHJlY29yZE1hcCB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBjb25zdCB7XG4gICAgYm9hcmRfY292ZXIgPSB7IHR5cGU6IFwibm9uZVwiIH0sXG4gICAgYm9hcmRfY292ZXJfc2l6ZSA9IFwibWVkaXVtXCIsXG4gICAgYm9hcmRfY292ZXJfYXNwZWN0ID0gXCJjb3ZlclwiXG4gIH0gPSAoY29sbGVjdGlvblZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25WaWV3LmZvcm1hdCkgfHwge307XG4gIGNvbnN0IGJvYXJkR3JvdXBzID0gKChfYSA9IGNvbGxlY3Rpb25WaWV3ID09IG51bGwgPyB2b2lkIDAgOiBjb2xsZWN0aW9uVmlldy5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5ib2FyZF9jb2x1bW5zKSB8fCAoKF9iID0gY29sbGVjdGlvblZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25WaWV3LmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmJvYXJkX2dyb3VwczIpIHx8IFtdO1xuICBjb25zdCBib2FyZEdyb3VwQnkgPSAoX2QgPSAoX2MgPSBjb2xsZWN0aW9uVmlldyA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvblZpZXcuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2MuYm9hcmRfY29sdW1uc19ieSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmdyb3VwQnk7XG4gIGNvbnN0IGJvYXJkU3R5bGUgPSBSZWFjdDE4LnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIHBhZGRpbmdMZWZ0OiBwYWRkaW5nXG4gICAgfSksXG4gICAgW3BhZGRpbmddXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NTIoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWJvYXJkXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4czE2KFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBjcyhcbiAgICAgICAgXCJub3Rpb24tYm9hcmQtdmlld1wiLFxuICAgICAgICBgbm90aW9uLWJvYXJkLXZpZXctc2l6ZS0ke2JvYXJkX2NvdmVyX3NpemV9YFxuICAgICAgKSxcbiAgICAgIHN0eWxlOiBib2FyZFN0eWxlLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDUyKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1ib2FyZC1oZWFkZXJcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g1MihcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtaGVhZGVyLWlubmVyXCIsIGNoaWxkcmVuOiBib2FyZEdyb3Vwcy5tYXAoKHAsIGluZGV4KSA9PiB7XG4gICAgICAgICAgdmFyIF9hMiwgX2IyLCBfYzIsIF9kMjtcbiAgICAgICAgICBpZiAoISgoX2EyID0gY29sbGVjdGlvbkRhdGEuYm9hcmRfY29sdW1ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5yZXN1bHRzKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGdyb3VwID0gY29sbGVjdGlvbkRhdGEuYm9hcmRfY29sdW1ucy5yZXN1bHRzW2luZGV4XTtcbiAgICAgICAgICBjb25zdCBzY2hlbWEgPSBjb2xsZWN0aW9uLnNjaGVtYVtwLnByb3BlcnR5XTtcbiAgICAgICAgICBpZiAoIWdyb3VwIHx8ICFzY2hlbWEgfHwgcC5oaWRkZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDUyKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1ib2FyZC10aFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMxNihcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtdGgtYm9keVwiLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgKChfYjIgPSBncm91cC52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMi52YWx1ZSkgPyAvKiBAX19QVVJFX18gKi8ganN4NTIoXG4gICAgICAgICAgICAgIFByb3BlcnR5LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2NoZW1hLFxuICAgICAgICAgICAgICAgIGRhdGE6IFtcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgKChfYzIgPSBncm91cC52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jMi52YWx1ZVtib2FyZEdyb3VwQnldKSB8fCAoKF9kMiA9IGdyb3VwLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2QyLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApIDogLyogQF9fUFVSRV9fICovIGpzeHMxNihcInNwYW5cIiwgeyBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4NTIoRW1wdHlJY29uLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtdGgtZW1wdHlcIiB9KSxcbiAgICAgICAgICAgICAgKHNjaGVtYSA9PSBudWxsID8gdm9pZCAwIDogc2NoZW1hLm5hbWUpID8gYE5vICR7c2NoZW1hLm5hbWV9YCA6IFwiTm8gU2VsZWN0XCJcbiAgICAgICAgICAgIF0gfSksXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4NTIoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1ib2FyZC10aC1jb3VudFwiLCBjaGlsZHJlbjogZ3JvdXAudG90YWwgfSlcbiAgICAgICAgICBdIH0pIH0sIGluZGV4KTtcbiAgICAgICAgfSkgfSkgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g1MihcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtaGVhZGVyLXBsYWNlaG9sZGVyXCIgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g1MihcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtYm9keVwiLCBjaGlsZHJlbjogYm9hcmRHcm91cHMubWFwKChwLCBpbmRleCkgPT4ge1xuICAgICAgICAgIHZhciBfYTIsIF9iMiwgX2MyLCBfZDIsIF9lO1xuICAgICAgICAgIGNvbnN0IGJvYXJkUmVzdWx0cyA9IChfYTIgPSBjb2xsZWN0aW9uRGF0YS5ib2FyZF9jb2x1bW5zKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnJlc3VsdHM7XG4gICAgICAgICAgaWYgKCFib2FyZFJlc3VsdHMpIHJldHVybiBudWxsO1xuICAgICAgICAgIGlmICghKChfYjIgPSBwID09IG51bGwgPyB2b2lkIDAgOiBwLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2IyLnR5cGUpKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICBjb25zdCBzY2hlbWEgPSBjb2xsZWN0aW9uLnNjaGVtYVtwLnByb3BlcnR5XTtcbiAgICAgICAgICBjb25zdCBncm91cCA9IGNvbGxlY3Rpb25EYXRhW2ByZXN1bHRzOiR7KF9jMiA9IHAgPT0gbnVsbCA/IHZvaWQgMCA6IHAudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYzIudHlwZX06JHsoKF9kMiA9IHAgPT0gbnVsbCA/IHZvaWQgMCA6IHAudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfZDIudmFsdWUpIHx8IFwidW5jYXRlZ29yaXplZFwifWBdO1xuICAgICAgICAgIGlmICghZ3JvdXAgfHwgIXNjaGVtYSB8fCBwLmhpZGRlbikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NTIoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWJvYXJkLWdyb3VwXCIsIGNoaWxkcmVuOiAoX2UgPSBncm91cC5ibG9ja0lkcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLm1hcCgoYmxvY2tJZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hMywgX2IzO1xuICAgICAgICAgICAgY29uc3QgYmxvY2sgPSAoX2EzID0gcmVjb3JkTWFwLmJsb2NrW2Jsb2NrSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnZhbHVlO1xuICAgICAgICAgICAgaWYgKCFibG9jaykgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDUyKFxuICAgICAgICAgICAgICBDb2xsZWN0aW9uQ2FyZCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtZ3JvdXAtY2FyZFwiLFxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgYmxvY2ssXG4gICAgICAgICAgICAgICAgY292ZXI6IGJvYXJkX2NvdmVyLFxuICAgICAgICAgICAgICAgIGNvdmVyU2l6ZTogYm9hcmRfY292ZXJfc2l6ZSxcbiAgICAgICAgICAgICAgICBjb3ZlckFzcGVjdDogYm9hcmRfY292ZXJfYXNwZWN0LFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IChfYjMgPSBjb2xsZWN0aW9uVmlldy5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfYjMuYm9hcmRfcHJvcGVydGllc1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBibG9ja0lkXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pIH0sIGluZGV4KTtcbiAgICAgICAgfSkgfSlcbiAgICAgIF1cbiAgICB9XG4gICkgfSk7XG59XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXZpZXctZ2FsbGVyeS50c3hcbmltcG9ydCBcIm5vdGlvbi10eXBlc1wiO1xuaW1wb3J0IHsganN4IGFzIGpzeDUzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZGVmYXVsdEJsb2NrSWRzID0gW107XG5mdW5jdGlvbiBDb2xsZWN0aW9uVmlld0dhbGxlcnkoe1xuICBjb2xsZWN0aW9uLFxuICBjb2xsZWN0aW9uVmlldyxcbiAgY29sbGVjdGlvbkRhdGFcbn0pIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgY29uc3QgaXNHcm91cGVkQ29sbGVjdGlvbiA9IChfYSA9IGNvbGxlY3Rpb25WaWV3ID09IG51bGwgPyB2b2lkIDAgOiBjb2xsZWN0aW9uVmlldy5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jb2xsZWN0aW9uX2dyb3VwX2J5O1xuICBpZiAoaXNHcm91cGVkQ29sbGVjdGlvbikge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25Hcm91cHMgPSBnZXRDb2xsZWN0aW9uR3JvdXBzKFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGNvbGxlY3Rpb25WaWV3LFxuICAgICAgY29sbGVjdGlvbkRhdGFcbiAgICApO1xuICAgIHJldHVybiBjb2xsZWN0aW9uR3JvdXBzLm1hcCgoZ3JvdXAsIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8ganN4NTMoXG4gICAgICBDb2xsZWN0aW9uR3JvdXAsXG4gICAgICB7XG4gICAgICAgIC4uLmdyb3VwLFxuICAgICAgICBjb2xsZWN0aW9uVmlld0NvbXBvbmVudDogR2FsbGVyeVxuICAgICAgfSxcbiAgICAgIGluZGV4XG4gICAgKSk7XG4gIH1cbiAgY29uc3QgYmxvY2tJZHMgPSAoKF9lID0gKF9kID0gKF9iID0gY29sbGVjdGlvbkRhdGEuY29sbGVjdGlvbl9ncm91cF9yZXN1bHRzKSA9PSBudWxsID8gdm9pZCAwIDogX2IuYmxvY2tJZHMpICE9IG51bGwgPyBfZCA6IChfYyA9IGNvbGxlY3Rpb25EYXRhW1wicmVzdWx0czpyZWxhdGlvbjp1bmNhdGVnb3JpemVkXCJdKSA9PSBudWxsID8gdm9pZCAwIDogX2MuYmxvY2tJZHMpICE9IG51bGwgPyBfZSA6IGNvbGxlY3Rpb25EYXRhLmJsb2NrSWRzKSB8fCBkZWZhdWx0QmxvY2tJZHM7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NTMoXG4gICAgR2FsbGVyeSxcbiAgICB7XG4gICAgICBjb2xsZWN0aW9uVmlldyxcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBibG9ja0lkc1xuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIEdhbGxlcnkoe1xuICBibG9ja0lkcyxcbiAgY29sbGVjdGlvblZpZXcsXG4gIGNvbGxlY3Rpb25cbn0pIHtcbiAgY29uc3QgeyByZWNvcmRNYXAgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3Qge1xuICAgIGdhbGxlcnlfY292ZXIgPSB7IHR5cGU6IFwibm9uZVwiIH0sXG4gICAgZ2FsbGVyeV9jb3Zlcl9zaXplID0gXCJtZWRpdW1cIixcbiAgICBnYWxsZXJ5X2NvdmVyX2FzcGVjdCA9IFwiY292ZXJcIlxuICB9ID0gY29sbGVjdGlvblZpZXcuZm9ybWF0IHx8IHt9O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDUzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1nYWxsZXJ5XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NTMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWdhbGxlcnktdmlld1wiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDUzKFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBjcyhcbiAgICAgICAgXCJub3Rpb24tZ2FsbGVyeS1ncmlkXCIsXG4gICAgICAgIGBub3Rpb24tZ2FsbGVyeS1ncmlkLXNpemUtJHtnYWxsZXJ5X2NvdmVyX3NpemV9YFxuICAgICAgKSxcbiAgICAgIGNoaWxkcmVuOiBibG9ja0lkcyA9PSBudWxsID8gdm9pZCAwIDogYmxvY2tJZHMubWFwKChibG9ja0lkKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGJsb2NrID0gKF9hID0gcmVjb3JkTWFwLmJsb2NrW2Jsb2NrSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWU7XG4gICAgICAgIGlmICghYmxvY2spIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDUzKFxuICAgICAgICAgIENvbGxlY3Rpb25DYXJkLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICBibG9jayxcbiAgICAgICAgICAgIGNvdmVyOiBnYWxsZXJ5X2NvdmVyLFxuICAgICAgICAgICAgY292ZXJTaXplOiBnYWxsZXJ5X2NvdmVyX3NpemUsXG4gICAgICAgICAgICBjb3ZlckFzcGVjdDogZ2FsbGVyeV9jb3Zlcl9hc3BlY3QsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiAoX2IgPSBjb2xsZWN0aW9uVmlldy5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfYi5nYWxsZXJ5X3Byb3BlcnRpZXNcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJsb2NrSWRcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgfVxuICApIH0pIH0pO1xufVxuXG4vLyBzcmMvdGhpcmQtcGFydHkvY29sbGVjdGlvbi12aWV3LWxpc3QudHN4XG5pbXBvcnQgXCJub3Rpb24tdHlwZXNcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3g1NCwganN4cyBhcyBqc3hzMTcgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBkZWZhdWx0QmxvY2tJZHMyID0gW107XG5mdW5jdGlvbiBDb2xsZWN0aW9uVmlld0xpc3Qoe1xuICBjb2xsZWN0aW9uLFxuICBjb2xsZWN0aW9uVmlldyxcbiAgY29sbGVjdGlvbkRhdGFcbn0pIHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIGNvbnN0IGlzR3JvdXBlZENvbGxlY3Rpb24gPSAoX2EgPSBjb2xsZWN0aW9uVmlldyA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvblZpZXcuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuY29sbGVjdGlvbl9ncm91cF9ieTtcbiAgaWYgKGlzR3JvdXBlZENvbGxlY3Rpb24pIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uR3JvdXBzID0gZ2V0Q29sbGVjdGlvbkdyb3VwcyhcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBjb2xsZWN0aW9uVmlldyxcbiAgICAgIGNvbGxlY3Rpb25EYXRhXG4gICAgKTtcbiAgICByZXR1cm4gY29sbGVjdGlvbkdyb3Vwcy5tYXAoKGdyb3VwLCBrZXkpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3g1NChDb2xsZWN0aW9uR3JvdXAsIHsgLi4uZ3JvdXAsIGNvbGxlY3Rpb25WaWV3Q29tcG9uZW50OiBMaXN0IH0sIGtleSkpO1xuICB9XG4gIGNvbnN0IGJsb2NrSWRzID0gKChfYyA9IChfYiA9IGNvbGxlY3Rpb25EYXRhLmNvbGxlY3Rpb25fZ3JvdXBfcmVzdWx0cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmJsb2NrSWRzKSAhPSBudWxsID8gX2MgOiBjb2xsZWN0aW9uRGF0YS5ibG9ja0lkcykgfHwgZGVmYXVsdEJsb2NrSWRzMjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g1NChcbiAgICBMaXN0LFxuICAgIHtcbiAgICAgIGJsb2NrSWRzLFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGNvbGxlY3Rpb25WaWV3XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gTGlzdCh7XG4gIGJsb2NrSWRzID0gW10sXG4gIGNvbGxlY3Rpb24sXG4gIGNvbGxlY3Rpb25WaWV3XG59KSB7XG4gIGNvbnN0IHsgY29tcG9uZW50cywgcmVjb3JkTWFwLCBtYXBQYWdlVXJsIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NTQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWxpc3QtY29sbGVjdGlvblwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDU0KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1saXN0LXZpZXdcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g1NChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tbGlzdC1ib2R5XCIsIGNoaWxkcmVuOiBibG9ja0lkcyA9PSBudWxsID8gdm9pZCAwIDogYmxvY2tJZHMubWFwKChibG9ja0lkKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IGJsb2NrID0gKF9hID0gcmVjb3JkTWFwLmJsb2NrW2Jsb2NrSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWU7XG4gICAgaWYgKCFibG9jaykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgdGl0bGVTY2hlbWEgPSBjb2xsZWN0aW9uLnNjaGVtYS50aXRsZTtcbiAgICBjb25zdCB0aXRsZURhdGEgPSAoX2IgPSBibG9jayA9PSBudWxsID8gdm9pZCAwIDogYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnRpdGxlO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czE3KFxuICAgICAgY29tcG9uZW50cy5QYWdlTGluayxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1saXN0LWl0ZW0gbm90aW9uLXBhZ2UtbGlua1wiLFxuICAgICAgICBocmVmOiBtYXBQYWdlVXJsKGJsb2NrLmlkKSxcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czE3KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi1saXN0LWl0ZW0tdGl0bGVcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g1NChcbiAgICAgICAgICAgICAgUGFnZUljb24sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBibG9jayxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLXBhZ2UtdGl0bGUtaWNvblwiLFxuICAgICAgICAgICAgICAgIGhpZGVEZWZhdWx0SWNvbjogdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDU0KFxuICAgICAgICAgICAgICBQcm9wZXJ0eSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNjaGVtYTogdGl0bGVTY2hlbWEsXG4gICAgICAgICAgICAgICAgZGF0YTogdGl0bGVEYXRhLFxuICAgICAgICAgICAgICAgIGJsb2NrLFxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgbGlua1RvVGl0bGVQYWdlOiBmYWxzZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgXSB9KSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4NTQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWxpc3QtaXRlbS1ib2R5XCIsIGNoaWxkcmVuOiAoX2QgPSAoX2MgPSBjb2xsZWN0aW9uVmlldy5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfYy5saXN0X3Byb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfZC5maWx0ZXIoKHApID0+IHAudmlzaWJsZSkubWFwKChwKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EyO1xuICAgICAgICAgICAgY29uc3Qgc2NoZW1hID0gY29sbGVjdGlvbi5zY2hlbWFbcC5wcm9wZXJ0eV07XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYmxvY2sgJiYgKChfYTIgPSBibG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyW3AucHJvcGVydHldKTtcbiAgICAgICAgICAgIGlmICghc2NoZW1hKSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g1NChcbiAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGlzdC1pdGVtLXByb3BlcnR5XCIsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g1NChcbiAgICAgICAgICAgICAgICAgIFByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLFxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBwLnByb3BlcnR5XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pIH0pXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICBibG9ja0lkXG4gICAgKTtcbiAgfSkgfSkgfSkgfSk7XG59XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9yZWFjdC11c2UudHNcbmltcG9ydCB7XG4gIHVzZUNhbGxiYWNrLFxuICB1c2VFZmZlY3QsXG4gIHVzZUxheW91dEVmZmVjdCxcbiAgdXNlUmVmLFxuICB1c2VTdGF0ZVxufSBmcm9tIFwicmVhY3RcIjtcbnZhciBub29wID0gKCkgPT4ge1xufTtcbmZ1bmN0aW9uIG9uKG9iaiwgLi4uYXJncykge1xuICBpZiAob2JqICYmIG9iai5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAuLi5hcmdzXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gb2ZmKG9iaiwgLi4uYXJncykge1xuICBpZiAob2JqICYmIG9iai5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAuLi5hcmdzXG4gICAgKTtcbiAgfVxufVxudmFyIGlzQnJvd3NlcjIgPSAhIWdsb2JhbFRoaXMud2luZG93O1xudmFyIHVzZVdpbmRvd1NpemUgPSAoaW5pdGlhbFdpZHRoID0gSW5maW5pdHksIGluaXRpYWxIZWlnaHQgPSBJbmZpbml0eSkgPT4ge1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVJhZlN0YXRlKHtcbiAgICB3aWR0aDogaXNCcm93c2VyMiA/IGdsb2JhbFRoaXMud2luZG93LmlubmVyV2lkdGggOiBpbml0aWFsV2lkdGgsXG4gICAgaGVpZ2h0OiBpc0Jyb3dzZXIyID8gZ2xvYmFsVGhpcy53aW5kb3cuaW5uZXJIZWlnaHQgOiBpbml0aWFsSGVpZ2h0XG4gIH0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0Jyb3dzZXIyKSB7XG4gICAgICBjb25zdCBoYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgd2lkdGg6IGdsb2JhbFRoaXMud2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBnbG9iYWxUaGlzLndpbmRvdy5pbm5lckhlaWdodFxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBvbihnbG9iYWxUaGlzLndpbmRvdywgXCJyZXNpemVcIiwgaGFuZGxlcik7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBvZmYoZ2xvYmFsVGhpcy53aW5kb3csIFwicmVzaXplXCIsIGhhbmRsZXIpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHN0YXRlO1xufTtcbnZhciB1c2VFZmZlY3RPbmNlID0gKGVmZmVjdCkgPT4ge1xuICB1c2VFZmZlY3QoZWZmZWN0LCBbXSk7XG59O1xudmFyIHVzZVVubW91bnQgPSAoZm4pID0+IHtcbiAgY29uc3QgZm5SZWYgPSB1c2VSZWYoZm4pO1xuICBmblJlZi5jdXJyZW50ID0gZm47XG4gIHVzZUVmZmVjdE9uY2UoKCkgPT4gKCkgPT4gZm5SZWYuY3VycmVudCgpKTtcbn07XG52YXIgdXNlUmFmU3RhdGUgPSAoaW5pdGlhbFN0YXRlKSA9PiB7XG4gIGNvbnN0IGZyYW1lID0gdXNlUmVmKDApO1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gIGNvbnN0IHNldFJhZlN0YXRlID0gdXNlQ2FsbGJhY2soKHZhbHVlKSA9PiB7XG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWUuY3VycmVudCk7XG4gICAgZnJhbWUuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBzZXRTdGF0ZSh2YWx1ZSk7XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgdXNlVW5tb3VudCgoKSA9PiB7XG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWUuY3VycmVudCk7XG4gIH0pO1xuICByZXR1cm4gW3N0YXRlLCBzZXRSYWZTdGF0ZV07XG59O1xudmFyIHVzZUxvY2FsU3RvcmFnZSA9IChrZXksIGluaXRpYWxWYWx1ZSwgb3B0aW9ucykgPT4ge1xuICBpZiAoIWlzQnJvd3NlcjIpIHtcbiAgICByZXR1cm4gW2luaXRpYWxWYWx1ZSwgbm9vcCwgbm9vcF07XG4gIH1cbiAgaWYgKCFrZXkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VMb2NhbFN0b3JhZ2Uga2V5IG1heSBub3QgYmUgZmFsc3lcIik7XG4gIH1cbiAgY29uc3QgZGVzZXJpYWxpemVyID0gb3B0aW9ucyA/IG9wdGlvbnMucmF3ID8gKHZhbHVlKSA9PiB2YWx1ZSA6IG9wdGlvbnMuZGVzZXJpYWxpemVyIDogSlNPTi5wYXJzZTtcbiAgY29uc3QgaW5pdGlhbGl6ZXIgPSB1c2VSZWYoKGtleTIpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VyaWFsaXplciA9IG9wdGlvbnMgPyBvcHRpb25zLnJhdyA/IFN0cmluZyA6IG9wdGlvbnMuc2VyaWFsaXplciA6IEpTT04uc3RyaW5naWZ5O1xuICAgICAgY29uc3QgbG9jYWxTdG9yYWdlVmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkyKTtcbiAgICAgIGlmIChsb2NhbFN0b3JhZ2VWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZGVzZXJpYWxpemVyKGxvY2FsU3RvcmFnZVZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXkyLCBzZXJpYWxpemVyKGluaXRpYWxWYWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbml0aWFsVmFsdWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGluaXRpYWxWYWx1ZTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKFxuICAgICgpID0+IGluaXRpYWxpemVyLmN1cnJlbnQoa2V5KVxuICApO1xuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4gc2V0U3RhdGUoaW5pdGlhbGl6ZXIuY3VycmVudChrZXkpKSwgW2tleV0pO1xuICBjb25zdCBzZXQgPSB1c2VDYWxsYmFjayhcbiAgICAodmFsT3JGdW5jKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHR5cGVvZiB2YWxPckZ1bmMgPT09IFwiZnVuY3Rpb25cIiA/IHZhbE9yRnVuYyhzdGF0ZSkgOiB2YWxPckZ1bmM7XG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gdm9pZCAwKSByZXR1cm47XG4gICAgICAgIGxldCB2YWx1ZTtcbiAgICAgICAgaWYgKG9wdGlvbnMpXG4gICAgICAgICAgaWYgKG9wdGlvbnMucmF3KVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdTdGF0ZSA9PT0gXCJzdHJpbmdcIikgdmFsdWUgPSBuZXdTdGF0ZTtcbiAgICAgICAgICAgIGVsc2UgdmFsdWUgPSBKU09OLnN0cmluZ2lmeShuZXdTdGF0ZSk7XG4gICAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5zZXJpYWxpemVyKSB2YWx1ZSA9IG9wdGlvbnMuc2VyaWFsaXplcihuZXdTdGF0ZSk7XG4gICAgICAgICAgZWxzZSB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KG5ld1N0YXRlKTtcbiAgICAgICAgZWxzZSB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KG5ld1N0YXRlKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgICAgIHNldFN0YXRlKGRlc2VyaWFsaXplcih2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH0sXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIFtrZXksIHNldFN0YXRlXVxuICApO1xuICBjb25zdCByZW1vdmUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICBzZXRTdGF0ZSh2b2lkIDApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICB9XG4gIH0sIFtrZXksIHNldFN0YXRlXSk7XG4gIHJldHVybiBbc3RhdGUsIHNldCwgcmVtb3ZlXTtcbn07XG52YXIgdXNlQ2xpZW50U3R5bGUgPSAoY2xpZW50U3R5bGUsIHNlcnZlclN0eWxlID0ge30pID0+IHtcbiAgY29uc3QgW2lzTW91bnRlZCwgc2V0SXNNb3VudGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRJc01vdW50ZWQodHJ1ZSk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIGlzTW91bnRlZCA/IGNsaWVudFN0eWxlIDogc2VydmVyU3R5bGU7XG59O1xuXG4vLyBzcmMvdGhpcmQtcGFydHkvY29sbGVjdGlvbi12aWV3LXRhYmxlLnRzeFxuaW1wb3J0IHsgRnJhZ21lbnQgYXMgRnJhZ21lbnQ3LCBqc3ggYXMganN4NTUsIGpzeHMgYXMganN4czE4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZGVmYXVsdEJsb2NrSWRzMyA9IFtdO1xuZnVuY3Rpb24gQ29sbGVjdGlvblZpZXdUYWJsZSh7XG4gIGNvbGxlY3Rpb24sXG4gIGNvbGxlY3Rpb25WaWV3LFxuICBjb2xsZWN0aW9uRGF0YSxcbiAgcGFkZGluZyxcbiAgd2lkdGhcbn0pIHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIGNvbnN0IGlzR3JvdXBlZENvbGxlY3Rpb24gPSAoX2EgPSBjb2xsZWN0aW9uVmlldyA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvblZpZXcuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuY29sbGVjdGlvbl9ncm91cF9ieTtcbiAgaWYgKGlzR3JvdXBlZENvbGxlY3Rpb24pIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uR3JvdXBzID0gZ2V0Q29sbGVjdGlvbkdyb3VwcyhcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBjb2xsZWN0aW9uVmlldyxcbiAgICAgIGNvbGxlY3Rpb25EYXRhLFxuICAgICAgcGFkZGluZyxcbiAgICAgIHdpZHRoXG4gICAgKTtcbiAgICByZXR1cm4gY29sbGVjdGlvbkdyb3Vwcy5tYXAoKGdyb3VwLCBpbmRleCkgPT4gLyogQF9fUFVSRV9fICovIGpzeDU1KFxuICAgICAgQ29sbGVjdGlvbkdyb3VwLFxuICAgICAge1xuICAgICAgICAuLi5ncm91cCxcbiAgICAgICAgY29sbGVjdGlvblZpZXdDb21wb25lbnQ6IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIGpzeDU1KFRhYmxlLCB7IC4uLnByb3BzLCBwYWRkaW5nLCB3aWR0aCB9KSxcbiAgICAgICAgc3VtbWFyeVByb3BzOiB7XG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBwYWRkaW5nLFxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBwYWRkaW5nXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaW5kZXhcbiAgICApKTtcbiAgfVxuICBjb25zdCBibG9ja0lkcyA9ICgoX2MgPSAoX2IgPSBjb2xsZWN0aW9uRGF0YS5jb2xsZWN0aW9uX2dyb3VwX3Jlc3VsdHMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5ibG9ja0lkcykgIT0gbnVsbCA/IF9jIDogY29sbGVjdGlvbkRhdGEuYmxvY2tJZHMpIHx8IGRlZmF1bHRCbG9ja0lkczM7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NTUoXG4gICAgVGFibGUsXG4gICAge1xuICAgICAgYmxvY2tJZHMsXG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgY29sbGVjdGlvblZpZXcsXG4gICAgICBwYWRkaW5nLFxuICAgICAgd2lkdGhcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBUYWJsZSh7XG4gIGJsb2NrSWRzID0gW10sXG4gIGNvbGxlY3Rpb24sXG4gIGNvbGxlY3Rpb25WaWV3LFxuICB3aWR0aCxcbiAgcGFkZGluZ1xufSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IHsgcmVjb3JkTWFwLCBsaW5rVGFibGVUaXRsZVByb3BlcnRpZXMgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3QgdGFibGVTdHlsZSA9IHVzZUNsaWVudFN0eWxlKFxuICAgIHtcbiAgICAgIHdpZHRoLFxuICAgICAgbWF4V2lkdGg6IHdpZHRoXG4gICAgfSxcbiAgICB7IHZpc2liaWxpdHk6IFwiaGlkZGVuXCIgfVxuICApO1xuICBjb25zdCB0YWJsZVZpZXdTdHlsZSA9IHVzZUNsaWVudFN0eWxlKHtcbiAgICBwYWRkaW5nTGVmdDogcGFkZGluZyxcbiAgICBwYWRkaW5nUmlnaHQ6IHBhZGRpbmdcbiAgfSk7XG4gIGxldCBwcm9wZXJ0aWVzID0gW107XG4gIGlmICgoX2EgPSBjb2xsZWN0aW9uVmlldy5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfYS50YWJsZV9wcm9wZXJ0aWVzKSB7XG4gICAgcHJvcGVydGllcyA9IGNvbGxlY3Rpb25WaWV3LmZvcm1hdC50YWJsZV9wcm9wZXJ0aWVzLmZpbHRlcihcbiAgICAgIChwKSA9PiBwLnZpc2libGUgJiYgY29sbGVjdGlvbi5zY2hlbWFbcC5wcm9wZXJ0eV1cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHByb3BlcnRpZXMgPSBbeyBwcm9wZXJ0eTogXCJ0aXRsZVwiIH1dLmNvbmNhdChcbiAgICAgIE9iamVjdC5rZXlzKGNvbGxlY3Rpb24uc2NoZW1hKS5maWx0ZXIoKHApID0+IHAgIT09IFwidGl0bGVcIikubWFwKChwcm9wZXJ0eSkgPT4gKHsgcHJvcGVydHkgfSkpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDU1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi10YWJsZVwiLCBzdHlsZTogdGFibGVTdHlsZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g1NShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tdGFibGUtdmlld1wiLCBzdHlsZTogdGFibGVWaWV3U3R5bGUsIGNoaWxkcmVuOiAhIXByb3BlcnRpZXMubGVuZ3RoICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTgoRnJhZ21lbnQ3LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDU1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi10YWJsZS1oZWFkZXJcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g1NShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tdGFibGUtaGVhZGVyLWlubmVyXCIsIGNoaWxkcmVuOiBwcm9wZXJ0aWVzLm1hcCgocCkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIGNvbnN0IHNjaGVtYSA9IChfYTIgPSBjb2xsZWN0aW9uLnNjaGVtYSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMltwLnByb3BlcnR5XTtcbiAgICAgIGNvbnN0IGlzVGl0bGUgPSBwLnByb3BlcnR5ID09PSBcInRpdGxlXCI7XG4gICAgICBjb25zdCBzdHlsZSA9IHt9O1xuICAgICAgaWYgKHAud2lkdGgpIHtcbiAgICAgICAgc3R5bGUud2lkdGggPSBwLndpZHRoO1xuICAgICAgfSBlbHNlIGlmIChpc1RpdGxlKSB7XG4gICAgICAgIHN0eWxlLndpZHRoID0gMjgwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGUud2lkdGggPSAyMDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDU1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi10YWJsZS10aFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDU1KFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi10YWJsZS12aWV3LWhlYWRlci1jZWxsXCIsXG4gICAgICAgICAgc3R5bGUsXG4gICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g1NShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tdGFibGUtdmlldy1oZWFkZXItY2VsbC1pbm5lclwiLCBjaGlsZHJlbjogc2NoZW1hICYmIC8qIEBfX1BVUkVfXyAqLyBqc3g1NShDb2xsZWN0aW9uQ29sdW1uVGl0bGUsIHsgc2NoZW1hIH0pIH0pXG4gICAgICAgIH1cbiAgICAgICkgfSwgcC5wcm9wZXJ0eSk7XG4gICAgfSkgfSkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDU1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5vdGlvbi10YWJsZS1oZWFkZXItcGxhY2Vob2xkZXJcIiB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4NTUoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLXRhYmxlLWJvZHlcIiwgY2hpbGRyZW46IGJsb2NrSWRzID09IG51bGwgPyB2b2lkIDAgOiBibG9ja0lkcy5tYXAoKGJsb2NrSWQpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3g1NShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tdGFibGUtcm93XCIsIGNoaWxkcmVuOiBwcm9wZXJ0aWVzLm1hcCgocCkgPT4ge1xuICAgICAgdmFyIF9hMiwgX2IsIF9jO1xuICAgICAgY29uc3Qgc2NoZW1hID0gKF9hMiA9IGNvbGxlY3Rpb24uc2NoZW1hKSA9PSBudWxsID8gdm9pZCAwIDogX2EyW3AucHJvcGVydHldO1xuICAgICAgY29uc3QgYmxvY2sgPSAoX2IgPSByZWNvcmRNYXAuYmxvY2tbYmxvY2tJZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYi52YWx1ZTtcbiAgICAgIGNvbnN0IGRhdGEgPSAoX2MgPSBibG9jayA9PSBudWxsID8gdm9pZCAwIDogYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jW3AucHJvcGVydHldO1xuICAgICAgY29uc3QgaXNUaXRsZSA9IHAucHJvcGVydHkgPT09IFwidGl0bGVcIjtcbiAgICAgIGNvbnN0IHN0eWxlID0ge307XG4gICAgICBpZiAocC53aWR0aCkge1xuICAgICAgICBzdHlsZS53aWR0aCA9IHAud2lkdGg7XG4gICAgICB9IGVsc2UgaWYgKGlzVGl0bGUpIHtcbiAgICAgICAgc3R5bGUud2lkdGggPSAyODA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZS53aWR0aCA9IDIwMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NTUoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNzKFxuICAgICAgICAgICAgXCJub3Rpb24tdGFibGUtY2VsbFwiLFxuICAgICAgICAgICAgYG5vdGlvbi10YWJsZS1jZWxsLSR7c2NoZW1hID09IG51bGwgPyB2b2lkIDAgOiBzY2hlbWEudHlwZX1gXG4gICAgICAgICAgKSxcbiAgICAgICAgICBzdHlsZSxcbiAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDU1KFxuICAgICAgICAgICAgUHJvcGVydHksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgYmxvY2ssXG4gICAgICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgIGxpbmtUb1RpdGxlUGFnZTogbGlua1RhYmxlVGl0bGVQcm9wZXJ0aWVzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICB9LFxuICAgICAgICBwLnByb3BlcnR5XG4gICAgICApO1xuICAgIH0pIH0sIGJsb2NrSWQpKSB9KVxuICBdIH0pIH0pIH0pO1xufVxuXG4vLyBzcmMvdGhpcmQtcGFydHkvY29sbGVjdGlvbi12aWV3LnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDU2IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBDb2xsZWN0aW9uVmlld0ltcGwocHJvcHMpIHtcbiAgY29uc3QgeyBjb2xsZWN0aW9uVmlldyB9ID0gcHJvcHM7XG4gIHN3aXRjaCAoY29sbGVjdGlvblZpZXcudHlwZSkge1xuICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g1NihDb2xsZWN0aW9uVmlld1RhYmxlLCB7IC4uLnByb3BzIH0pO1xuICAgIGNhc2UgXCJnYWxsZXJ5XCI6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDU2KENvbGxlY3Rpb25WaWV3R2FsbGVyeSwgeyAuLi5wcm9wcyB9KTtcbiAgICBjYXNlIFwibGlzdFwiOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g1NihDb2xsZWN0aW9uVmlld0xpc3QsIHsgLi4ucHJvcHMgfSk7XG4gICAgY2FzZSBcImJvYXJkXCI6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDU2KENvbGxlY3Rpb25WaWV3Qm9hcmQsIHsgLi4ucHJvcHMgfSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUud2FybihcInVuc3VwcG9ydGVkIGNvbGxlY3Rpb24gdmlld1wiLCBjb2xsZWN0aW9uVmlldyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxudmFyIENvbGxlY3Rpb25WaWV3ID0gUmVhY3QxOS5tZW1vKENvbGxlY3Rpb25WaWV3SW1wbCk7XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLnRzeFxuaW1wb3J0IHsgRnJhZ21lbnQgYXMgRnJhZ21lbnQ4LCBqc3ggYXMganN4NTcsIGpzeHMgYXMganN4czE5IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgaXNTZXJ2ZXIyID0gIWdsb2JhbFRoaXMud2luZG93O1xuZnVuY3Rpb24gQ29sbGVjdGlvbih7XG4gIGJsb2NrLFxuICBjbGFzc05hbWUsXG4gIGN0eDogY3R4MlxufSkge1xuICBjb25zdCBjb250ZXh0ID0gUmVhY3QyMC51c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICAuLi5jdHgyXG4gICAgfSksXG4gICAgW2N0eDJdXG4gICk7XG4gIGlmIChibG9jay50eXBlID09PSBcInBhZ2VcIikge1xuICAgIGlmIChibG9jay5wYXJlbnRfdGFibGUgIT09IFwiY29sbGVjdGlvblwiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g1NyhOb3Rpb25Db250ZXh0UHJvdmlkZXIsIHsgLi4uY29udGV4dCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g1NyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1wYWdlLXByb3BlcnRpZXNcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g1NyhcbiAgICAgIENvbGxlY3Rpb25Sb3csXG4gICAgICB7XG4gICAgICAgIGJsb2NrLFxuICAgICAgICBwYWdlSGVhZGVyOiB0cnVlLFxuICAgICAgICBjbGFzc05hbWVcbiAgICAgIH1cbiAgICApIH0pIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NTcoTm90aW9uQ29udGV4dFByb3ZpZGVyLCB7IC4uLmNvbnRleHQsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NTcoQ29sbGVjdGlvblZpZXdCbG9jaywgeyBibG9jaywgY2xhc3NOYW1lIH0pIH0pO1xuICB9XG59XG5mdW5jdGlvbiBDb2xsZWN0aW9uVmlld0Jsb2NrKHtcbiAgYmxvY2ssXG4gIGNsYXNzTmFtZVxufSkge1xuICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gIGNvbnN0IHsgcmVjb3JkTWFwLCBzaG93Q29sbGVjdGlvblZpZXdEcm9wZG93biB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBjb25zdCB7IHZpZXdfaWRzOiB2aWV3SWRzIH0gPSBibG9jaztcbiAgY29uc3QgY29sbGVjdGlvbklkID0gZ2V0QmxvY2tDb2xsZWN0aW9uSWQoYmxvY2ssIHJlY29yZE1hcCk7XG4gIGNvbnN0IFtpc01vdW50ZWQsIHNldElzTW91bnRlZF0gPSBSZWFjdDIwLnVzZVN0YXRlKGZhbHNlKTtcbiAgUmVhY3QyMC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldElzTW91bnRlZCh0cnVlKTtcbiAgfSwgW10pO1xuICBjb25zdCBkZWZhdWx0Q29sbGVjdGlvblZpZXdJZCA9IHZpZXdJZHNbMF07XG4gIGNvbnN0IFtjb2xsZWN0aW9uU3RhdGUsIHNldENvbGxlY3Rpb25TdGF0ZV0gPSB1c2VMb2NhbFN0b3JhZ2UoYmxvY2suaWQsIHtcbiAgICBjb2xsZWN0aW9uVmlld0lkOiBkZWZhdWx0Q29sbGVjdGlvblZpZXdJZFxuICB9KTtcbiAgY29uc3QgY29sbGVjdGlvblZpZXdJZCA9IGlzTW91bnRlZCAmJiB2aWV3SWRzLmZpbmQoKGlkKSA9PiBpZCAmJiBpZCA9PT0gKGNvbGxlY3Rpb25TdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvblN0YXRlLmNvbGxlY3Rpb25WaWV3SWQpKSB8fCBkZWZhdWx0Q29sbGVjdGlvblZpZXdJZDtcbiAgY29uc3Qgb25DaGFuZ2VWaWV3ID0gUmVhY3QyMC51c2VDYWxsYmFjayhcbiAgICAoY29sbGVjdGlvblZpZXdJZDIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2hhbmdlIGNvbGxlY3Rpb24gdmlld1wiLCBjb2xsZWN0aW9uVmlld0lkMik7XG4gICAgICBzZXRDb2xsZWN0aW9uU3RhdGUoe1xuICAgICAgICAuLi5jb2xsZWN0aW9uU3RhdGUsXG4gICAgICAgIGNvbGxlY3Rpb25WaWV3SWQ6IGNvbGxlY3Rpb25WaWV3SWQyXG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtjb2xsZWN0aW9uU3RhdGUsIHNldENvbGxlY3Rpb25TdGF0ZV1cbiAgKTtcbiAgbGV0IHsgd2lkdGg6IHdpbmRvd1dpZHRoIH0gPSB1c2VXaW5kb3dTaXplKCk7XG4gIGlmIChpc1NlcnZlcjIpIHtcbiAgICB3aW5kb3dXaWR0aCA9IDEwMjQ7XG4gIH1cbiAgY29uc3QgY29sbGVjdGlvbiA9IChfYSA9IHJlY29yZE1hcC5jb2xsZWN0aW9uW2NvbGxlY3Rpb25JZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS52YWx1ZTtcbiAgY29uc3QgY29sbGVjdGlvblZpZXcgPSAoX2IgPSByZWNvcmRNYXAuY29sbGVjdGlvbl92aWV3W2NvbGxlY3Rpb25WaWV3SWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2IudmFsdWU7XG4gIGNvbnN0IGNvbGxlY3Rpb25EYXRhID0gKF9jID0gcmVjb3JkTWFwLmNvbGxlY3Rpb25fcXVlcnlbY29sbGVjdGlvbklkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jW2NvbGxlY3Rpb25WaWV3SWRdO1xuICBjb25zdCBwYXJlbnRQYWdlID0gZ2V0QmxvY2tQYXJlbnRQYWdlMihibG9jaywgcmVjb3JkTWFwKTtcbiAgY29uc3QgeyB3aWR0aCwgcGFkZGluZyB9ID0gUmVhY3QyMC51c2VNZW1vKCgpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIGNvbnN0IHN0eWxlID0ge307XG4gICAgaWYgKChjb2xsZWN0aW9uVmlldyA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvblZpZXcudHlwZSkgIT09IFwidGFibGVcIiAmJiAoY29sbGVjdGlvblZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25WaWV3LnR5cGUpICE9PSBcImJvYXJkXCIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0eWxlLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgcGFkZGluZzogMFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgd2lkdGgyID0gd2luZG93V2lkdGg7XG4gICAgY29uc3QgbWF4Tm90aW9uQm9keVdpZHRoID0gNzA4O1xuICAgIGxldCBub3Rpb25Cb2R5V2lkdGggPSBtYXhOb3Rpb25Cb2R5V2lkdGg7XG4gICAgaWYgKChfYTIgPSBwYXJlbnRQYWdlID09IG51bGwgPyB2b2lkIDAgOiBwYXJlbnRQYWdlLmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5wYWdlX2Z1bGxfd2lkdGgpIHtcbiAgICAgIG5vdGlvbkJvZHlXaWR0aCA9IE1hdGgudHJ1bmMod2lkdGgyIC0gMiAqIE1hdGgubWluKDk2LCB3aWR0aDIgKiAwLjA4KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vdGlvbkJvZHlXaWR0aCA9IHdpZHRoMiA8IG1heE5vdGlvbkJvZHlXaWR0aCA/IE1hdGgudHJ1bmMod2lkdGgyIC0gd2lkdGgyICogMC4wMikgOiBtYXhOb3Rpb25Cb2R5V2lkdGg7XG4gICAgfVxuICAgIGNvbnN0IHBhZGRpbmcyID0gaXNTZXJ2ZXIyICYmICFpc01vdW50ZWQgPyA5NiA6IE1hdGgudHJ1bmMoKHdpZHRoMiAtIG5vdGlvbkJvZHlXaWR0aCkgLyAyKTtcbiAgICBzdHlsZS5wYWRkaW5nTGVmdCA9IHBhZGRpbmcyO1xuICAgIHN0eWxlLnBhZGRpbmdSaWdodCA9IHBhZGRpbmcyO1xuICAgIHJldHVybiB7XG4gICAgICBzdHlsZSxcbiAgICAgIHdpZHRoOiB3aWR0aDIsXG4gICAgICBwYWRkaW5nOiBwYWRkaW5nMlxuICAgIH07XG4gIH0sIFt3aW5kb3dXaWR0aCwgcGFyZW50UGFnZSwgY29sbGVjdGlvblZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25WaWV3LnR5cGUsIGlzTW91bnRlZF0pO1xuICBpZiAoIShjb2xsZWN0aW9uICYmIGNvbGxlY3Rpb25WaWV3ICYmIGNvbGxlY3Rpb25EYXRhKSkge1xuICAgIGNvbnNvbGUud2FybihcInNraXBwaW5nIG1pc3NpbmcgY29sbGVjdGlvbiB2aWV3IGZvciBibG9ja1wiLCBibG9jay5pZCwge1xuICAgICAgY29sbGVjdGlvbklkLFxuICAgICAgY29sbGVjdGlvblZpZXdJZCxcbiAgICAgIGNvbGxlY3Rpb25WaWV3LFxuICAgICAgY29sbGVjdGlvbkRhdGEsXG4gICAgICByZWNvcmRNYXBcbiAgICB9KTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCB0aXRsZSA9IGdldFRleHRDb250ZW50NChjb2xsZWN0aW9uLm5hbWUpLnRyaW0oKTtcbiAgY29uc3Qgc2hvd1RpdGxlID0gKChfZCA9IGNvbGxlY3Rpb25WaWV3LmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmhpZGVfbGlua2VkX2NvbGxlY3Rpb25fbmFtZSkgIT09IHRydWUgJiYgdGl0bGU7XG4gIGlmIChjb2xsZWN0aW9uLmljb24pIHtcbiAgICBibG9jay5mb3JtYXQgPSB7XG4gICAgICAuLi5ibG9jay5mb3JtYXQsXG4gICAgICBwYWdlX2ljb246IGNvbGxlY3Rpb24uaWNvblxuICAgIH07XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTkoRnJhZ21lbnQ4LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHMxOShcImRpdlwiLCB7IGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4NTcoXCJkaXZcIiwgeyBjaGlsZHJlbjogdmlld0lkcy5sZW5ndGggPiAxICYmIHNob3dDb2xsZWN0aW9uVmlld0Ryb3Bkb3duICYmIC8qIEBfX1BVUkVfXyAqLyBqc3g1NyhcbiAgICAgICAgQ29sbGVjdGlvblZpZXdUYWJzLFxuICAgICAgICB7XG4gICAgICAgICAgY29sbGVjdGlvblZpZXdJZCxcbiAgICAgICAgICB2aWV3SWRzLFxuICAgICAgICAgIG9uQ2hhbmdlVmlld1xuICAgICAgICB9XG4gICAgICApIH0pLFxuICAgICAgc2hvd1RpdGxlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3g1NyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1oZWFkZXJcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzMTkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24taGVhZGVyLXRpdGxlXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g1NyhcbiAgICAgICAgICBQYWdlSWNvbixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBibG9jayxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tcGFnZS10aXRsZS1pY29uXCIsXG4gICAgICAgICAgICBoaWRlRGVmYXVsdEljb246IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIHRpdGxlXG4gICAgICBdIH0pIH0pXG4gICAgXSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4NTcoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNzKFwibm90aW9uLWNvbGxlY3Rpb25cIiwgY2xhc3NOYW1lKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g1NyhcbiAgICAgIENvbGxlY3Rpb25WaWV3LFxuICAgICAge1xuICAgICAgICBjb2xsZWN0aW9uLFxuICAgICAgICBjb2xsZWN0aW9uVmlldyxcbiAgICAgICAgY29sbGVjdGlvbkRhdGEsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIHdpZHRoXG4gICAgICB9XG4gICAgKSB9KVxuICBdIH0pO1xufVxuZnVuY3Rpb24gQ29sbGVjdGlvblZpZXdUYWJzKHtcbiAgY29sbGVjdGlvblZpZXdJZCxcbiAgdmlld0lkcyxcbiAgb25DaGFuZ2VWaWV3XG59KSB7XG4gIGNvbnN0IHsgcmVjb3JkTWFwIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NTcoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24tdmlldy10YWJzLXJvd1wiLCBjaGlsZHJlbjogdmlld0lkcy5tYXAoKHZpZXdJZCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDU3KFxuICAgICAgXCJidXR0b25cIixcbiAgICAgIHtcbiAgICAgICAgb25DbGljazogKCkgPT4gb25DaGFuZ2VWaWV3KHZpZXdJZCksXG4gICAgICAgIGNsYXNzTmFtZTogY3MoXG4gICAgICAgICAgXCJub3Rpb24tY29sbGVjdGlvbi12aWV3LXRhYnMtY29udGVudC1pdGVtXCIsXG4gICAgICAgICAgY29sbGVjdGlvblZpZXdJZCA9PT0gdmlld0lkICYmIFwibm90aW9uLWNvbGxlY3Rpb24tdmlldy10YWJzLWNvbnRlbnQtaXRlbS1hY3RpdmVcIlxuICAgICAgICApLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDU3KFxuICAgICAgICAgIENvbGxlY3Rpb25WaWV3Q29sdW1uRGVzYyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uVmlldzogKF9hID0gcmVjb3JkTWFwLmNvbGxlY3Rpb25fdmlld1t2aWV3SWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgICB2aWV3SWRcbiAgICApO1xuICB9KSB9KTtcbn1cbmZ1bmN0aW9uIENvbGxlY3Rpb25WaWV3Q29sdW1uRGVzYyh7XG4gIGNvbGxlY3Rpb25WaWV3LFxuICBjbGFzc05hbWUsXG4gIGNoaWxkcmVuLFxuICAuLi5yZXN0XG59KSB7XG4gIGlmICghY29sbGVjdGlvblZpZXcpIHJldHVybiBudWxsO1xuICBjb25zdCB7IHR5cGUgfSA9IGNvbGxlY3Rpb25WaWV3O1xuICBjb25zdCBuYW1lID0gY29sbGVjdGlvblZpZXcubmFtZSB8fCBgJHt0eXBlWzBdLnRvVXBwZXJDYXNlKCl9JHt0eXBlLnNsaWNlKDEpfSB2aWV3YDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNzKFwibm90aW9uLWNvbGxlY3Rpb24tdmlldy10eXBlXCIsIGNsYXNzTmFtZSksIC4uLnJlc3QsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDU3KFxuICAgICAgQ29sbGVjdGlvblZpZXdJY29uLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24tdmlldy10eXBlLWljb25cIixcbiAgICAgICAgdHlwZVxuICAgICAgfVxuICAgICksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDU3KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi12aWV3LXR5cGUtdGl0bGVcIiwgY2hpbGRyZW46IG5hbWUgfSksXG4gICAgY2hpbGRyZW5cbiAgXSB9KTtcbn1cbmV4cG9ydCB7XG4gIENvbGxlY3Rpb24sXG4gIFByb3BlcnR5SW1wbE1lbW8gYXMgUHJvcGVydHlcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xsZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-notion-x/build/third-party/collection.js\n"));

/***/ })

}]);